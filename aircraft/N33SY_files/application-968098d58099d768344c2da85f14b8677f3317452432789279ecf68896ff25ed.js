function __guard__(t,e){return null!=t?e(t):void 0}function __guardMethod__(t,e,n){return null!=t&&"function"==typeof t[e]?n(t,e):void 0}function makeeditor(t){function e(){var t=o[0],e=l.getValue();e.length&&o.length>0&&(t.innerHTML=e.match(/\S+/g).length+" words")}function n(){var t=r.find("p").filter((function(){return/^(?:\{<(.*?)>\})?!(?:\[([^\n\]]*)\])(?:\(([^\n\]]*)\))?$/gim.test($(this).text())}));$(t).each((function(t){var e=t,n=$(this),i=n.text();try{!function(){var t="<div class='dz-message'><span class='dz-icon'></span><br/>Add image of <b>"+/\!\[([\w\d ]*)\]/.exec(i)[1]+"</b></p>";n.html(""),n.append(t),n.dropzone({url:s,paramName:"attachment[file]",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},success:function(t,i){var r=$(t.previewElement).closest("p"),o=($(".CodeMirror-code").find("pre").filter((function(){return/(?:\{<(.*?)>\})?!(?:\[([^\n\]]*)\])(?:\(([^\n\]]*)\))?$/gim.test(n.text())&&0===n.find("span").length})),l.getValue()),s=0,a=o.replace(/(?:\{<(.*?)>\})?!(?:\[([^\n\]]*)\])(:\(([^\n\]]*)\))?$/gim,(function(t){return++s===e+1?t+"("+i.path+")":t}));l.setValue(a),r.removeClass("dropzone").html('<img src="'+i.path+'"/>')}}).addClass("dropzone")}()}catch(t){}}))}function i(){var t=r[0];t.innerHTML=a.makeHtml(l.getValue()),n(t.innerHTML),e()}var r=$(t.data().preview),o=$(t.data().wordcount),s=t.data("url");if(t&&r){var a=new showdown.Converter({simplifiedAutoLink:!0,tables:!0,ghCodeBlocks:!0}),l=CodeMirror.fromTextArea(t[0],{mode:"markdown",tabMode:"indent",lineWrapping:!0});$(document).ready((function(){function t(t){var e=$(t.target),n=$(".entry-preview-content"),i=$(".CodeMirror-sizer"),r=$(".rendered-markdown"),o=i.height()-e.height(),s=(r.height()-n.height())/o,a=e.scrollTop()*s;n.scrollTop(a)}$(".entry-markdown header, .entry-preview header").click((function(t){$(".entry-markdown, .entry-preview").removeClass("active"),$(t.target).closest("section").addClass("active")})),l.on("change",(function(){i()})),i(),$(".CodeMirror-scroll").on("scroll",t),$(".CodeMirror-scroll").scroll((function(){$(".CodeMirror-scroll").scrollTop()>10?$(".entry-markdown").addClass("scrolling"):$(".entry-markdown").removeClass("scrolling")})),$(".entry-preview-content").scroll((function(){$(".entry-preview-content").scrollTop()>10?$(".entry-preview").addClass("scrolling"):$(".entry-preview").removeClass("scrolling")}))}))}}function BestInPlaceEditor(t){"use strict";this.element=t,this.initOptions(),this.bindForm(),this.initPlaceHolder(),jQuery(this.activator).bind("click",{editor:this},this.clickHandler)}function draw_clocks(){}function clock(canvasid,slots,amcolor,pmcolor){void 0===amcolor&&(amcolor="#f08a24"),void 0===pmcolor&&(pmcolor="#43ac6a"),canvas=document.getElementById(canvasid);for(var context=canvas.getContext("2d"),x=canvas.width/2,y=canvas.height/2,radius=canvas.width/4,counterClockwise=!1,color=amcolor,i=0;i<slots.length;i++){var slot=slots[i],startAngle=(15*slot[0]-180)*Math.PI/180,endAngle=(15*slot[1]-180)*Math.PI/180;eval(slot[0])>=12&&(color=pmcolor),context.lineWidth=1,context.beginPath(),context.arc(x,y,radius,startAngle,endAngle,counterClockwise),context.lineTo(x,y),context.closePath(),context.fillStyle=color,context.fill(),context.lineWidth=8,context.beginPath(),context.arc(x,y,radius,startAngle,endAngle,counterClockwise),context.strokeStyle=color,context.stroke(),annotate_arc(context,x,y,startAngle,radius+5,slot[2],"top"),annotate_arc(context,x,y,endAngle,radius+5,slot[3],"bottom")}context.strokeStyle=amcolor,context.fillStyle="#f8e896",context.lineWidth=1,context.beginPath(),context.arc(x,y,radius/2,0,Math.PI,!0),context.closePath(),context.fill(),context.stroke(),context.strokeStyle=pmcolor,context.fillStyle="#b9e4c9",context.lineWidth=1,context.beginPath(),context.arc(x,y,radius/2,0,Math.PI,!1),context.closePath(),context.fill(),context.stroke(),context.strokeStyle=amcolor,context.fillStyle=amcolor,context.textAlign="center",context.fillText("AM",x,y-2),context.strokeStyle=pmcolor,context.fillStyle=pmcolor,context.fillText("PM",x,y+8)}function annotate_arc(t,e,n,i,r,o,s){t.save(),t.textBaseline=s,t.translate(e,n),t.save(),t.rotate(i),t.translate(r,0),t.font="7pt Sans",t.strokeStyle="#000000",t.fillStyle="#000000",t.fillText(o,0,0),t.restore(),t.restore()}function show_loader(){$("#loader").show()}function hide_loader(){$("#loader").hide()}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,(function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=ft.type(t);return"function"!==n&&!ft.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t,e,n){if(ft.isFunction(e))return ft.grep(t,(function(t,i){return!!e.call(t,i,t)!==n}));if(e.nodeType)return ft.grep(t,(function(t){return t===e!==n}));if("string"==typeof e){if(_t.test(e))return ft.filter(e,t,n);e=ft.filter(e,t)}return ft.grep(t,(function(t){return ft.inArray(t,e)>-1!==n}))}function r(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}function o(t){var e={};return ft.each(t.match(At)||[],(function(t,n){e[n]=!0})),e}function s(){it.addEventListener?(it.removeEventListener("DOMContentLoaded",a),t.removeEventListener("load",a)):(it.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(it.addEventListener||"load"===t.event.type||"complete"===it.readyState)&&(s(),ft.ready())}function l(t,e,n){if(void 0===n&&1===t.nodeType){var i="data-"+e.replace(It,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Lt.test(n)?ft.parseJSON(n):n)}catch(t){}ft.data(t,e,n)}else n=void 0}return n}function c(t){var e;for(e in t)if(("data"!==e||!ft.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function u(t,e,n,i){if(Pt(t)){var r,o,s=ft.expando,a=t.nodeType,l=a?ft.cache:t,c=a?t[s]:t[s]&&s;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof e)return c||(c=a?t[s]=nt.pop()||ft.guid++:s),l[c]||(l[c]=a?{}:{toJSON:ft.noop}),"object"!=typeof e&&"function"!=typeof e||(i?l[c]=ft.extend(l[c],e):l[c].data=ft.extend(l[c].data,e)),o=l[c],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[ft.camelCase(e)]=n),"string"==typeof e?null==(r=o[e])&&(r=o[ft.camelCase(e)]):r=o,r}}function d(t,e,n){if(Pt(t)){var i,r,o=t.nodeType,s=o?ft.cache:t,a=o?t[ft.expando]:ft.expando;if(s[a]){if(e&&(i=n?s[a]:s[a].data)){r=(e=ft.isArray(e)?e.concat(ft.map(e,ft.camelCase)):e in i||(e=ft.camelCase(e))in i?[e]:e.split(" ")).length;for(;r--;)delete i[e[r]];if(n?!c(i):!ft.isEmptyObject(i))return}(n||(delete s[a].data,c(s[a])))&&(o?ft.cleanData([t],!0):dt.deleteExpando||s!=s.window?delete s[a]:s[a]=void 0)}}}function h(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return ft.css(t,e,"")},l=a(),c=n&&n[3]||(ft.cssNumber[e]?"":"px"),u=(ft.cssNumber[e]||"px"!==c&&+l)&&zt.exec(ft.css(t,e));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do{u/=o=o||".5",ft.style(t,e,u+c)}while(o!==(o=a()/l)&&1!==o&&--s)}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}function f(t){var e=Ut.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function p(t,e){var n,i,r=0,o=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],n=t.childNodes||t;null!=(i=n[r]);r++)!e||ft.nodeName(i,e)?o.push(i):ft.merge(o,p(i,e));return void 0===e||e&&ft.nodeName(t,e)?ft.merge([t],o):o}function g(t,e){for(var n,i=0;null!=(n=t[i]);i++)ft._data(n,"globalEval",!e||ft._data(e[i],"globalEval"))}function m(t){Wt.test(t.type)&&(t.defaultChecked=t.checked)}function v(t,e,n,i,r){for(var o,s,a,l,c,u,d,h=t.length,v=f(e),y=[],b=0;b<h;b++)if((s=t[b])||0===s)if("object"===ft.type(s))ft.merge(y,s.nodeType?[s]:s);else if(Xt.test(s)){for(l=l||v.appendChild(e.createElement("div")),c=(Yt.exec(s)||["",""])[1].toLowerCase(),d=Gt[c]||Gt._default,l.innerHTML=d[1]+ft.htmlPrefilter(s)+d[2],o=d[0];o--;)l=l.lastChild;if(!dt.leadingWhitespace&&Vt.test(s)&&y.push(e.createTextNode(Vt.exec(s)[0])),!dt.tbody)for(o=(s="table"!==c||Qt.test(s)?"<table>"!==d[1]||Qt.test(s)?0:l:l.firstChild)&&s.childNodes.length;o--;)ft.nodeName(u=s.childNodes[o],"tbody")&&!u.childNodes.length&&s.removeChild(u);for(ft.merge(y,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else y.push(e.createTextNode(s));for(l&&v.removeChild(l),dt.appendChecked||ft.grep(p(y,"input"),m),b=0;s=y[b++];)if(i&&ft.inArray(s,i)>-1)r&&r.push(s);else if(a=ft.contains(s.ownerDocument,s),l=p(v.appendChild(s),"script"),a&&g(l),n)for(o=0;s=l[o++];)qt.test(s.type||"")&&n.push(s);return l=null,v}function y(){return!0}function b(){return!1}function w(){try{return it.activeElement}catch(t){}}function x(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)x(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=b;else if(!r)return t;return 1===o&&(s=r,r=function(t){return ft().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ft.guid++)),t.each((function(){ft.event.add(this,e,r,i,n)}))}function C(t,e){return ft.nodeName(t,"table")&&ft.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function _(t){return t.type=(null!==ft.find.attr(t,"type"))+"/"+t.type,t}function k(t){var e=ae.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function S(t,e){if(1===e.nodeType&&ft.hasData(t)){var n,i,r,o=ft._data(t),s=ft._data(e,o),a=o.events;if(a)for(n in delete s.handle,s.events={},a)for(i=0,r=a[n].length;i<r;i++)ft.event.add(e,n,a[n][i]);s.data&&(s.data=ft.extend({},s.data))}}function T(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!dt.noCloneEvent&&e[ft.expando]){for(i in(r=ft._data(e)).events)ft.removeEvent(e,i,r.handle);e.removeAttribute(ft.expando)}"script"===n&&e.text!==t.text?(_(e).text=t.text,k(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),dt.html5Clone&&t.innerHTML&&!ft.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Wt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function D(t,e,n,i){e=ot.apply([],e);var r,o,s,a,l,c,u=0,d=t.length,h=d-1,f=e[0],g=ft.isFunction(f);if(g||d>1&&"string"==typeof f&&!dt.checkClone&&se.test(f))return t.each((function(r){var o=t.eq(r);g&&(e[0]=f.call(this,r,o.html())),D(o,e,n,i)}));if(d&&(r=(c=v(e,t[0].ownerDocument,!1,t,i)).firstChild,1===c.childNodes.length&&(c=r),r||i)){for(s=(a=ft.map(p(c,"script"),_)).length;u<d;u++)o=c,u!==h&&(o=ft.clone(o,!0,!0),s&&ft.merge(a,p(o,"script"))),n.call(t[u],o,u);if(s)for(l=a[a.length-1].ownerDocument,ft.map(a,k),u=0;u<s;u++)o=a[u],qt.test(o.type||"")&&!ft._data(o,"globalEval")&&ft.contains(l,o)&&(o.src?ft._evalUrl&&ft._evalUrl(o.src):ft.globalEval((o.text||o.textContent||o.innerHTML||"").replace(le,"")));c=r=null}return t}function E(t,e,n){for(var i,r=e?ft.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||ft.cleanData(p(i)),i.parentNode&&(n&&ft.contains(i.ownerDocument,i)&&g(p(i,"script")),i.parentNode.removeChild(i));return t}function M(t,e){var n=ft(e.createElement(t)).appendTo(e.body),i=ft.css(n[0],"display");return n.detach(),i}function A(t){var e=it,n=de[t];return n||("none"!==(n=M(t,e))&&n||((e=((ue=(ue||ft("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||ue[0].contentDocument).document).write(),e.close(),n=M(t,e),ue.detach()),de[t]=n),n}function O(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function P(t){if(t in Te)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=Se.length;n--;)if((t=Se[n]+e)in Te)return t}function L(t,e){for(var n,i,r,o=[],s=0,a=t.length;s<a;s++)(i=t[s]).style&&(o[s]=ft._data(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&jt(i)&&(o[s]=ft._data(i,"olddisplay",A(i.nodeName)))):(r=jt(i),(n&&"none"!==n||!r)&&ft._data(i,"olddisplay",r?n:ft.css(i,"display"))));for(s=0;s<a;s++)(i=t[s]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function I(t,e,n){var i=Ce.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function $(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=ft.css(t,n+Bt[o],!0,r)),i?("content"===n&&(s-=ft.css(t,"padding"+Bt[o],!0,r)),"margin"!==n&&(s-=ft.css(t,"border"+Bt[o]+"Width",!0,r))):(s+=ft.css(t,"padding"+Bt[o],!0,r),"padding"!==n&&(s+=ft.css(t,"border"+Bt[o]+"Width",!0,r)));return s}function F(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=me(t),s=dt.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(((r=ve(t,e,o))<0||null==r)&&(r=t.style[e]),fe.test(r))return r;i=s&&(dt.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+$(t,e,n||(s?"border":"content"),i,o)+"px"}function H(t,e,n,i,r){return new H.prototype.init(t,e,n,i,r)}function N(){return t.setTimeout((function(){De=void 0})),De=ft.now()}function z(t,e){var n,i={height:t},r=0;for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=Bt[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function B(t,e,n){for(var i,r=(W.tweeners[e]||[]).concat(W.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function j(t,e,n){var i,r,o,s,a,l,c,u=this,d={},h=t.style,f=t.nodeType&&jt(t),p=ft._data(t,"fxshow");for(i in n.queue||(null==(a=ft._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always((function(){u.always((function(){a.unqueued--,ft.queue(t,"fx").length||a.empty.fire()}))}))),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=ft.css(t,"display"))?ft._data(t,"olddisplay")||A(t.nodeName):c)&&"none"===ft.css(t,"float")&&(dt.inlineBlockNeedsLayout&&"inline"!==A(t.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",dt.shrinkWrapBlocks()||u.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),e)if(r=e[i],Me.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!p||void 0===p[i])continue;f=!0}d[i]=p&&p[i]||ft.style(t,i)}else c=void 0;if(ft.isEmptyObject(d))"inline"===("none"===c?A(t.nodeName):c)&&(h.display=c);else for(i in p?"hidden"in p&&(f=p.hidden):p=ft._data(t,"fxshow",{}),o&&(p.hidden=!f),f?ft(t).show():u.done((function(){ft(t).hide()})),u.done((function(){var e;for(e in ft._removeData(t,"fxshow"),d)ft.style(t,e,d[e])})),d)s=B(f?p[i]:0,i,u),i in p||(p[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}function R(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=ft.camelCase(n)],o=t[n],ft.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=ft.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}function W(t,e,n){var i,r,o=0,s=W.prefilters.length,a=ft.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var e=De||N(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(i);return a.notifyWith(t,[c,i,n]),i<1&&s?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:ft.extend({},e),opts:ft.extend(!0,{specialEasing:{},easing:ft.easing._default},n),originalProperties:e,originalOptions:n,startTime:De||N(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ft.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),u=c.props;for(R(u,c.opts.specialEasing);o<s;o++)if(i=W.prefilters[o].call(c,t,u,c.opts))return ft.isFunction(i.stop)&&(ft._queueHooks(c.elem,c.opts.queue).stop=ft.proxy(i.stop,i)),i;return ft.map(u,B,c),ft.isFunction(c.opts.start)&&c.opts.start.call(t,c),ft.fx.timer(ft.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function Y(t){return ft.attr(t,"class")||""}function q(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(At)||[];if(ft.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function V(t,e,n,i){function r(a){var l;return o[a]=!0,ft.each(t[a]||[],(function(t,a){var c=a(e,n,i);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)})),l}var o={},s=t===tn;return r(e.dataTypes[0])||!o["*"]&&r("*")}function U(t,e){var n,i,r=ft.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&ft.extend(!0,t,n),t}function G(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in n)o=l[0];else{for(s in n){if(!l[0]||t.converters[s+" "+l[0]]){o=s;break}i||(i=s)}o=o||i}if(o)return o!==l[0]&&l.unshift(o),n[o]}function X(t,e,n,i){var r,o,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function Q(t){return t.style&&t.style.display||ft.css(t,"display")}function K(t){if(!ft.contains(t.ownerDocument||it,t))return!0;for(;t&&1===t.nodeType;){if("none"===Q(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function Z(t,e,n,i){var r;if(ft.isArray(e))ft.each(e,(function(e,r){n||sn.test(t)?i(t,r):Z(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)}));else if(n||"object"!==ft.type(e))i(t,e);else for(r in e)Z(t+"["+r+"]",e[r],n,i)}function J(){try{return new t.XMLHttpRequest}catch(t){}}function tt(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function et(t){return ft.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var nt=[],it=t.document,rt=nt.slice,ot=nt.concat,st=nt.push,at=nt.indexOf,lt={},ct=lt.toString,ut=lt.hasOwnProperty,dt={},ht="1.12.4",ft=function(t,e){return new ft.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gt=/^-ms-/,mt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};ft.fn=ft.prototype={jquery:ht,constructor:ft,selector:"",length:0,toArray:function(){return rt.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:rt.call(this)},pushStack:function(t){var e=ft.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ft.each(this,t)},map:function(t){return this.pushStack(ft.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:st,sort:nt.sort,splice:nt.splice},ft.extend=ft.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||ft.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(r=arguments[a]))for(i in r)t=s[i],s!==(n=r[i])&&(c&&n&&(ft.isPlainObject(n)||(e=ft.isArray(n)))?(e?(e=!1,o=t&&ft.isArray(t)?t:[]):o=t&&ft.isPlainObject(t)?t:{},s[i]=ft.extend(c,o,n)):void 0!==n&&(s[i]=n));return s},ft.extend({expando:"jQuery"+(ht+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ft.type(t)},isArray:Array.isArray||function(t){return"array"===ft.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!ft.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ft.type(t)||t.nodeType||ft.isWindow(t))return!1;try{if(t.constructor&&!ut.call(t,"constructor")&&!ut.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(!dt.ownFirst)for(e in t)return ut.call(t,e);for(e in t);return void 0===e||ut.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ct.call(t)]||"object":typeof t},globalEval:function(e){e&&ft.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(gt,"ms-").replace(mt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,r=0;if(n(t))for(i=t.length;r<i&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?ft.merge(i,"string"==typeof t?[t]:t):st.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(at)return at.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;)t[r++]=e[i++];if(n!=n)for(;void 0!==e[i];)t[r++]=e[i++];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,i){var r,o,s=0,a=[];if(n(t))for(r=t.length;s<r;s++)null!=(o=e(t[s],s,i))&&a.push(o);else for(s in t)null!=(o=e(t[s],s,i))&&a.push(o);return ot.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(r=t[e],e=t,t=r),ft.isFunction(t))return n=rt.call(arguments,2),i=function(){return t.apply(e||this,n.concat(rt.call(arguments)))},i.guid=t.guid=t.guid||ft.guid++,i},now:function(){return+new Date},support:dt}),"function"==typeof Symbol&&(ft.fn[Symbol.iterator]=nt[Symbol.iterator]),ft.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){lt["[object "+e+"]"]=e.toLowerCase()}));var yt=function(t){function e(t,e,n,i){var r,o,s,a,l,c,d,f,p=e&&e.ownerDocument,g=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return n;if(!i&&((e?e.ownerDocument||e:B)!==P&&O(e),e=e||P,I)){if(11!==g&&(c=vt.exec(t)))if(r=c[1]){if(9===g){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(p&&(s=p.getElementById(r))&&N(e,s)&&s.id===r)return n.push(s),n}else{if(c[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((r=c[3])&&x.getElementsByClassName&&e.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(r)),n}if(x.qsa&&!q[t+" "]&&(!$||!$.test(t))){if(1!==g)p=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(bt,"\\$&"):e.setAttribute("id",a=z),o=(d=S(t)).length,l=ht.test(a)?"#"+a:"[id='"+a+"']";o--;)d[o]=l+" "+h(d[o]);f=d.join(","),p=yt.test(t)&&u(e.parentNode)||e}if(f)try{return Z.apply(n,p.querySelectorAll(f)),n}catch(t){}finally{a===z&&e.removeAttribute("id")}}}return D(t.replace(at,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>C.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[z]=!0,t}function r(t){var e=P.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)C.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||U)-(~t.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return i((function(e){return e=+e,i((function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))}))}))}function u(t){return t&&void 0!==t.getElementsByTagName&&t}function d(){}function h(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=R++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,c,u=[j,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if((a=(l=(c=e[z]||(e[z]={}))[e.uniqueID]||(c[e.uniqueID]={}))[i])&&a[0]===j&&a[1]===o)return u[2]=a[2];if(l[i]=u,u[2]=t(e,n,s))return!0}}}function p(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}function m(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,c=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),c&&e.push(a)));return s}function v(t,e,n,r,o,s){return r&&!r[z]&&(r=v(r)),o&&!o[z]&&(o=v(o,s)),i((function(i,s,a,l){var c,u,d,h=[],f=[],p=s.length,v=i||g(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?v:m(v,h,t,a,l),b=n?o||(i?t:p||r)?[]:s:y;if(n&&n(y,b,a,l),r)for(c=m(b,f),r(c,[],a,l),u=c.length;u--;)(d=c[u])&&(b[f[u]]=!(y[f[u]]=d));if(i){if(o||t){if(o){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);o(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=o?tt(i,d):h[u])>-1&&(i[c]=!(s[c]=d))}}else b=m(b===s?b.splice(p,b.length):b),o?o(null,s,b,l):Z.apply(s,b)}))}function y(t){for(var e,n,i,r=t.length,o=C.relative[t[0].type],s=o||C.relative[" "],a=o?1:0,l=f((function(t){return t===e}),s,!0),c=f((function(t){return tt(e,t)>-1}),s,!0),u=[function(t,n,i){var r=!o&&(i||n!==E)||((e=n).nodeType?l(t,n,i):c(t,n,i));return e=null,r}];a<r;a++)if(n=C.relative[t[a].type])u=[f(p(u),n)];else{if((n=C.filter[t[a].type].apply(null,t[a].matches))[z]){for(i=++a;i<r&&!C.relative[t[i].type];i++);return v(a>1&&p(u),a>1&&h(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,a<i&&y(t.slice(a,i)),i<r&&y(t=t.slice(i)),i<r&&h(t))}u.push(n)}return p(u)}function b(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,l,c){var u,d,h,f=0,p="0",g=i&&[],v=[],y=E,b=i||o&&C.find.TAG("*",c),w=j+=null==y?1:Math.random()||.1,x=b.length;for(c&&(E=s===P||s||c);p!==x&&null!=(u=b[p]);p++){if(o&&u){for(d=0,s||u.ownerDocument===P||(O(u),a=!I);h=t[d++];)if(h(u,s||P,a)){l.push(u);break}c&&(j=w)}r&&((u=!h&&u)&&f--,i&&g.push(u))}if(f+=p,r&&p!==f){for(d=0;h=n[d++];)h(g,v,s,a);if(i){if(f>0)for(;p--;)g[p]||v[p]||(v[p]=Q.call(l));v=m(v)}Z.apply(l,v),c&&!i&&v.length>0&&f+n.length>1&&e.uniqueSort(l)}return c&&(j=w,E=y),g};return r?i(s):s}var w,x,C,_,k,S,T,D,E,M,A,O,P,L,I,$,F,H,N,z="sizzle"+1*new Date,B=t.document,j=0,R=0,W=n(),Y=n(),q=n(),V=function(t,e){return t===e&&(A=!0),0},U=1<<31,G={}.hasOwnProperty,X=[],Q=X.pop,K=X.push,Z=X.push,J=X.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ut=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(ot),ht=new RegExp("^"+it+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),xt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ct=function(){O()};try{Z.apply(X=J.call(B.childNodes),B.childNodes),X[B.childNodes.length].nodeType}catch(t){Z={apply:X.length?function(t,e){K.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(w in x=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},O=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:B;return i!==P&&9===i.nodeType&&i.documentElement?(L=(P=i).documentElement,I=!k(P),(n=P.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),x.attributes=r((function(t){return t.className="i",!t.getAttribute("className")})),x.getElementsByTagName=r((function(t){return t.appendChild(P.createComment("")),!t.getElementsByTagName("*").length})),x.getElementsByClassName=mt.test(P.getElementsByClassName),x.getById=r((function(t){return L.appendChild(t).id=z,!P.getElementsByName||!P.getElementsByName(z).length})),x.getById?(C.find.ID=function(t,e){if(void 0!==e.getElementById&&I){var n=e.getElementById(t);return n?[n]:[]}},C.filter.ID=function(t){var e=t.replace(wt,xt);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(wt,xt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),C.find.TAG=x.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},C.find.CLASS=x.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&I)return e.getElementsByClassName(t)},F=[],$=[],(x.qsa=mt.test(P.querySelectorAll))&&(r((function(t){L.appendChild(t).innerHTML="<a id='"+z+"'></a><select id='"+z+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&$.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||$.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+z+"-]").length||$.push("~="),t.querySelectorAll(":checked").length||$.push(":checked"),t.querySelectorAll("a#"+z+"+*").length||$.push(".#.+[+~]")})),r((function(t){var e=P.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&$.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||$.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),$.push(",.*:")}))),(x.matchesSelector=mt.test(H=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&r((function(t){x.disconnectedMatch=H.call(t,"div"),H.call(t,"[s!='']:x"),F.push("!=",ot)})),$=$.length&&new RegExp($.join("|")),F=F.length&&new RegExp(F.join("|")),e=mt.test(L.compareDocumentPosition),N=e||mt.test(L.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return A=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===P||t.ownerDocument===B&&N(B,t)?-1:e===P||e.ownerDocument===B&&N(B,e)?1:M?tt(M,t)-tt(M,e):0:4&n?-1:1)}:function(t,e){if(t===e)return A=!0,0
;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],l=[e];if(!r||!o)return t===P?-1:e===P?1:r?-1:o?1:M?tt(M,t)-tt(M,e):0;if(r===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?s(a[i],l[i]):a[i]===B?-1:l[i]===B?1:0},P):P},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==P&&O(t),n=n.replace(ut,"='$1']"),x.matchesSelector&&I&&!q[n+" "]&&(!F||!F.test(n))&&(!$||!$.test(n)))try{var i=H.call(t,n);if(i||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,P,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==P&&O(t),N(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==P&&O(t);var n=C.attrHandle[e.toLowerCase()],i=n&&G.call(C.attrHandle,e.toLowerCase())?n(t,e,!I):void 0;return void 0!==i?i:x.attributes||!I?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(A=!x.detectDuplicates,M=!x.sortStable&&t.slice(0),t.sort(V),A){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return M=null,t},_=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=_(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=_(e);return n},C=e.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&W(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(st," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,d,h,f,p,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(b=(f=(c=(u=(d=(h=m)[z]||(h[z]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===j&&c[1])&&c[2],h=f&&m.childNodes[f];h=++f&&h&&h[g]||(b=f=0)||p.pop();)if(1===h.nodeType&&++b&&h===e){u[t]=[j,f,b];break}}else if(y&&(b=f=(c=(u=(d=(h=e)[z]||(h[z]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===j&&c[1]),!1===b)for(;(h=++f&&h&&h[g]||(b=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&((u=(d=h[z]||(h[z]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]=[j,b]),h!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,n){var r,o=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[z]?o(n):o.length>1?(r=[t,t,"",n],C.setFilters.hasOwnProperty(t.toLowerCase())?i((function(t,e){for(var i,r=o(t,n),s=r.length;s--;)t[i=tt(t,r[s])]=!(e[i]=r[s])})):function(t){return o(t,0,r)}):o}},pseudos:{not:i((function(t){var e=[],n=[],r=T(t.replace(at,"$1"));return r[z]?i((function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))})):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}})),has:i((function(t){return function(n){return e(t,n).length>0}})),contains:i((function(t){return t=t.replace(wt,xt),function(e){return(e.textContent||e.innerText||_(e)).indexOf(t)>-1}})),lang:i((function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,xt).toLowerCase(),function(e){var n;do{if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===L},focus:function(t){return t===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c((function(){return[0]})),last:c((function(t,e){return[e-1]})),eq:c((function(t,e,n){return[n<0?n+e:n]})),even:c((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:c((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:c((function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t})),gt:c((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}},C.pseudos.nth=C.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=l(w);return d.prototype=C.filters=C.pseudos,C.setFilters=new d,S=e.tokenize=function(t,n){var i,r,o,s,a,l,c,u=Y[t+" "];if(u)return n?0:u.slice(0);for(a=t,l=[],c=C.preFilter;a;){for(s in i&&!(r=lt.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ct.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(at," ")}),a=a.slice(i.length)),C.filter)!(r=ft[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):Y(t,l).slice(0)},T=e.compile=function(t,e){var n,i=[],r=[],o=q[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)(o=y(e[n]))[z]?i.push(o):r.push(o);(o=q(t,b(r,i))).selector=t}return o},D=e.select=function(t,e,n,i){var r,o,s,a,l,c="function"==typeof t&&t,d=!i&&S(t=c.selector||t);if(n=n||[],1===d.length){if((o=d[0]=d[0].slice(0)).length>2&&"ID"===(s=o[0]).type&&x.getById&&9===e.nodeType&&I&&C.relative[o[1].type]){if(!(e=(C.find.ID(s.matches[0].replace(wt,xt),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ft.needsContext.test(t)?0:o.length;r--&&(s=o[r],!C.relative[a=s.type]);)if((l=C.find[a])&&(i=l(s.matches[0].replace(wt,xt),yt.test(o[0].type)&&u(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&h(o)))return Z.apply(n,i),n;break}}return(c||T(t,d))(i,e,!I,n,!e||yt.test(t)&&u(e.parentNode)||e),n},x.sortStable=z.split("").sort(V).join("")===z,x.detectDuplicates=!!A,O(),x.sortDetached=r((function(t){return 1&t.compareDocumentPosition(P.createElement("div"))})),r((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||o("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),x.attributes&&r((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||o("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),r((function(t){return null==t.getAttribute("disabled")}))||o(et,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),e}(t);ft.find=yt,ft.expr=yt.selectors,ft.expr[":"]=ft.expr.pseudos,ft.uniqueSort=ft.unique=yt.uniqueSort,ft.text=yt.getText,ft.isXMLDoc=yt.isXML,ft.contains=yt.contains;var bt=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ft(t).is(n))break;i.push(t)}return i},wt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},xt=ft.expr.match.needsContext,Ct=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,_t=/^.[^:#\[\.,]*$/;ft.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ft.find.matchesSelector(i,t)?[i]:[]:ft.find.matches(t,ft.grep(e,(function(t){return 1===t.nodeType})))},ft.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(ft(t).filter((function(){for(e=0;e<r;e++)if(ft.contains(i[e],this))return!0})));for(e=0;e<r;e++)ft.find(t,i[e],n);return(n=this.pushStack(r>1?ft.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&xt.test(t)?ft(t):t||[],!1).length}});var kt,St=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ft.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||kt,"string"==typeof t){if(!(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:St.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ft?e[0]:e,ft.merge(this,ft.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:it,!0)),Ct.test(i[1])&&ft.isPlainObject(e))for(i in e)ft.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if((r=it.getElementById(i[2]))&&r.parentNode){if(r.id!==i[2])return kt.find(t);this.length=1,this[0]=r}return this.context=it,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ft.isFunction(t)?void 0!==n.ready?n.ready(t):t(ft):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ft.makeArray(t,this))}).prototype=ft.fn,kt=ft(it);var Tt=/^(?:parents|prev(?:Until|All))/,Dt={children:!0,contents:!0,next:!0,prev:!0};ft.fn.extend({has:function(t){var e,n=ft(t,this),i=n.length;return this.filter((function(){for(e=0;e<i;e++)if(ft.contains(this,n[e]))return!0}))},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=xt.test(t)||"string"!=typeof t?ft(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ft.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?ft.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ft.inArray(this[0],ft(t)):ft.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ft.uniqueSort(ft.merge(this.get(),ft(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ft.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return bt(t,"parentNode")},parentsUntil:function(t,e,n){return bt(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return bt(t,"nextSibling")},prevAll:function(t){return bt(t,"previousSibling")},nextUntil:function(t,e,n){return bt(t,"nextSibling",n)},prevUntil:function(t,e,n){return bt(t,"previousSibling",n)},siblings:function(t){return wt((t.parentNode||{}).firstChild,t)},children:function(t){return wt(t.firstChild)},contents:function(t){return ft.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ft.merge([],t.childNodes)}},(function(t,e){ft.fn[t]=function(n,i){var r=ft.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ft.filter(i,r)),this.length>1&&(Dt[t]||(r=ft.uniqueSort(r)),Tt.test(t)&&(r=r.reverse())),this.pushStack(r)}}));var Et,Mt,At=/\S+/g;for(Mt in ft.Callbacks=function(t){t="string"==typeof t?o(t):ft.extend({},t);var e,n,i,r,s=[],a=[],l=-1,c=function(){for(r=t.once,i=e=!0;a.length;l=-1)for(n=a.shift();++l<s.length;)!1===s[l].apply(n[0],n[1])&&t.stopOnFalse&&(l=s.length,n=!1);t.memory||(n=!1),e=!1,r&&(s=n?[]:"")},u={add:function(){return s&&(n&&!e&&(l=s.length-1,a.push(n)),function e(n){ft.each(n,(function(n,i){ft.isFunction(i)?t.unique&&u.has(i)||s.push(i):i&&i.length&&"string"!==ft.type(i)&&e(i)}))}(arguments),n&&!e&&c()),this},remove:function(){return ft.each(arguments,(function(t,e){for(var n;(n=ft.inArray(e,s,n))>-1;)s.splice(n,1),n<=l&&l--})),this},has:function(t){return t?ft.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=!0,n||u.disable(),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},ft.extend({Deferred:function(t){var e=[["resolve","done",ft.Callbacks("once memory"),"resolved"],["reject","fail",ft.Callbacks("once memory"),"rejected"],["notify","progress",ft.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ft.Deferred((function(n){ft.each(e,(function(e,o){var s=ft.isFunction(t[e])&&t[e];r[o[1]]((function(){var t=s&&s.apply(this,arguments);t&&ft.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)}))})),t=null})).promise()},promise:function(t){return null!=t?ft.extend(t,i):i}},r={};return i.pipe=i.then,ft.each(e,(function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add((function(){n=a}),e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith})),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=rt.call(arguments),s=o.length,a=1!==s||t&&ft.isFunction(t.promise)?s:0,l=1===a?t:ft.Deferred(),c=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?rt.call(arguments):r,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);r<s;r++)o[r]&&ft.isFunction(o[r].promise)?o[r].promise().progress(c(r,n,e)).done(c(r,i,o)).fail(l.reject):--a;return a||l.resolveWith(i,o),l.promise()}}),ft.fn.ready=function(t){return ft.ready.promise().done(t),this},ft.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ft.readyWait++:ft.ready(!0)},ready:function(t){(!0===t?--ft.readyWait:ft.isReady)||(ft.isReady=!0,!0!==t&&--ft.readyWait>0||(Et.resolveWith(it,[ft]),ft.fn.triggerHandler&&(ft(it).triggerHandler("ready"),ft(it).off("ready"))))}}),ft.ready.promise=function(e){if(!Et)if(Et=ft.Deferred(),"complete"===it.readyState||"loading"!==it.readyState&&!it.documentElement.doScroll)t.setTimeout(ft.ready);else if(it.addEventListener)it.addEventListener("DOMContentLoaded",a),t.addEventListener("load",a);else{it.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var n=!1;try{n=null==t.frameElement&&it.documentElement}catch(t){}n&&n.doScroll&&function e(){if(!ft.isReady){try{n.doScroll("left")}catch(n){return t.setTimeout(e,50)}s(),ft.ready()}}()}return Et.promise(e)},ft.ready.promise(),ft(dt))break;dt.ownFirst="0"===Mt,dt.inlineBlockNeedsLayout=!1,ft((function(){var t,e,n,i;(n=it.getElementsByTagName("body")[0])&&n.style&&(e=it.createElement("div"),(i=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),void 0!==e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",dt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))})),function(){var t=it.createElement("div");dt.deleteExpando=!0;try{delete t.test}catch(t){dt.deleteExpando=!1}t=null}();var Ot,Pt=function(t){var e=ft.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)},Lt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,It=/([A-Z])/g;ft.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?ft.cache[t[ft.expando]]:t[ft.expando])&&!c(t)},data:function(t,e,n){return u(t,e,n)},removeData:function(t,e){return d(t,e)},_data:function(t,e,n){return u(t,e,n,!0)},_removeData:function(t,e){return d(t,e,!0)}}),ft.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=ft.data(o),1===o.nodeType&&!ft._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&l(o,i=ft.camelCase(i.slice(5)),r[i]);ft._data(o,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each((function(){ft.data(this,t)})):arguments.length>1?this.each((function(){ft.data(this,t,e)})):o?l(o,t,ft.data(o,t)):void 0},removeData:function(t){return this.each((function(){ft.removeData(this,t)}))}}),ft.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=ft._data(t,e),n&&(!i||ft.isArray(n)?i=ft._data(t,e,ft.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=ft.queue(t,e),i=n.length,r=n.shift(),o=ft._queueHooks(t,e),s=function(){ft.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ft._data(t,n)||ft._data(t,n,{empty:ft.Callbacks("once memory").add((function(){ft._removeData(t,e+"queue"),ft._removeData(t,n)}))})}}),ft.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ft.queue(this[0],t):void 0===e?this:this.each((function(){var n=ft.queue(this,t,e);ft._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ft.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){ft.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=ft.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=ft._data(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}}),dt.shrinkWrapBlocks=function(){return null!=Ot?Ot:(Ot=!1,(e=it.getElementsByTagName("body")[0])&&e.style?(t=it.createElement("div"),(n=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(it.createElement("div")).style.width="5px",Ot=3!==t.offsetWidth),e.removeChild(n),Ot):void 0);var t,e,n};var $t,Ft,Ht,Nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,zt=new RegExp("^(?:([+-])=|)("+Nt+")([a-z%]*)$","i"),Bt=["Top","Right","Bottom","Left"],jt=function(t,e){return t=e||t,"none"===ft.css(t,"display")||!ft.contains(t.ownerDocument,t)},Rt=function(t,e,n,i,r,o,s){var a=0,l=t.length,c=null==n;if("object"===ft.type(n))for(a in r=!0,n)Rt(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,ft.isFunction(i)||(s=!0),c&&(s?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(ft(t),n)})),e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:c?e.call(t):l?e(t[0],n):o},Wt=/^(?:checkbox|radio)$/i,Yt=/<([\w:-]+)/,qt=/^$|\/(?:java|ecma)script/i,Vt=/^\s+/,Ut="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";$t=it.createElement("div"),Ft=it.createDocumentFragment(),Ht=it.createElement("input"),$t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",dt.leadingWhitespace=3===$t.firstChild.nodeType,dt.tbody=!$t.getElementsByTagName("tbody").length,dt.htmlSerialize=!!$t.getElementsByTagName("link").length,dt.html5Clone="<:nav></:nav>"!==it.createElement("nav").cloneNode(!0).outerHTML,Ht.type="checkbox",Ht.checked=!0,Ft.appendChild(Ht),dt.appendChecked=Ht.checked,$t.innerHTML="<textarea>x</textarea>",dt.noCloneChecked=!!$t.cloneNode(!0).lastChild.defaultValue,Ft.appendChild($t),(Ht=it.createElement("input")).setAttribute("type","radio"),Ht.setAttribute("checked","checked"),Ht.setAttribute("name","t"),$t.appendChild(Ht),dt.checkClone=$t.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.noCloneEvent=!!$t.addEventListener,$t[ft.expando]=1,dt.attributes=!$t.getAttribute(ft.expando);var Gt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:dt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Gt.optgroup=Gt.option,Gt.tbody=Gt.tfoot=Gt.colgroup=Gt.caption=Gt.thead,Gt.th=Gt.td;var Xt=/<|&#?\w+;/,Qt=/<tbody/i;!function(){var e,n,i=it.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(dt[e]=n in t)||(i.setAttribute(n,"t"),dt[e]=!1===i.attributes[n].expando);i=null}();var Kt=/^(?:input|select|textarea)$/i,Zt=/^key/,Jt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,te=/^(?:focusinfocus|focusoutblur)$/,ee=/^([^.]*)(?:\.(.+)|)/;ft.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,c,u,d,h,f,p,g,m=ft._data(t);if(m){for(n.handler&&(n=(l=n).handler,r=l.selector),n.guid||(n.guid=ft.guid++),(s=m.events)||(s=m.events={}),(u=m.handle)||(u=m.handle=function(t){return void 0===ft||t&&ft.event.triggered===t.type?void 0:ft.event.dispatch.apply(u.elem,arguments)},u.elem=t),a=(e=(e||"").match(At)||[""]).length;a--;)f=g=(o=ee.exec(e[a])||[])[1],p=(o[2]||"").split(".").sort(),f&&(c=ft.event.special[f]||{},f=(r?c.delegateType:c.bindType)||f,c=ft.event.special[f]||{},d=ft.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ft.expr.match.needsContext.test(r),namespace:p.join(".")},l),(h=s[f])||((h=s[f]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,i,p,u)||(t.addEventListener?t.addEventListener(f,u,!1):t.attachEvent&&t.attachEvent("on"+f,u))),c.add&&(c.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,d):h.push(d),ft.event.global[f]=!0);t=null}},remove:function(t,e,n,i,r){var o,s,a,l,c,u,d,h,f,p,g,m=ft.hasData(t)&&ft._data(t);if(m&&(u=m.events)){for(c=(e=(e||"").match(At)||[""]).length;c--;)if(f=g=(a=ee.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(d=ft.event.special[f]||{},h=u[f=(i?d.delegateType:d.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=h.length;o--;)s=h[o],!r&&g!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(h.splice(o,1),s.selector&&h.delegateCount--,d.remove&&d.remove.call(t,s));l&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,p,m.handle)||ft.removeEvent(t,f,m.handle),delete u[f])}else for(f in u)ft.event.remove(t,f+e[c],n,i,!0);ft.isEmptyObject(u)&&(delete m.handle,ft._removeData(t,"events"))}},trigger:function(e,n,i,r){var o,s,a,l,c,u,d,h=[i||it],f=ut.call(e,"type")?e.type:e,p=ut.call(e,"namespace")?e.namespace.split("."):[];if(a=u=i=i||it,3!==i.nodeType&&8!==i.nodeType&&!te.test(f+ft.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),s=f.indexOf(":")<0&&"on"+f,(e=e[ft.expando]?e:new ft.Event(f,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:ft.makeArray(n,[e]),c=ft.event.special[f]||{},r||!c.trigger||!1!==c.trigger.apply(i,n))){if(!r&&!c.noBubble&&!ft.isWindow(i)){for(l=c.delegateType||f,te.test(l+f)||(a=a.parentNode);a;a=a.parentNode)h.push(a),u=a;u===(i.ownerDocument||it)&&h.push(u.defaultView||u.parentWindow||t)}for(d=0;(a=h[d++])&&!e.isPropagationStopped();)e.type=d>1?l:c.bindType||f,(o=(ft._data(a,"events")||{})[e.type]&&ft._data(a,"handle"))&&o.apply(a,n),(o=s&&a[s])&&o.apply&&Pt(a)&&(e.result=o.apply(a,n),!1===e.result&&e.preventDefault());if(e.type=f,!r&&!e.isDefaultPrevented()&&(!c._default||!1===c._default.apply(h.pop(),n))&&Pt(i)&&s&&i[f]&&!ft.isWindow(i)){(u=i[s])&&(i[s]=null),ft.event.triggered=f;try{i[f]()}catch(t){}ft.event.triggered=void 0,u&&(i[s]=u)}return e.result}},dispatch:function(t){t=ft.event.fix(t);var e,n,i,r,o,s=[],a=rt.call(arguments),l=(ft._data(this,"events")||{})[t.type]||[],c=ft.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(s=ft.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,void 0!==(i=((ft.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;n<a;n++)void 0===i[r=(o=e[n]).selector+" "]&&(i[r]=o.needsContext?ft(r,this).index(l)>-1:ft.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[ft.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Jt.test(r)?this.mouseHooks:Zt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new ft.Event(o),e=i.length;e--;)t[n=i[e]]=o[n];return t.target||(t.target=o.srcElement||it),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(r=(i=t.target.ownerDocument||it).documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===w()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ft.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return ft.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var i=ft.extend(new ft.Event,n,{type:t,isSimulated:!0});ft.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}},ft.removeEvent=it.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var i="on"+e;t.detachEvent&&(void 0===t[i]&&(t[i]=null),t.detachEvent(i,n))},ft.Event=function(t,e){if(!(this instanceof ft.Event))return new ft.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?y:b):this.type=t,e&&ft.extend(this,e),this.timeStamp=t&&t.timeStamp||ft.now(),this[ft.expando]=!0},ft.Event.prototype={constructor:ft.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=y,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=y,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=y,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ft.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){ft.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||ft.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}})),dt.submit||(ft.event.special.submit={setup:function(){if(ft.nodeName(this,"form"))return!1;ft.event.add(this,"click._submit keypress._submit",(function(t){var e=t.target,n=ft.nodeName(e,"input")||ft.nodeName(e,"button")?ft.prop(e,"form"):void 0;n&&!ft._data(n,"submit")&&(ft.event.add(n,"submit._submit",(function(t){t._submitBubble=!0})),ft._data(n,"submit",!0))}))},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&ft.event.simulate("submit",this.parentNode,t))},teardown:function(){if(ft.nodeName(this,"form"))return!1;ft.event.remove(this,"._submit")}}),dt.change||(ft.event.special.change={setup:function(){if(Kt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ft.event.add(this,"propertychange._change",(function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)})),ft.event.add(this,"click._change",(function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),ft.event.simulate("change",this,t)}))),!1;ft.event.add(this,"beforeactivate._change",(function(t){var e=t.target;Kt.test(e.nodeName)&&!ft._data(e,"change")&&(ft.event.add(e,"change._change",(function(t){!this.parentNode||t.isSimulated||t.isTrigger||ft.event.simulate("change",this.parentNode,t)})),ft._data(e,"change",!0))}))},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return ft.event.remove(this,"._change"),!Kt.test(this.nodeName)}}),dt.focusin||ft.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){ft.event.simulate(e,t.target,ft.event.fix(t))};ft.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=ft._data(i,e);r||i.addEventListener(t,n,!0),ft._data(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=ft._data(i,e)-1;r?ft._data(i,e,r):(i.removeEventListener(t,n,!0),ft._removeData(i,e))}}})),ft.fn.extend({on:function(t,e,n,i){return x(this,t,e,n,i)},one:function(t,e,n,i){return x(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ft(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=b),this.each((function(){ft.event.remove(this,t,n,e)}))},trigger:function(t,e){return this.each((function(){ft.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return ft.event.trigger(t,e,n,!0)}})
;var ne=/ jQuery\d+="(?:null|\d+)"/g,ie=new RegExp("<(?:"+Ut+")[\\s/>]","i"),re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,oe=/<script|<style|<link/i,se=/checked\s*(?:[^=]|=\s*.checked.)/i,ae=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ce=f(it).appendChild(it.createElement("div"));ft.extend({htmlPrefilter:function(t){return t.replace(re,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a,l=ft.contains(t.ownerDocument,t);if(dt.html5Clone||ft.isXMLDoc(t)||!ie.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(ce.innerHTML=t.outerHTML,ce.removeChild(o=ce.firstChild)),!(dt.noCloneEvent&&dt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ft.isXMLDoc(t)))for(i=p(o),a=p(t),s=0;null!=(r=a[s]);++s)i[s]&&T(r,i[s]);if(e)if(n)for(a=a||p(t),i=i||p(o),s=0;null!=(r=a[s]);s++)S(r,i[s]);else S(t,o);return(i=p(o,"script")).length>0&&g(i,!l&&p(t,"script")),i=a=r=null,o},cleanData:function(t,e){for(var n,i,r,o,s=0,a=ft.expando,l=ft.cache,c=dt.attributes,u=ft.event.special;null!=(n=t[s]);s++)if((e||Pt(n))&&(o=(r=n[a])&&l[r])){if(o.events)for(i in o.events)u[i]?ft.event.remove(n,i):ft.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c||void 0===n.removeAttribute?n[a]=void 0:n.removeAttribute(a),nt.push(r))}}}),ft.fn.extend({domManip:D,detach:function(t){return E(this,t,!0)},remove:function(t){return E(this,t)},text:function(t){return Rt(this,(function(t){return void 0===t?ft.text(this):this.empty().append((this[0]&&this[0].ownerDocument||it).createTextNode(t))}),null,t,arguments.length)},append:function(){return D(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||C(this,t).appendChild(t)}))},prepend:function(){return D(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=C(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return D(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return D(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ft.cleanData(p(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ft.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return ft.clone(this,t,e)}))},html:function(t){return Rt(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(ne,""):void 0;if("string"==typeof t&&!oe.test(t)&&(dt.htmlSerialize||!ie.test(t))&&(dt.leadingWhitespace||!Vt.test(t))&&!Gt[(Yt.exec(t)||["",""])[1].toLowerCase()]){t=ft.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(ft.cleanData(p(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return D(this,arguments,(function(e){var n=this.parentNode;ft.inArray(this,t)<0&&(ft.cleanData(p(this)),n&&n.replaceChild(e,this))}),t)}}),ft.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){ft.fn[t]=function(t){for(var n,i=0,r=[],o=ft(t),s=o.length-1;i<=s;i++)n=i===s?this:this.clone(!0),ft(o[i])[e](n),st.apply(r,n.get());return this.pushStack(r)}}));var ue,de={HTML:"block",BODY:"block"},he=/^margin/,fe=new RegExp("^("+Nt+")(?!px)[a-z%]+$","i"),pe=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r},ge=it.documentElement;!function(){function e(){var e,u,d=it.documentElement;d.appendChild(l),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=r=a=!1,i=s=!0,t.getComputedStyle&&(u=t.getComputedStyle(c),n="1%"!==(u||{}).top,a="2px"===(u||{}).marginLeft,r="4px"===(u||{width:"4px"}).width,c.style.marginRight="50%",i="4px"===(u||{marginRight:"4px"}).marginRight,(e=c.appendChild(it.createElement("div"))).style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",c.style.width="1px",s=!parseFloat((t.getComputedStyle(e)||{}).marginRight),c.removeChild(e)),c.style.display="none",(o=0===c.getClientRects().length)&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",(e=c.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(o=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",o=0===e[0].offsetHeight)),d.removeChild(l)}var n,i,r,o,s,a,l=it.createElement("div"),c=it.createElement("div");c.style&&(c.style.cssText="float:left;opacity:.5",dt.opacity="0.5"===c.style.opacity,dt.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",dt.clearCloneStyle="content-box"===c.style.backgroundClip,(l=it.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",l.appendChild(c),dt.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,ft.extend(dt,{reliableHiddenOffsets:function(){return null==n&&e(),o},boxSizingReliable:function(){return null==n&&e(),r},pixelMarginRight:function(){return null==n&&e(),i},pixelPosition:function(){return null==n&&e(),n},reliableMarginRight:function(){return null==n&&e(),s},reliableMarginLeft:function(){return null==n&&e(),a}}))}();var me,ve,ye=/^(top|right|bottom|left)$/;t.getComputedStyle?(me=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},ve=function(t,e,n){var i,r,o,s,a=t.style;return""!==(s=(n=n||me(t))?n.getPropertyValue(e)||n[e]:void 0)&&void 0!==s||ft.contains(t.ownerDocument,t)||(s=ft.style(t,e)),n&&!dt.pixelMarginRight()&&fe.test(s)&&he.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o),void 0===s?s:s+""}):ge.currentStyle&&(me=function(t){return t.currentStyle},ve=function(t,e,n){var i,r,o,s,a=t.style;return null==(s=(n=n||me(t))?n[e]:void 0)&&a&&a[e]&&(s=a[e]),fe.test(s)&&!ye.test(e)&&(i=a.left,(o=(r=t.runtimeStyle)&&r.left)&&(r.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=i,o&&(r.left=o)),void 0===s?s:s+""||"auto"});var be=/alpha\([^)]*\)/i,we=/opacity\s*=\s*([^)]*)/i,xe=/^(none|table(?!-c[ea]).+)/,Ce=new RegExp("^("+Nt+")(.*)$","i"),_e={position:"absolute",visibility:"hidden",display:"block"},ke={letterSpacing:"0",fontWeight:"400"},Se=["Webkit","O","Moz","ms"],Te=it.createElement("div").style;ft.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ve(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:dt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=ft.camelCase(e),l=t.style;if(e=ft.cssProps[a]||(ft.cssProps[a]=P(a)||a),s=ft.cssHooks[e]||ft.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e];if(!("string"===(o=typeof n)&&(r=zt.exec(n))&&r[1]&&(n=h(t,e,r),o="number"),null==n||n!=n||("number"===o&&(n+=r&&r[3]||(ft.cssNumber[a]?"":"px")),dt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i)))))try{l[e]=n}catch(t){}}},css:function(t,e,n,i){var r,o,s,a=ft.camelCase(e);return e=ft.cssProps[a]||(ft.cssProps[a]=P(a)||a),(s=ft.cssHooks[e]||ft.cssHooks[a])&&"get"in s&&(o=s.get(t,!0,n)),void 0===o&&(o=ve(t,e,i)),"normal"===o&&e in ke&&(o=ke[e]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),ft.each(["height","width"],(function(t,e){ft.cssHooks[e]={get:function(t,n,i){if(n)return xe.test(ft.css(t,"display"))&&0===t.offsetWidth?pe(t,_e,(function(){return F(t,e,i)})):F(t,e,i)},set:function(t,n,i){var r=i&&me(t);return I(t,n,i?$(t,e,i,dt.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,r),r):0)}}})),dt.opacity||(ft.cssHooks.opacity={get:function(t,e){return we.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=ft.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===ft.trim(o.replace(be,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=be.test(o)?o.replace(be,r):o+" "+r)}}),ft.cssHooks.marginRight=O(dt.reliableMarginRight,(function(t,e){if(e)return pe(t,{display:"inline-block"},ve,[t,"marginRight"])})),ft.cssHooks.marginLeft=O(dt.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(ve(t,"marginLeft"))||(ft.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-pe(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})):0))+"px"})),ft.each({margin:"",padding:"",border:"Width"},(function(t,e){ft.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+Bt[i]+e]=o[i]||o[i-2]||o[0];return r}},he.test(t)||(ft.cssHooks[t+e].set=I)})),ft.fn.extend({css:function(t,e){return Rt(this,(function(t,e,n){var i,r,o={},s=0;if(ft.isArray(e)){for(i=me(t),r=e.length;s<r;s++)o[e[s]]=ft.css(t,e[s],!1,i);return o}return void 0!==n?ft.style(t,e,n):ft.css(t,e)}),t,e,arguments.length>1)},show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){jt(this)?ft(this).show():ft(this).hide()}))}}),ft.Tween=H,H.prototype={constructor:H,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||ft.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ft.cssNumber[n]?"":"px")},cur:function(){var t=H.propHooks[this.prop];return t&&t.get?t.get(this):H.propHooks._default.get(this)},run:function(t){var e,n=H.propHooks[this.prop];return this.options.duration?this.pos=e=ft.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ft.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){ft.fx.step[t.prop]?ft.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ft.cssProps[t.prop]]&&!ft.cssHooks[t.prop]?t.elem[t.prop]=t.now:ft.style(t.elem,t.prop,t.now+t.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ft.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ft.fx=H.prototype.init,ft.fx.step={};var De,Ee,Me=/^(?:toggle|show|hide)$/,Ae=/queueHooks$/;ft.Animation=ft.extend(W,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return h(n.elem,t,zt.exec(e),n),n}]},tweener:function(t,e){ft.isFunction(t)?(e=t,t=["*"]):t=t.match(At);for(var n,i=0,r=t.length;i<r;i++)n=t[i],W.tweeners[n]=W.tweeners[n]||[],W.tweeners[n].unshift(e)},prefilters:[j],prefilter:function(t,e){e?W.prefilters.unshift(t):W.prefilters.push(t)}}),ft.speed=function(t,e,n){var i=t&&"object"==typeof t?ft.extend({},t):{complete:n||!n&&e||ft.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ft.isFunction(e)&&e};return i.duration=ft.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ft.fx.speeds?ft.fx.speeds[i.duration]:ft.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ft.isFunction(i.old)&&i.old.call(this),i.queue&&ft.dequeue(this,i.queue)},i},ft.fn.extend({fadeTo:function(t,e,n,i){return this.filter(jt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=ft.isEmptyObject(t),o=ft.speed(e,n,i),s=function(){var e=W(this,ft.extend({},t),o);(r||ft._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",o=ft.timers,s=ft._data(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&Ae.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||ft.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=ft._data(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=ft.timers,s=i?i.length:0;for(n.finish=!0,ft.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),ft.each(["toggle","show","hide"],(function(t,e){var n=ft.fn[e];ft.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(z(e,!0),t,i,r)}})),ft.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){ft.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),ft.timers=[],ft.fx.tick=function(){var t,e=ft.timers,n=0;for(De=ft.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||ft.fx.stop(),De=void 0},ft.fx.timer=function(t){ft.timers.push(t),t()?ft.fx.start():ft.timers.pop()},ft.fx.interval=13,ft.fx.start=function(){Ee||(Ee=t.setInterval(ft.fx.tick,ft.fx.interval))},ft.fx.stop=function(){t.clearInterval(Ee),Ee=null},ft.fx.speeds={slow:600,fast:200,_default:400},ft.fn.delay=function(e,n){return e=ft.fx&&ft.fx.speeds[e]||e,n=n||"fx",this.queue(n,(function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}}))},function(){var t,e=it.createElement("input"),n=it.createElement("div"),i=it.createElement("select"),r=i.appendChild(it.createElement("option"));(n=it.createElement("div")).setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=n.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),n.appendChild(e),(t=n.getElementsByTagName("a")[0]).style.cssText="top:1px",dt.getSetAttribute="t"!==n.className,dt.style=/top/.test(t.getAttribute("style")),dt.hrefNormalized="/a"===t.getAttribute("href"),dt.checkOn=!!e.value,dt.optSelected=r.selected,dt.enctype=!!it.createElement("form").enctype,i.disabled=!0,dt.optDisabled=!r.disabled,(e=it.createElement("input")).setAttribute("value",""),dt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),dt.radioValue="t"===e.value}();var Oe=/\r/g,Pe=/[\x20\t\r\n\f]+/g;ft.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=ft.isFunction(t),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,ft(this).val()):t)?r="":"number"==typeof r?r+="":ft.isArray(r)&&(r=ft.map(r,(function(t){return null==t?"":t+""}))),(e=ft.valHooks[this.type]||ft.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=ft.valHooks[r.type]||ft.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(Oe,""):null==n?"":n:void 0}}),ft.extend({valHooks:{option:{get:function(t){var e=ft.find.attr(t,"value");return null!=e?e:ft.trim(ft.text(t)).replace(Pe," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,s=o?null:[],a=o?r+1:i.length,l=r<0?a:o?r:0;l<a;l++)if(((n=i[l]).selected||l===r)&&(dt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ft.nodeName(n.parentNode,"optgroup"))){if(e=ft(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=ft.makeArray(e),s=r.length;s--;)if(i=r[s],ft.inArray(ft.valHooks.option.get(i),o)>-1)try{i.selected=n=!0}catch(t){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),r}}}}),ft.each(["radio","checkbox"],(function(){ft.valHooks[this]={set:function(t,e){if(ft.isArray(e))return t.checked=ft.inArray(ft(t).val(),e)>-1}},dt.checkOn||(ft.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}));var Le,Ie,$e=ft.expr.attrHandle,Fe=/^(?:checked|selected)$/i,He=dt.getSetAttribute,Ne=dt.input;ft.fn.extend({attr:function(t,e){return Rt(this,ft.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){ft.removeAttr(this,t)}))}}),ft.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?ft.prop(t,e,n):(1===o&&ft.isXMLDoc(t)||(e=e.toLowerCase(),r=ft.attrHooks[e]||(ft.expr.match.bool.test(e)?Ie:Le)),void 0!==n?null===n?void ft.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=ft.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!dt.radioValue&&"radio"===e&&ft.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(At);if(o&&1===t.nodeType)for(;n=o[r++];)i=ft.propFix[n]||n,ft.expr.match.bool.test(n)?Ne&&He||!Fe.test(n)?t[i]=!1:t[ft.camelCase("default-"+n)]=t[i]=!1:ft.attr(t,n,""),t.removeAttribute(He?n:i)}}),Ie={set:function(t,e,n){return!1===e?ft.removeAttr(t,n):Ne&&He||!Fe.test(n)?t.setAttribute(!He&&ft.propFix[n]||n,n):t[ft.camelCase("default-"+n)]=t[n]=!0,n}},ft.each(ft.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=$e[e]||ft.find.attr;Ne&&He||!Fe.test(e)?$e[e]=function(t,e,i){var r,o;return i||(o=$e[e],$e[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,$e[e]=o),r}:$e[e]=function(t,e,n){if(!n)return t[ft.camelCase("default-"+e)]?e.toLowerCase():null}})),Ne&&He||(ft.attrHooks.value={set:function(t,e,n){if(!ft.nodeName(t,"input"))return Le&&Le.set(t,e,n);t.defaultValue=e}}),He||(Le={set:function(t,e,n){var i=t.getAttributeNode(n);if(i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n))return e}},$e.id=$e.name=$e.coords=function(t,e,n){var i;if(!n)return(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},ft.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:Le.set},ft.attrHooks.contenteditable={set:function(t,e,n){Le.set(t,""!==e&&e,n)}},ft.each(["width","height"],(function(t,e){ft.attrHooks[e]={set:function(t,n){if(""===n)return t.setAttribute(e,"auto"),n}}}))),dt.style||(ft.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var ze=/^(?:input|select|textarea|button|object)$/i,Be=/^(?:a|area)$/i;ft.fn.extend({prop:function(t,e){return Rt(this,ft.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ft.propFix[t]||t,this.each((function(){try{this[t]=void 0,delete this[t]}catch(t){}}))}}),ft.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ft.isXMLDoc(t)||(e=ft.propFix[e]||e,r=ft.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ft.find.attr(t,"tabindex");return e?parseInt(e,10):ze.test(t.nodeName)||Be.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),dt.hrefNormalized||ft.each(["href","src"],(function(t,e){ft.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}})),dt.optSelected||(ft.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ft.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){ft.propFix[this.toLowerCase()]=this})),dt.enctype||(ft.propFix.enctype="encoding");var je=/[\t\r\n\f]/g;ft.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(ft.isFunction(t))return this.each((function(e){ft(this).addClass(t.call(this,e,Y(this)))}));if("string"==typeof t&&t)for(e=t.match(At)||[];n=this[l++];)if(r=Y(n),i=1===n.nodeType&&(" "+r+" ").replace(je," ")){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=ft.trim(i))&&ft.attr(n,"class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(ft.isFunction(t))return this.each((function(e){ft(this).removeClass(t.call(this,e,Y(this)))}));if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(At)||[];n=this[l++];)if(r=Y(n),i=1===n.nodeType&&(" "+r+" ").replace(je," ")){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=ft.trim(i))&&ft.attr(n,"class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ft.isFunction(t)?this.each((function(n){ft(this).toggleClass(t.call(this,n,Y(this),e),e)})):this.each((function(){var e,i,r,o;if("string"===n)for(i=0,r=ft(this),o=t.match(At)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||((e=Y(this))&&ft._data(this,"__className__",e),ft.attr(this,"class",e||!1===t?"":ft._data(this,"__className__")||""))}))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+Y(n)+" ").replace(je," ").indexOf(e)>-1)return!0;return!1}}),ft.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(t,e){ft.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}})),ft.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var Re=t.location,We=ft.now(),Ye=/\?/,qe=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ft.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,i=null,r=ft.trim(e+"");return r&&!ft.trim(r.replace(qe,(function(t,e,r,o){return n&&e&&(i=0),0===i?t:(n=r||e,i+=!o-!r,"")})))?Function("return "+r)():ft.error("Invalid JSON: "+e)},ft.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{t.DOMParser?n=(new t.DOMParser).parseFromString(e,"text/xml"):((n=new t.ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(e))}catch(t){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ft.error("Invalid XML: "+e),n};var Ve=/#.*$/,Ue=/([?&])_=[^&]*/,Ge=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Xe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Qe=/^(?:GET|HEAD)$/,Ke=/^\/\//,Ze=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Je={},tn={},en="*/".concat("*"),nn=Re.href,rn=Ze.exec(nn.toLowerCase())||[];ft.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:nn,type:"GET",isLocal:Xe.test(rn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":en,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ft.parseJSON,"text xml":ft.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?U(U(t,ft.ajaxSettings),e):U(ft.ajaxSettings,t)},ajaxPrefilter:q(Je),ajaxTransport:q(tn),ajax:function(e,n){function i(e,n,i,r){var o,d,y,b,x,_=n;2!==w&&(w=2,l&&t.clearTimeout(l),u=void 0,a=r||"",C.readyState=e>0?4:0,o=e>=200&&e<300||304===e,i&&(b=G(h,C,i)),b=X(h,b,C,o),o?(h.ifModified&&((x=C.getResponseHeader("Last-Modified"))&&(ft.lastModified[s]=x),(x=C.getResponseHeader("etag"))&&(ft.etag[s]=x)),204===e||"HEAD"===h.type?_="nocontent":304===e?_="notmodified":(_=b.state,d=b.data,o=!(y=b.error))):(y=_,!e&&_||(_="error",e<0&&(e=0))),C.status=e,C.statusText=(n||_)+"",o?g.resolveWith(f,[d,_,C]):g.rejectWith(f,[C,_,y]),C.statusCode(v),v=void 0,c&&p.trigger(o?"ajaxSuccess":"ajaxError",[C,h,o?d:y]),m.fireWith(f,[C,_]),c&&(p.trigger("ajaxComplete",[C,h]),--ft.active||ft.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,s,a,l,c,u,d,h=ft.ajaxSetup({},n),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?ft(f):ft.event,g=ft.Deferred(),m=ft.Callbacks("once memory"),v=h.statusCode||{},y={},b={},w=0,x="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!d)for(d={};e=Ge.exec(a);)d[e[1].toLowerCase()]=e[2];e=d[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return w||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(w<2)for(e in t)v[e]=[v[e],t[e]];else C.always(t[C.status]);return this},abort:function(t){var e=t||x;return u&&u.abort(e),i(0,e),this}};if(g.promise(C).complete=m.add,C.success=C.done,C.error=C.fail,h.url=((e||h.url||nn)+"").replace(Ve,"").replace(Ke,rn[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=ft.trim(h.dataType||"*").toLowerCase().match(At)||[""],null==h.crossDomain&&(r=Ze.exec(h.url.toLowerCase()),h.crossDomain=!(!r||r[1]===rn[1]&&r[2]===rn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(rn[3]||("http:"===rn[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ft.param(h.data,h.traditional)),V(Je,h,n,C),2===w)return C;for(o in(c=ft.event&&h.global)&&0==ft.active++&&ft.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Qe.test(h.type),s=h.url,h.hasContent||(h.data&&(s=h.url+=(Ye.test(s)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=Ue.test(s)?s.replace(Ue,"$1_="+We++):s+(Ye.test(s)?"&":"?")+"_="+We++)),h.ifModified&&(ft.lastModified[s]&&C.setRequestHeader("If-Modified-Since",ft.lastModified[s]),ft.etag[s]&&C.setRequestHeader("If-None-Match",ft.etag[s])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+en+"; q=0.01":""):h.accepts["*"]),h.headers)C.setRequestHeader(o,h.headers[o]);if(h.beforeSend&&(!1===h.beforeSend.call(f,C,h)||2===w))return C.abort();for(o in x="abort",{success:1,error:1,complete:1})C[o](h[o]);if(u=V(tn,h,n,C)){if(C.readyState=1,c&&p.trigger("ajaxSend",[C,h]),2===w)return C;h.async&&h.timeout>0&&(l=t.setTimeout((function(){C.abort("timeout")}),h.timeout));try{w=1,u.send(y,i)}catch(t){if(!(w<2))throw t;i(-1,t)}}else i(-1,"No Transport");return C},getJSON:function(t,e,n){return ft.get(t,e,n,"json")},getScript:function(t,e){return ft.get(t,void 0,e,"script")}}),ft.each(["get","post"],(function(t,e){ft[e]=function(t,n,i,r){return ft.isFunction(n)&&(r=r||i,i=n,n=void 0),ft.ajax(ft.extend({url:t,type:e,dataType:r,data:n,success:i},ft.isPlainObject(t)&&t))}})),ft._evalUrl=function(t){return ft.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ft.fn.extend({wrapAll:function(t){if(ft.isFunction(t))return this.each((function(e){ft(this).wrapAll(t.call(this,e))}));if(this[0]){var e=ft(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t})).append(this)}return this},wrapInner:function(t){return ft.isFunction(t)?this.each((function(e){ft(this).wrapInner(t.call(this,e))})):this.each((function(){var e=ft(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=ft.isFunction(t);return this.each((function(n){ft(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(){return this.parent().each((function(){ft.nodeName(this,"body")||ft(this).replaceWith(this.childNodes)})).end()}}),ft.expr.filters.hidden=function(t){return dt.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:K(t)},ft.expr.filters.visible=function(t){return!ft.expr.filters.hidden(t)};var on=/%20/g,sn=/\[\]$/,an=/\r?\n/g,ln=/^(?:submit|button|image|reset|file)$/i,cn=/^(?:input|select|textarea|keygen)/i;ft.param=function(t,e){var n,i=[],r=function(t,e){e=ft.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ft.ajaxSettings&&ft.ajaxSettings.traditional),ft.isArray(t)||t.jquery&&!ft.isPlainObject(t))ft.each(t,(function(){r(this.name,this.value)}));else for(n in t)Z(n,t[n],e,r);return i.join("&").replace(on,"+")},ft.fn.extend({serialize:function(){return ft.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=ft.prop(this,"elements");return t?ft.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!ft(this).is(":disabled")&&cn.test(this.nodeName)&&!ln.test(t)&&(this.checked||!Wt.test(t))})).map((function(t,e){var n=ft(this).val();return null==n?null:ft.isArray(n)?ft.map(n,(function(t){return{name:e.name,value:t.replace(an,"\r\n")}})):{name:e.name,value:n.replace(an,"\r\n")}})).get()}}),ft.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return this.isLocal?tt():it.documentMode>8?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||tt()}:J;var un=0,dn={},hn=ft.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",(function(){for(var t in dn)dn[t](void 0,!0)})),dt.cors=!!hn&&"withCredentials"in hn,(hn=dt.ajax=!!hn)&&ft.ajaxTransport((function(e){var n;if(!e.crossDomain||dt.cors)return{send:function(i,r){var o,s=e.xhr(),a=++un;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];for(o in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)void 0!==i[o]&&s.setRequestHeader(o,i[o]+"");s.send(e.hasContent&&e.data||null),n=function(t,i){var o,l,c;if(n&&(i||4===s.readyState))if(delete dn[a],n=void 0,s.onreadystatechange=ft.noop,i)4!==s.readyState&&s.abort();else{c={},o=s.status,"string"==typeof s.responseText&&(c.text=s.responseText);try{l=s.statusText}catch(t){l=""}o||!e.isLocal||e.crossDomain?1223===o&&(o=204):o=c.text?200:404}c&&r(o,l,c,s.getAllResponseHeaders())},e.async?4===s.readyState?t.setTimeout(n):s.onreadystatechange=dn[a]=n:n()},abort:function(){n&&n(void 0,!0)}}})),ft.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ft.globalEval(t),t}}}),ft.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)})),ft.ajaxTransport("script",(function(t){if(t.crossDomain){var e,n=it.head||ft("head")[0]||it.documentElement;return{send:function(i,r){(e=it.createElement("script")).async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||r(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}}));var fn=[],pn=/(=)\?(?=&|$)|\?\?/;ft.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=fn.pop()||ft.expando+"_"+We++;return this[t]=!0,t}}),ft.ajaxPrefilter("json jsonp",(function(e,n,i){var r,o,s,a=!1!==e.jsonp&&(pn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&pn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=ft.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(pn,"$1"+r):!1!==e.jsonp&&(e.url+=(Ye.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||ft.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always((function(){void 0===o?ft(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,fn.push(r)),s&&ft.isFunction(o)&&o(s[0]),s=o=void 0})),"script"})),
ft.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||it;var i=Ct.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=v([t],e,r),r&&r.length&&ft(r).remove(),ft.merge([],i.childNodes))};var gn=ft.fn.load;ft.fn.load=function(t,e,n){if("string"!=typeof t&&gn)return gn.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=ft.trim(t.slice(a,t.length)),t=t.slice(0,a)),ft.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&ft.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){o=arguments,s.html(i?ft("<div>").append(ft.parseHTML(t)).find(i):t)})).always(n&&function(t,e){s.each((function(){n.apply(this,o||[t.responseText,e,t])}))}),this},ft.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){ft.fn[e]=function(t){return this.on(e,t)}})),ft.expr.filters.animated=function(t){return ft.grep(ft.timers,(function(e){return t===e.elem})).length},ft.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,c=ft.css(t,"position"),u=ft(t),d={};"static"===c&&(t.style.position="relative"),a=u.offset(),o=ft.css(t,"top"),l=ft.css(t,"left"),("absolute"===c||"fixed"===c)&&ft.inArray("auto",[o,l])>-1?(s=(i=u.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),ft.isFunction(e)&&(e=e.call(t,n,ft.extend({},a))),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+r),"using"in e?e.using.call(t,d):u.css(d)}},ft.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){ft.offset.setOffset(this,t,e)}));var e,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(e=o.documentElement,ft.contains(e,r)?(void 0!==r.getBoundingClientRect&&(i=r.getBoundingClientRect()),n=et(o),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===ft.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ft.nodeName(t[0],"html")||(n=t.offset()),n.top+=ft.css(t[0],"borderTopWidth",!0),n.left+=ft.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ft.css(i,"marginTop",!0),left:e.left-n.left-ft.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&!ft.nodeName(t,"html")&&"static"===ft.css(t,"position");)t=t.offsetParent;return t||ge}))}}),ft.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n=/Y/.test(e);ft.fn[t]=function(i){return Rt(this,(function(t,i,r){var o=et(t);if(void 0===r)return o?e in o?o[e]:o.document.documentElement[i]:t[i];o?o.scrollTo(n?ft(o).scrollLeft():r,n?r:ft(o).scrollTop()):t[i]=r}),t,i,arguments.length,null)}})),ft.each(["top","left"],(function(t,e){ft.cssHooks[e]=O(dt.pixelPosition,(function(t,n){if(n)return n=ve(t,e),fe.test(n)?ft(t).position()[e]+"px":n}))})),ft.each({Height:"height",Width:"width"},(function(t,e){ft.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){ft.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===r?"margin":"border");return Rt(this,(function(e,n,i){var r;return ft.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?ft.css(e,n,s):ft.style(e,n,i,s)}),e,o?i:void 0,o,null)}}))})),ft.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),ft.fn.size=function(){return this.length},ft.fn.andSelf=ft.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return ft}));var mn=t.jQuery,vn=t.$;return ft.noConflict=function(e){return t.$===ft&&(t.$=vn),e&&t.jQuery===ft&&(t.jQuery=mn),ft},e||(t.jQuery=t.$=ft),ft})),function(){"use strict";var t=function(t,e){var n;t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form:not([data-turbo=true])",formInputClickSelector:"form:not([data-turbo=true]) input[type=submit], form:not([data-turbo=true]) input[type=image], form:not([data-turbo=true]) button[type=submit], form:not([data-turbo=true]) button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=n.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(e,n,i){var r=t.Event(n);return e.trigger(r,i),!1!==r.result},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&!1!==t.data("remote")},handleRemote:function(i){var r,o,s,a,l,c;if(n.fire(i,"ajax:before")){if(a=i.data("with-credentials")||null,l=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){r=i.data("ujs:submit-button-formmethod")||i.attr("method"),o=i.data("ujs:submit-button-formaction")||i.attr("action"),s=t(i[0]).serializeArray();var u=i.data("ujs:submit-button");u&&(s.push(u),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),s=i.data("params")||null);return c={type:r||"GET",data:s,dataType:l,beforeSend:function(t,r){if(r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),!n.fire(i,"ajax:beforeSend",[t,r]))return!1;i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:n.isCrossDomain(o)},a&&(c.xhrFields={withCredentials:a}),o&&(c.url=o),n.ajax(c)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(t){return!0}},handleMethod:function(i){var r=n.href(i),o=i.data("method"),s=i.attr("target"),a=n.csrfToken(),l=n.csrfParam(),c=t('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+o+'" type="hidden" />';l===e||a===e||n.isCrossDomain(r)||(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each((function(){n.disableFormElement(t(this))}))},disableFormElement:function(t){var n,i;n=t.is("button")?"html":"val",(i=t.data("disable-with"))!==e&&(t.data("ujs:enable-with",t[n]()),t[n](i)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each((function(){n.enableFormElement(t(this))}))},enableFormElement:function(t){var n=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[n](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,i=t.data("confirm"),r=!1;if(!i)return!0;if(n.fire(t,"confirm")){try{r=n.confirm(i)}catch(t){(console.error||console.log).call(console,t.stack||t)}e=n.fire(t,"confirm:complete",[r])}return r&&e},blankInputs:function(e,n,i){var r,o,s,a=t(),l=n||"input,textarea",c=e.find(l),u={};return c.each((function(){(r=t(this)).is("input[type=radio]")?(s=r.attr("name"),u[s]||(0===e.find('input[type=radio]:checked[name="'+s+'"]').length&&(o=e.find('input[type=radio][name="'+s+'"]'),a=a.add(o)),u[s]=s)):(r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val())===i&&(a=a.add(r))})),!!a.length&&a},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var i=t.data("disable-with");i!==e&&(t.data("ujs:enable-with",t.html()),t.html(i)),t.on("click.railsDisable",(function(t){return n.stopEverything(t)})),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.off("click.railsDisable"),t.removeData("ujs:disabled")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter((function(t,e,i){t.crossDomain||n.CSRFProtection(i)})),t(window).on("pageshow.rails",(function(){t(t.rails.enableSelector).each((function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)})),t(t.rails.linkDisableSelector).each((function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)}))})),i.on("ajax:complete",n.linkDisableSelector,(function(){n.enableElement(t(this))})),i.on("ajax:complete",n.buttonDisableSelector,(function(){n.enableFormElement(t(this))})),i.on("click.rails",n.linkClickSelector,(function(e){var i=t(this),r=i.data("method"),o=i.data("params"),s=e.metaKey||e.ctrlKey;if(!n.allowAction(i))return n.stopEverything(e);if(!s&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(s&&(!r||"GET"===r)&&!o)return!0;var a=n.handleRemote(i);return!1===a?n.enableElement(i):a.fail((function(){n.enableElement(i)})),!1}return r?(n.handleMethod(i),!1):void 0})),i.on("click.rails",n.buttonClickSelector,(function(e){var i=t(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(e);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var r=n.handleRemote(i);return!1===r?n.enableFormElement(i):r.fail((function(){n.enableFormElement(i)})),!1})),i.on("change.rails",n.inputChangeSelector,(function(e){var i=t(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(e)})),i.on("submit.rails",n.formSubmitSelector,(function(i){var r,o,s=t(this),a=n.isRemote(s);if(!n.allowAction(s))return n.stopEverything(i);if(s.attr("novalidate")===e)if(s.data("ujs:formnovalidate-button")===e){if((r=n.blankInputs(s,n.requiredInputSelector,!1))&&n.fire(s,"ajax:aborted:required",[r]))return n.stopEverything(i)}else s.data("ujs:formnovalidate-button",e);if(a){if(o=n.nonBlankInputs(s,n.fileInputSelector)){setTimeout((function(){n.disableFormElements(s)}),13);var l=n.fire(s,"ajax:aborted:file",[o]);return l||setTimeout((function(){n.enableFormElements(s)}),13),l}return n.handleRemote(s),!1}setTimeout((function(){n.disableFormElements(s)}),13)})),i.on("click.rails",n.formInputClickSelector,(function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null,s=i.closest("form");0===s.length&&(s=t("#"+i.attr("form"))),s.data("ujs:submit-button",o),s.data("ujs:formnovalidate-button",i.attr("formnovalidate")),s.data("ujs:submit-button-formaction",i.attr("formaction")),s.data("ujs:submit-button-formmethod",i.attr("formmethod"))})),i.on("ajax:send.rails",n.formSubmitSelector,(function(e){this===e.target&&n.disableFormElements(t(this))})),i.on("ajax:complete.rails",n.formSubmitSelector,(function(e){this===e.target&&n.enableFormElements(t(this))})),t((function(){n.refreshCSRFTokens()})))};window.jQuery?t(jQuery):"object"==typeof exports&&"object"==typeof module&&(module.exports=t)}(),function(t){var e,n,i="0.4.2",r="hasOwnProperty",o=/[\.\/]/,s="*",a=function(){},l=function(t,e){return t-e},c={n:{}},u=function(t,i){t=String(t);var r,o=n,s=Array.prototype.slice.call(arguments,2),a=u.listeners(t),c=0,d=[],h={},f=[],p=e;e=t,n=0;for(var g=0,m=a.length;g<m;g++)"zIndex"in a[g]&&(d.push(a[g].zIndex),a[g].zIndex<0&&(h[a[g].zIndex]=a[g]));for(d.sort(l);d[c]<0;)if(r=h[d[c++]],f.push(r.apply(i,s)),n)return n=o,f;for(g=0;g<m;g++)if("zIndex"in(r=a[g]))if(r.zIndex==d[c]){if(f.push(r.apply(i,s)),n)break;do{if((r=h[d[++c]])&&f.push(r.apply(i,s)),n)break}while(r)}else h[r.zIndex]=r;else if(f.push(r.apply(i,s)),n)break;return n=o,e=p,f.length?f:null};u._events=c,u.listeners=function(t){var e,n,i,r,a,l,u,d,h=t.split(o),f=c,p=[f],g=[];for(r=0,a=h.length;r<a;r++){for(d=[],l=0,u=p.length;l<u;l++)for(n=[(f=p[l].n)[h[r]],f[s]],i=2;i--;)(e=n[i])&&(d.push(e),g=g.concat(e.f||[]));p=d}return g},u.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var n=t.split(o),i=c,r=0,s=n.length;r<s;r++)i=(i=i.n).hasOwnProperty(n[r])&&i[n[r]]||(i[n[r]]={n:{}});for(i.f=i.f||[],r=0,s=i.f.length;r<s;r++)if(i.f[r]==e)return a;return i.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},u.f=function(t){var e=[].slice.call(arguments,1);return function(){u.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},u.stop=function(){n=1},u.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},u.nts=function(){return e.split(o)},u.off=u.unbind=function(t,e){if(t){var n,i,a,l,d,h,f,p=t.split(o),g=[c];for(l=0,d=p.length;l<d;l++)for(h=0;h<g.length;h+=a.length-2){if(a=[h,1],n=g[h].n,p[l]!=s)n[p[l]]&&a.push(n[p[l]]);else for(i in n)n[r](i)&&a.push(n[i]);g.splice.apply(g,a)}for(l=0,d=g.length;l<d;l++)for(n=g[l];n.n;){if(e){if(n.f){for(h=0,f=n.f.length;h<f;h++)if(n.f[h]==e){n.f.splice(h,1);break}!n.f.length&&delete n.f}for(i in n.n)if(n.n[r](i)&&n.n[i].f){var m=n.n[i].f;for(h=0,f=m.length;h<f;h++)if(m[h]==e){m.splice(h,1);break}!m.length&&delete n.n[i].f}}else for(i in delete n.f,n.n)n.n[r](i)&&n.n[i].f&&delete n.n[i].f;n=n.n}}else u._events=c={n:{}}},u.once=function(t,e){var n=function(){return u.unbind(t,n),e.apply(this,arguments)};return u.on(t,n)},u.version=i,u.toString=function(){return"You are running Eve "+i},"undefined"!=typeof module&&module.exports?module.exports=u:"undefined"!=typeof define?define("eve",[],(function(){return u})):t.eve=u}(this),function(t,e){"function"==typeof define&&define.amd?define(["eve"],(function(n){return e(t,n)})):e(t,t.eve)}(this,(function(t,e){function n(t){if(n.is(t,"function"))return w?t():e.on("raphael.DOMload",t);if(n.is(t,U))return n._engine.create[M](n,t.splice(0,3+n.is(t[0],q))).add(t);var i=Array.prototype.slice.call(arguments,0);if(n.is(i[i.length-1],"function")){var r=i.pop();return w?r.call(n._engine.create[M](n,i)):e.on("raphael.DOMload",(function(){r.call(n._engine.create[M](n,i))}))}return n._engine.create[M](n,arguments)}function i(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var n in t)t[S](n)&&(e[n]=i(t[n]));return e}function r(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}function o(t,e,n){function i(){var o=Array.prototype.slice.call(arguments,0),s=o.join("\u2400"),a=i.cache=i.cache||{},l=i.count=i.count||[];return a[S](s)?(r(l,s),n?n(a[s]):a[s]):(l.length>=1e3&&delete a[l.shift()],l.push(s),a[s]=t[M](e,o),n?n(a[s]):a[s])}return i}function s(){return this.hex}function a(t,e){for(var n=[],i=0,r=t.length;r-2*!e>i;i+=2){var o=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4==i?o[3]={x:+t[0],y:+t[1]}:r-2==i&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4==i?o[3]=o[2]:i||(o[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}function l(t,e,n,i,r){return t*(t*(-3*e+9*n-9*i+3*r)+6*e-12*n+6*i)-3*e+3*n}function c(t,e,n,i,r,o,s,a,c){null==c&&(c=1);for(var u=(c=c>1?1:c<0?0:c)/2,d=12,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,g=0;g<d;g++){var m=u*h[g]+u,v=l(m,t,n,r,s),y=l(m,e,i,o,a),b=v*v+y*y;p+=f[g]*z.sqrt(b)}return u*p}function u(t,e,n,i,r,o,s,a,l){if(!(l<0||c(t,e,n,i,r,o,s,a)<l)){var u,d=1,h=d/2,f=d-h,p=.01;for(u=c(t,e,n,i,r,o,s,a,f);R(u-l)>p;)u=c(t,e,n,i,r,o,s,a,f+=(u<l?1:-1)*(h/=2));return f}}function d(t,e,n,i,r,o,s,a){if(!(B(t,n)<j(r,s)||j(t,n)>B(r,s)||B(e,i)<j(o,a)||j(e,i)>B(o,a))){var l=(t-n)*(o-a)-(e-i)*(r-s);if(l){var c=((t*i-e*n)*(r-s)-(t-n)*(r*a-o*s))/l,u=((t*i-e*n)*(o-a)-(e-i)*(r*a-o*s))/l,d=+c.toFixed(2),h=+u.toFixed(2);if(!(d<+j(t,n).toFixed(2)||d>+B(t,n).toFixed(2)||d<+j(r,s).toFixed(2)||d>+B(r,s).toFixed(2)||h<+j(e,i).toFixed(2)||h>+B(e,i).toFixed(2)||h<+j(o,a).toFixed(2)||h>+B(o,a).toFixed(2)))return{x:c,y:u}}}}function h(t,e,i){var r=n.bezierBBox(t),o=n.bezierBBox(e);if(!n.isBBoxIntersect(r,o))return i?0:[];for(var s=c.apply(0,t),a=c.apply(0,e),l=B(~~(s/5),1),u=B(~~(a/5),1),h=[],f=[],p={},g=i?0:[],m=0;m<l+1;m++){var v=n.findDotsAtSegment.apply(n,t.concat(m/l));h.push({x:v.x,y:v.y,t:m/l})}for(m=0;m<u+1;m++)v=n.findDotsAtSegment.apply(n,e.concat(m/u)),f.push({x:v.x,y:v.y,t:m/u});for(m=0;m<l;m++)for(var y=0;y<u;y++){var b=h[m],w=h[m+1],x=f[y],C=f[y+1],_=R(w.x-b.x)<.001?"y":"x",k=R(C.x-x.x)<.001?"y":"x",S=d(b.x,b.y,w.x,w.y,x.x,x.y,C.x,C.y);if(S){if(p[S.x.toFixed(4)]==S.y.toFixed(4))continue;p[S.x.toFixed(4)]=S.y.toFixed(4);var T=b.t+R((S[_]-b[_])/(w[_]-b[_]))*(w.t-b.t),D=x.t+R((S[k]-x[k])/(C[k]-x[k]))*(C.t-x.t);T>=0&&T<=1.001&&D>=0&&D<=1.001&&(i?g++:g.push({x:S.x,y:S.y,t1:j(T,1),t2:j(D,1)}))}}return g}function f(t,e,i){t=n._path2curve(t),e=n._path2curve(e);for(var r,o,s,a,l,c,u,d,f,p,g=i?0:[],m=0,v=t.length;m<v;m++){var y=t[m];if("M"==y[0])r=l=y[1],o=c=y[2];else{"C"==y[0]?(f=[r,o].concat(y.slice(1)),r=f[6],o=f[7]):(f=[r,o,r,o,l,c,l,c],r=l,o=c);for(var b=0,w=e.length;b<w;b++){var x=e[b];if("M"==x[0])s=u=x[1],a=d=x[2];else{"C"==x[0]?(p=[s,a].concat(x.slice(1)),s=p[6],a=p[7]):(p=[s,a,s,a,u,d,u,d],s=u,a=d);var C=h(f,p,i);if(i)g+=C;else{for(var _=0,k=C.length;_<k;_++)C[_].segment1=m,C[_].segment2=b,C[_].bez1=f,C[_].bez2=p;g=g.concat(C)}}}}}return g}function p(t,e,n,i,r,o){null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+i,this.e=+r,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function g(){return this.x+L+this.y+L+this.width+" \xd7 "+this.height}function m(t,e,n,i,r,o){function s(t){return((d*t+u)*t+c)*t}function a(t,e){var n=l(t,e);return((p*n+f)*n+h)*n}function l(t,e){var n,i,r,o,a,l;for(r=t,l=0;l<8;l++){if(o=s(r)-t,R(o)<e)return r;if(R(a=(3*d*r+2*u)*r+c)<1e-6)break;r-=o/a}if((r=t)<(n=0))return n;if(r>(i=1))return i;for(;n<i;){if(o=s(r),R(o-t)<e)return r;t>o?n=r:i=r,r=(i-n)/2+n}return r}var c=3*e,u=3*(i-e)-c,d=1-c-u,h=3*n,f=3*(r-n)-h,p=1-h-f;return a(t,1/(200*o))}function v(t,e){var n=[],i={};if(this.ms=e,this.times=1,t){for(var r in t)t[S](r)&&(i[J(r)]=t[r],n.push(J(r)));n.sort(dt)}this.anim=i,this.top=n[n.length-1],this.percents=n}function y(t,i,r,o,s,a){r=J(r);var l,c,u,d,h,f,g=t.ms,v={},y={},b={};if(o)for(x=0,_=ue.length;x<_;x++){var w=ue[x];if(w.el.id==i.id&&w.anim==t){w.percent!=r?(ue.splice(x,1),u=1):c=w,i.attr(w.totalOrigin);break}}else o=+y;for(var x=0,_=t.percents.length;x<_;x++){if(t.percents[x]==r||t.percents[x]>o*t.top){r=t.percents[x],h=t.percents[x-1]||0,g=g/t.top*(r-h),d=t.percents[x+1],l=t.anim[r];break}o&&i.attr(t.anim[t.percents[x]])}if(l){if(c)c.initstatus=o,c.start=new Date-c.ms*o;else{for(var k in l)if(l[S](k)&&(it[S](k)||i.paper.customAttributes[S](k)))switch(v[k]=i.attr(k),null==v[k]&&(v[k]=nt[k]),y[k]=l[k],it[k]){case q:b[k]=(y[k]-v[k])/g;break;case"colour":v[k]=n.getRGB(v[k]);var T=n.getRGB(y[k]);b[k]={r:(T.r-v[k].r)/g,g:(T.g-v[k].g)/g,b:(T.b-v[k].b)/g};break;case"path":var D=Nt(v[k],y[k]),E=D[1];for(v[k]=D[0],b[k]=[],x=0,_=v[k].length;x<_;x++){b[k][x]=[0];for(var M=1,O=v[k][x].length;M<O;M++)b[k][x][M]=(E[x][M]-v[k][x][M])/g}break;case"transform":var P=i._,L=Wt(P[k],y[k]);if(L)for(v[k]=L.from,y[k]=L.to,b[k]=[],b[k].real=!0,x=0,_=v[k].length;x<_;x++)for(b[k][x]=[v[k][x][0]],M=1,O=v[k][x].length;M<O;M++)b[k][x][M]=(y[k][x][M]-v[k][x][M])/g;else{var F=i.matrix||new p,H={_:{transform:P.transform},getBBox:function(){return i.getBBox(1)}};v[k]=[F.a,F.b,F.c,F.d,F.e,F.f],jt(H,y[k]),y[k]=H._.transform,b[k]=[(H.matrix.a-F.a)/g,(H.matrix.b-F.b)/g,(H.matrix.c-F.c)/g,(H.matrix.d-F.d)/g,(H.matrix.e-F.e)/g,(H.matrix.f-F.f)/g]}break;case"csv":var N=I(l[k])[$](C),z=I(v[k])[$](C);if("clip-rect"==k)for(v[k]=z,b[k]=[],x=z.length;x--;)b[k][x]=(N[x]-v[k][x])/g;y[k]=N;break;default:for(N=[][A](l[k]),z=[][A](v[k]),b[k]=[],x=i.paper.customAttributes[k].length;x--;)b[k][x]=((N[x]||0)-(z[x]||0))/g}var B=l.easing,j=n.easing_formulas[B];if(!j)if((j=I(B).match(K))&&5==j.length){var R=j;j=function(t){return m(t,+R[1],+R[2],+R[3],+R[4],g)}}else j=ft;if(w={anim:t,percent:r,timestamp:f=l.start||t.start||+new Date,start:f+(t.del||0),status:0,initstatus:o||0,stop:!1,ms:g,easing:j,from:v,diff:b,to:y,el:i,callback:l.callback,prev:h,next:d,repeat:a||t.times,origin:i.attr(),totalOrigin:s},ue.push(w),o&&!c&&!u&&(w.stop=!0,w.start=new Date-g*o,1==ue.length))return he();u&&(w.start=new Date-w.ms*o),1==ue.length&&de(he)}e("raphael.anim.start."+i.id,i,t)}}function b(t){for(var e=0;e<ue.length;e++)ue[e].el.paper==t&&ue.splice(e--,1)}n.version="2.1.2",n.eve=e;var w,x,C=/[, ]+/,_={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},k=/\{(\d+)\}/g,S="hasOwnProperty",T={doc:document,win:t},D={was:Object.prototype[S].call(T.win,"Raphael"),is:T.win.Raphael},E=function(){this.ca=this.customAttributes={}},M="apply",A="concat",O="ontouchstart"in T.win||T.win.DocumentTouch&&T.doc instanceof DocumentTouch,P="",L=" ",I=String,$="split",F="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[$](L),H={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},N=I.prototype.toLowerCase,z=Math,B=z.max,j=z.min,R=z.abs,W=z.pow,Y=z.PI,q="number",V="string",U="array",G=Object.prototype.toString,X=(n._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),Q={NaN:1,Infinity:1,"-Infinity":1},K=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Z=z.round,J=parseFloat,tt=parseInt,et=I.prototype.toUpperCase,nt=n._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},it=n._availableAnimAttrs={blur:q,"clip-rect":"csv",cx:q,cy:q,fill:"colour","fill-opacity":q,"font-size":q,height:q,opacity:q,path:"path",r:q,rx:q,ry:q,stroke:"colour","stroke-opacity":q,"stroke-width":q,transform:"transform",width:q,x:q,y:q},rt=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,ot={hs:1,rg:1},st=/,?([achlmqrstvxz]),?/gi,at=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,lt=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ct=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ut=(n._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),dt=function(t,e){return J(t)-J(e)},ht=function(){},ft=function(t){return t},pt=n._rectPath=function(t,e,n,i,r){return r?[["M",t+r,e],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]]:[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]]},gt=function(t,e,n,i){return null==i&&(i=n),[["M",t,e],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]]},mt=n._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return gt(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return gt(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return pt(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return pt(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return pt(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return pt(e.x,e.y,e.width,e.height)}},vt=n.mapPath=function(t,e){if(!e)return t;var n,i,r,o,s,a,l;for(r=0,s=(t=Nt(t)).length;r<s;r++)for(o=1,a=(l=t[r]).length;o<a;o+=2)n=e.x(l[o],l[o+1]),i=e.y(l[o],l[o+1]),l[o]=n,l[o+1]=i;return t};if(n._g=T,n.type=T.win.SVGAngle||T.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==n.type){var yt,bt=T.doc.createElement("div");if(bt.innerHTML='<v:shape adj="1"/>',(yt=bt.firstChild).style.behavior="url(#default#VML)",!yt||"object"!=typeof yt.adj)return n.type=P;bt=null}n.svg=!(n.vml="VML"==n.type),n._Paper=E,n.fn=x=E.prototype=n.prototype,n._id=0,n._oid=0,n.is=function(t,e){return"finite"==(e=N.call(e))?!Q[S](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||G.call(t).slice(8,-1).toLowerCase()==e},n.angle=function(t,e,i,r,o,s){if(null==o){var a=t-i,l=e-r;return a||l?(180+180*z.atan2(-l,-a)/Y+360)%360:0}return n.angle(t,e,o,s)-n.angle(i,r,o,s)},n.rad=function(t){return t%360*Y/180},n.deg=function(t){return 180*t/Y%360},n.snapTo=function(t,e,i){if(i=n.is(i,"finite")?i:10,n.is(t,U)){for(var r=t.length;r--;)if(R(t[r]-e)<=i)return t[r]}else{var o=e%(t=+t);if(o<i)return e-o;if(o>t-i)return e-o+t}return e};var wt,xt;n.createUUID=(wt=/[xy]/g,xt=function(t){var e=16*z.random()|0;return("x"==t?e:3&e|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(wt,xt).toUpperCase()});n.setWindow=function(t){e("raphael.setWindow",n,T.win,t),T.win=t,T.doc=T.win.document,n._engine.initWin&&n._engine.initWin(T.win)};var Ct=function(t){if(n.vml){var e,i=/^\s+|\s+$/g;try{var r=new ActiveXObject("htmlfile");r.write("<body>"),r.close(),e=r.body}catch(t){e=createPopup().document.body}var s=e.createTextRange();Ct=o((function(t){try{e.style.color=I(t).replace(i,P);var n=s.queryCommandValue("ForeColor");return"#"+("000000"+(n=(255&n)<<16|65280&n|(16711680&n)>>>16).toString(16)).slice(-6)}catch(t){return"none"}}))}else{var a=T.doc.createElement("i");a.title="Rapha\xebl Colour Picker",a.style.display="none",T.doc.body.appendChild(a),Ct=o((function(t){return a.style.color=t,T.doc.defaultView.getComputedStyle(a,P).getPropertyValue("color")}))}return Ct(t)},_t=function(){return"hsb("+[this.h,this.s,this.b]+")"},kt=function(){return"hsl("+[this.h,this.s,this.l]+")"},St=function(){return this.hex},Tt=function(t,e,i){if(null==e&&n.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(i=t.b,e=t.g,t=t.r),null==e&&n.is(t,V)){var r=n.getRGB(t);t=r.r,e=r.g,i=r.b}return(t>1||e>1||i>1)&&(t/=255,e/=255,i/=255),[t,e,i]},Dt=function(t,e,i,r){var o={r:t*=255,g:e*=255,b:i*=255,hex:n.rgb(t,e,i),toString:St};return n.is(r,"finite")&&(o.opacity=r),o};n.color=function(t){var e;return n.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=n.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):n.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=n.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):(n.is(t,"string")&&(t=n.getRGB(t)),n.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(e=n.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=n.rgb2hsb(t),t.v=e.b):(t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1),t.toString=St,t},n.hsb2rgb=function(t,e,n,i){var r,o,s,a,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,i=(t=t.h).o),r=o=s=n-(l=n*e),r+=[l,a=l*(1-R((t=(t*=360)%360/60)%2-1)),0,0,a,l][t=~~t],o+=[a,l,l,a,0,0][t],s+=[0,0,a,l,l,a][t],Dt(r,o,s,i)},n.hsl2rgb=function(t,e,n,i){var r,o,s,a,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),r=o=s=n-(l=2*e*(n<.5?n:1-n))/2,r+=[l,a=l*(1-R((t=(t*=360)%360/60)%2-1)),0,0,a,l][t=~~t],o+=[a,l,l,a,0,0][t],s+=[0,0,a,l,l,a][t],Dt(r,o,s,i)},n.rgb2hsb=function(t,e,n){var i,r;return t=(n=Tt(t,e,n))[0],e=n[1],n=n[2],{h:((0==(r=(i=B(t,e,n))-j(t,e,n))?null:i==t?(e-n)/r:i==e?(n-t)/r+2:(t-e)/r+4)+360)%6*60/360,s:0==r?0:r/i,b:i,toString:_t}},n.rgb2hsl=function(t,e,n){var i,r,o,s;return t=(n=Tt(t,e,n))[0],e=n[1],n=n[2],i=((r=B(t,e,n))+(o=j(t,e,n)))/2,{h:((0==(s=r-o)?null:r==t?(e-n)/s:r==e?(n-t)/s+2:(t-e)/s+4)+360)%6*60/360,s:0==s?0:i<.5?s/(2*i):s/(2-2*i),l:i,toString:kt}},n._path2string=function(){return this.join(",").replace(st,"$1")};n._preload=function(t,e){var n=T.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){e.call(this),this.onload=null,T.doc.body.removeChild(this)},n.onerror=function(){T.doc.body.removeChild(this)},T.doc.body.appendChild(n),n.src=t};n.getRGB=o((function(t){if(!t||(t=I(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:s};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:s};!ot[S](t.toLowerCase().substring(0,2))&&"#"!=t.charAt()&&(t=Ct(t));var e,i,r,o,a,l,c=t.match(X);return c?(c[2]&&(r=tt(c[2].substring(5),16),i=tt(c[2].substring(3,5),16),e=tt(c[2].substring(1,3),16)),c[3]&&(r=tt((a=c[3].charAt(3))+a,16),i=tt((a=c[3].charAt(2))+a,16),e=tt((a=c[3].charAt(1))+a,16)),c[4]&&(l=c[4][$](rt),e=J(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),i=J(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),r=J(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),"rgba"==c[1].toLowerCase().slice(0,4)&&(o=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(o/=100)),c[5]?(l=c[5][$](rt),e=J(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),i=J(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),r=J(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),("deg"==l[0].slice(-3)||"\xb0"==l[0].slice(-1))&&(e/=360),"hsba"==c[1].toLowerCase().slice(0,4)&&(o=J(l[3])),
l[3]&&"%"==l[3].slice(-1)&&(o/=100),n.hsb2rgb(e,i,r,o)):c[6]?(l=c[6][$](rt),e=J(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),i=J(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),r=J(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),("deg"==l[0].slice(-3)||"\xb0"==l[0].slice(-1))&&(e/=360),"hsla"==c[1].toLowerCase().slice(0,4)&&(o=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(o/=100),n.hsl2rgb(e,i,r,o)):((c={r:e,g:i,b:r,toString:s}).hex="#"+(16777216|r|i<<8|e<<16).toString(16).slice(1),n.is(o,"finite")&&(c.opacity=o),c)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:s}}),n),n.hsb=o((function(t,e,i){return n.hsb2rgb(t,e,i).hex})),n.hsl=o((function(t,e,i){return n.hsl2rgb(t,e,i).hex})),n.rgb=o((function(t,e,n){return"#"+(16777216|n|e<<8|t<<16).toString(16).slice(1)})),n.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},n=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),n.hex},n.getColor.reset=function(){delete this.start},n.parsePathString=function(t){if(!t)return null;var e=Et(t);if(e.arr)return At(e.arr);var i={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[];return n.is(t,U)&&n.is(t[0],U)&&(r=At(t)),r.length||I(t).replace(at,(function(t,e,n){var o=[],s=e.toLowerCase();if(n.replace(ct,(function(t,e){e&&o.push(+e)})),"m"==s&&o.length>2&&(r.push([e][A](o.splice(0,2))),s="l",e="m"==e?"l":"L"),"r"==s)r.push([e][A](o));else for(;o.length>=i[s]&&(r.push([e][A](o.splice(0,i[s]))),i[s]););})),r.toString=n._path2string,e.arr=At(r),r},n.parseTransformString=o((function(t){if(!t)return null;var e=[];return n.is(t,U)&&n.is(t[0],U)&&(e=At(t)),e.length||I(t).replace(lt,(function(t,n,i){var r=[];N.call(n);i.replace(ct,(function(t,e){e&&r.push(+e)})),e.push([n][A](r))})),e.toString=n._path2string,e}));var Et=function(t){var e=Et.ps=Et.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout((function(){for(var n in e)e[S](n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])})),e[t]};n.findDotsAtSegment=function(t,e,n,i,r,o,s,a,l){var c=1-l,u=W(c,3),d=W(c,2),h=l*l,f=h*l,p=u*t+3*d*l*n+3*c*l*l*r+f*s,g=u*e+3*d*l*i+3*c*l*l*o+f*a,m=t+2*l*(n-t)+h*(r-2*n+t),v=e+2*l*(i-e)+h*(o-2*i+e),y=n+2*l*(r-n)+h*(s-2*r+n),b=i+2*l*(o-i)+h*(a-2*o+i),w=c*t+l*n,x=c*e+l*i,C=c*r+l*s,_=c*o+l*a,k=90-180*z.atan2(m-y,v-b)/Y;return(m>y||v<b)&&(k+=180),{x:p,y:g,m:{x:m,y:v},n:{x:y,y:b},start:{x:w,y:x},end:{x:C,y:_},alpha:k}},n.bezierBBox=function(t,e,i,r,o,s,a,l){n.is(t,"array")||(t=[t,e,i,r,o,s,a,l]);var c=Ht.apply(null,t);return{x:c.min.x,y:c.min.y,x2:c.max.x,y2:c.max.y,width:c.max.x-c.min.x,height:c.max.y-c.min.y}},n.isPointInsideBBox=function(t,e,n){return e>=t.x&&e<=t.x2&&n>=t.y&&n<=t.y2},n.isBBoxIntersect=function(t,e){var i=n.isPointInsideBBox;return i(e,t.x,t.y)||i(e,t.x2,t.y)||i(e,t.x,t.y2)||i(e,t.x2,t.y2)||i(t,e.x,e.y)||i(t,e.x2,e.y)||i(t,e.x,e.y2)||i(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},n.pathIntersection=function(t,e){return f(t,e)},n.pathIntersectionNumber=function(t,e){return f(t,e,1)},n.isPointInsidePath=function(t,e,i){var r=n.pathBBox(t);return n.isPointInsideBBox(r,e,i)&&f(t,[["M",e,i],["H",r.x2+10]],1)%2==1},n._removedFactory=function(t){return function(){e("raphael.log",null,"Rapha\xebl: you are calling to method \u201c"+t+"\u201d of removed object",t)}};var Mt=n.pathBBox=function(t){var e=Et(t);if(e.bbox)return i(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var n,r=0,o=0,s=[],a=[],l=0,c=(t=Nt(t)).length;l<c;l++)if("M"==(n=t[l])[0])r=n[1],o=n[2],s.push(r),a.push(o);else{var u=Ht(r,o,n[1],n[2],n[3],n[4],n[5],n[6]);s=s[A](u.min.x,u.max.x),a=a[A](u.min.y,u.max.y),r=n[5],o=n[6]}var d=j[M](0,s),h=j[M](0,a),f=B[M](0,s),p=B[M](0,a),g=f-d,m=p-h,v={x:d,y:h,x2:f,y2:p,width:g,height:m,cx:d+g/2,cy:h+m/2};return e.bbox=i(v),v},At=function(t){var e=i(t);return e.toString=n._path2string,e},Ot=n._pathToRelative=function(t){var e=Et(t);if(e.rel)return At(e.rel);n.is(t,U)&&n.is(t&&t[0],U)||(t=n.parsePathString(t));var i=[],r=0,o=0,s=0,a=0,l=0;"M"==t[0][0]&&(s=r=t[0][1],a=o=t[0][2],l++,i.push(["M",r,o]));for(var c=l,u=t.length;c<u;c++){var d=i[c]=[],h=t[c];if(h[0]!=N.call(h[0]))switch(d[0]=N.call(h[0]),d[0]){case"a":d[1]=h[1],d[2]=h[2],d[3]=h[3],d[4]=h[4],d[5]=h[5],d[6]=+(h[6]-r).toFixed(3),d[7]=+(h[7]-o).toFixed(3);break;case"v":d[1]=+(h[1]-o).toFixed(3);break;case"m":s=h[1],a=h[2];default:for(var f=1,p=h.length;f<p;f++)d[f]=+(h[f]-(f%2?r:o)).toFixed(3)}else{d=i[c]=[],"m"==h[0]&&(s=h[1]+r,a=h[2]+o);for(var g=0,m=h.length;g<m;g++)i[c][g]=h[g]}var v=i[c].length;switch(i[c][0]){case"z":r=s,o=a;break;case"h":r+=+i[c][v-1];break;case"v":o+=+i[c][v-1];break;default:r+=+i[c][v-2],o+=+i[c][v-1]}}return i.toString=n._path2string,e.rel=At(i),i},Pt=n._pathToAbsolute=function(t){var e=Et(t);if(e.abs)return At(e.abs);if(n.is(t,U)&&n.is(t&&t[0],U)||(t=n.parsePathString(t)),!t||!t.length)return[["M",0,0]];var i=[],r=0,o=0,s=0,l=0,c=0;"M"==t[0][0]&&(s=r=+t[0][1],l=o=+t[0][2],c++,i[0]=["M",r,o]);for(var u,d,h=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),f=c,p=t.length;f<p;f++){if(i.push(u=[]),(d=t[f])[0]!=et.call(d[0]))switch(u[0]=et.call(d[0]),u[0]){case"A":u[1]=d[1],u[2]=d[2],u[3]=d[3],u[4]=d[4],u[5]=d[5],u[6]=+(d[6]+r),u[7]=+(d[7]+o);break;case"V":u[1]=+d[1]+o;break;case"H":u[1]=+d[1]+r;break;case"R":for(var g=[r,o][A](d.slice(1)),m=2,v=g.length;m<v;m++)g[m]=+g[m]+r,g[++m]=+g[m]+o;i.pop(),i=i[A](a(g,h));break;case"M":s=+d[1]+r,l=+d[2]+o;default:for(m=1,v=d.length;m<v;m++)u[m]=+d[m]+(m%2?r:o)}else if("R"==d[0])g=[r,o][A](d.slice(1)),i.pop(),i=i[A](a(g,h)),u=["R"][A](d.slice(-2));else for(var y=0,b=d.length;y<b;y++)u[y]=d[y];switch(u[0]){case"Z":r=s,o=l;break;case"H":r=u[1];break;case"V":o=u[1];break;case"M":s=u[u.length-2],l=u[u.length-1];default:r=u[u.length-2],o=u[u.length-1]}}return i.toString=n._path2string,e.abs=At(i),i},Lt=function(t,e,n,i){return[t,e,n,i,n,i]},It=function(t,e,n,i,r,o){var s=1/3,a=2/3;return[s*t+a*n,s*e+a*i,s*r+a*n,s*o+a*i,r,o]},$t=function(t,e,n,i,r,s,a,l,c,u){var d,h=120*Y/180,f=Y/180*(+r||0),p=[],g=o((function(t,e,n){return{x:t*z.cos(n)-e*z.sin(n),y:t*z.sin(n)+e*z.cos(n)}}));if(u)k=u[0],S=u[1],C=u[2],_=u[3];else{t=(d=g(t,e,-f)).x,e=d.y,l=(d=g(l,c,-f)).x,c=d.y;z.cos(Y/180*r),z.sin(Y/180*r);var m=(t-l)/2,v=(e-c)/2,y=m*m/(n*n)+v*v/(i*i);y>1&&(n*=y=z.sqrt(y),i*=y);var b=n*n,w=i*i,x=(s==a?-1:1)*z.sqrt(R((b*w-b*v*v-w*m*m)/(b*v*v+w*m*m))),C=x*n*v/i+(t+l)/2,_=x*-i*m/n+(e+c)/2,k=z.asin(((e-_)/i).toFixed(9)),S=z.asin(((c-_)/i).toFixed(9));(k=t<C?Y-k:k)<0&&(k=2*Y+k),(S=l<C?Y-S:S)<0&&(S=2*Y+S),a&&k>S&&(k-=2*Y),!a&&S>k&&(S-=2*Y)}var T=S-k;if(R(T)>h){var D=S,E=l,M=c;S=k+h*(a&&S>k?1:-1),l=C+n*z.cos(S),c=_+i*z.sin(S),p=$t(l,c,n,i,r,0,a,E,M,[S,D,C,_])}T=S-k;var O=z.cos(k),P=z.sin(k),L=z.cos(S),I=z.sin(S),F=z.tan(T/4),H=4/3*n*F,N=4/3*i*F,B=[t,e],j=[t+H*P,e-N*O],W=[l+H*I,c-N*L],q=[l,c];if(j[0]=2*B[0]-j[0],j[1]=2*B[1]-j[1],u)return[j,W,q][A](p);for(var V=[],U=0,G=(p=[j,W,q][A](p).join()[$](",")).length;U<G;U++)V[U]=U%2?g(p[U-1],p[U],f).y:g(p[U],p[U+1],f).x;return V},Ft=function(t,e,n,i,r,o,s,a,l){var c=1-l;return{x:W(c,3)*t+3*W(c,2)*l*n+3*c*l*l*r+W(l,3)*s,y:W(c,3)*e+3*W(c,2)*l*i+3*c*l*l*o+W(l,3)*a}},Ht=o((function(t,e,n,i,r,o,s,a){var l,c=r-2*n+t-(s-2*r+n),u=2*(n-t)-2*(r-n),d=t-n,h=(-u+z.sqrt(u*u-4*c*d))/2/c,f=(-u-z.sqrt(u*u-4*c*d))/2/c,p=[e,a],g=[t,s];return R(h)>"1e12"&&(h=.5),R(f)>"1e12"&&(f=.5),h>0&&h<1&&(l=Ft(t,e,n,i,r,o,s,a,h),g.push(l.x),p.push(l.y)),f>0&&f<1&&(l=Ft(t,e,n,i,r,o,s,a,f),g.push(l.x),p.push(l.y)),c=o-2*i+e-(a-2*o+i),d=e-i,h=(-(u=2*(i-e)-2*(o-i))+z.sqrt(u*u-4*c*d))/2/c,f=(-u-z.sqrt(u*u-4*c*d))/2/c,R(h)>"1e12"&&(h=.5),R(f)>"1e12"&&(f=.5),h>0&&h<1&&(l=Ft(t,e,n,i,r,o,s,a,h),g.push(l.x),p.push(l.y)),f>0&&f<1&&(l=Ft(t,e,n,i,r,o,s,a,f),g.push(l.x),p.push(l.y)),{min:{x:j[M](0,g),y:j[M](0,p)},max:{x:B[M](0,g),y:B[M](0,p)}}})),Nt=n._path2curve=o((function(t,e){var n=!e&&Et(t);if(!e&&n.curve)return At(n.curve);for(var i=Pt(t),r=e&&Pt(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=function(t,e,n){var i,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][A]($t[M](0,[e.x,e.y][A](t.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*e.x-e.bx,r=2*e.y-e.by):(i=e.x,r=e.y),t=["C",i,r][A](t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][A](It(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][A](It(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][A](Lt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][A](Lt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][A](Lt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][A](Lt(e.x,e.y,e.X,e.Y))}return t},l=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)t.splice(e++,0,["C"][A](n.splice(0,6)));t.splice(e,1),d=B(i.length,r&&r.length||0)}},c=function(t,e,n,o,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",o.x,o.y]),n.bx=0,n.by=0,n.x=t[s][1],n.y=t[s][2],d=B(i.length,r&&r.length||0))},u=0,d=B(i.length,r&&r.length||0);u<d;u++){i[u]=a(i[u],o),l(i,u),r&&(r[u]=a(r[u],s)),r&&l(r,u),c(i,r,o,s,u),c(r,i,s,o,u);var h=i[u],f=r&&r[u],p=h.length,g=r&&f.length;o.x=h[p-2],o.y=h[p-1],o.bx=J(h[p-4])||o.x,o.by=J(h[p-3])||o.y,s.bx=r&&(J(f[g-4])||s.x),s.by=r&&(J(f[g-3])||s.y),s.x=r&&f[g-2],s.y=r&&f[g-1]}return r||(n.curve=At(i)),r?[i,r]:i}),null,At),zt=(n._parseDots=o((function(t){for(var e=[],i=0,r=t.length;i<r;i++){var o={},s=t[i].match(/^([^:]*):?([\d\.]*)/);if(o.color=n.getRGB(s[1]),o.color.error)return null;o.color=o.color.hex,s[2]&&(o.offset=s[2]+"%"),e.push(o)}for(i=1,r=e.length-1;i<r;i++)if(!e[i].offset){for(var a=J(e[i-1].offset||0),l=0,c=i+1;c<r;c++)if(e[c].offset){l=e[c].offset;break}l||(l=100,c=r);for(var u=((l=J(l))-a)/(c-i+1);i<c;i++)a+=u,e[i].offset=a+"%"}return e})),n._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Bt=(n._tofront=function(t,e){e.top!==t&&(zt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},n._toback=function(t,e){e.bottom!==t&&(zt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},n._insertafter=function(t,e,n){zt(t,n),e==n.top&&(n.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},n._insertbefore=function(t,e,n){zt(t,n),e==n.bottom&&(n.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},n.toMatrix=function(t,e){var n=Mt(t),i={_:{transform:P},getBBox:function(){return n}};return jt(i,e),i.matrix}),jt=(n.transformPath=function(t,e){return vt(t,Bt(t,e))},n._extractTransform=function(t,e){if(null==e)return t._.transform;e=I(e).replace(/\.{3}|\u2026/g,t._.transform||P);var i=n.parseTransformString(e),r=0,o=0,s=0,a=1,l=1,c=t._,u=new p;if(c.transform=i||[],i)for(var d=0,h=i.length;d<h;d++){var f,g,m,v,y,b=i[d],w=b.length,x=I(b[0]).toLowerCase(),C=b[0]!=x,_=C?u.invert():0;"t"==x&&3==w?C?(f=_.x(0,0),g=_.y(0,0),m=_.x(b[1],b[2]),v=_.y(b[1],b[2]),u.translate(m-f,v-g)):u.translate(b[1],b[2]):"r"==x?2==w?(y=y||t.getBBox(1),u.rotate(b[1],y.x+y.width/2,y.y+y.height/2),r+=b[1]):4==w&&(C?(m=_.x(b[2],b[3]),v=_.y(b[2],b[3]),u.rotate(b[1],m,v)):u.rotate(b[1],b[2],b[3]),r+=b[1]):"s"==x?2==w||3==w?(y=y||t.getBBox(1),u.scale(b[1],b[w-1],y.x+y.width/2,y.y+y.height/2),a*=b[1],l*=b[w-1]):5==w&&(C?(m=_.x(b[3],b[4]),v=_.y(b[3],b[4]),u.scale(b[1],b[2],m,v)):u.scale(b[1],b[2],b[3],b[4]),a*=b[1],l*=b[2]):"m"==x&&7==w&&u.add(b[1],b[2],b[3],b[4],b[5],b[6]),c.dirtyT=1,t.matrix=u}t.matrix=u,c.sx=a,c.sy=l,c.deg=r,c.dx=o=u.e,c.dy=s=u.f,1==a&&1==l&&!r&&c.bbox?(c.bbox.x+=+o,c.bbox.y+=+s):c.dirtyT=1}),Rt=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Wt=n._equaliseTransform=function(t,e){e=I(e).replace(/\.{3}|\u2026/g,t),t=n.parseTransformString(t)||[],e=n.parseTransformString(e)||[];for(var i,r,o,s,a=B(t.length,e.length),l=[],c=[],u=0;u<a;u++){if(o=t[u]||Rt(e[u]),s=e[u]||Rt(o),o[0]!=s[0]||"r"==o[0].toLowerCase()&&(o[2]!=s[2]||o[3]!=s[3])||"s"==o[0].toLowerCase()&&(o[3]!=s[3]||o[4]!=s[4]))return;for(l[u]=[],c[u]=[],i=0,r=B(o.length,s.length);i<r;i++)i in o&&(l[u][i]=o[i]),i in s&&(c[u][i]=s[i])}return{from:l,to:c}};n._getContainer=function(t,e,i,r){var o;if(null!=(o=null!=r||n.is(t,"object")?t:T.doc.getElementById(t)))return o.tagName?null==e?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:e,height:i}:{container:1,x:t,y:e,width:i,height:r}},n.pathToRelative=Ot,n._engine={},n.path2curve=Nt,n.matrix=function(t,e,n,i,r,o){return new p(t,e,n,i,r,o)},function(t){function e(t){return t[0]*t[0]+t[1]*t[1]}function i(t){var n=z.sqrt(e(t));t[0]&&(t[0]/=n),t[1]&&(t[1]/=n)}t.add=function(t,e,n,i,r,o){var s,a,l,c,u=[[],[],[]],d=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],h=[[t,n,r],[e,i,o],[0,0,1]];for(t&&t instanceof p&&(h=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),s=0;s<3;s++)for(a=0;a<3;a++){for(c=0,l=0;l<3;l++)c+=d[s][l]*h[l][a];u[s][a]=c}this.a=u[0][0],this.b=u[1][0],this.c=u[0][1],this.d=u[1][1],this.e=u[0][2],this.f=u[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new p(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new p(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,n,i){null==e&&(e=t),(n||i)&&this.add(1,0,0,1,n,i),this.add(t,0,0,e,0,0),(n||i)&&this.add(1,0,0,1,-n,-i)},t.rotate=function(t,e,i){t=n.rad(t),e=e||0,i=i||0;var r=+z.cos(t).toFixed(9),o=+z.sin(t).toFixed(9);this.add(r,o,-o,r,e,i),this.add(1,0,0,1,-e,-i)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[I.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return n.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];t.scalex=z.sqrt(e(r[0])),i(r[0]),t.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*t.shear,r[1][1]-r[0][1]*t.shear],t.scaley=z.sqrt(e(r[1])),i(r[1]),t.shear/=t.scaley;var o=-r[0][1],s=r[1][1];return s<0?(t.rotate=n.deg(z.acos(s)),o<0&&(t.rotate=360-t.rotate)):t.rotate=n.deg(z.asin(o)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[$]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:P)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:P)+(e.rotate?"r"+[e.rotate,0,0]:P)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(p.prototype);var Yt=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);"Apple Computer, Inc."==navigator.vendor&&(Yt&&Yt[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Yt&&Yt[1]<8?x.safari=function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout((function(){t.remove()}))}:x.safari=ht;for(var qt=function(){this.returnValue=!1},Vt=function(){return this.originalEvent.preventDefault()},Ut=function(){this.cancelBubble=!0},Gt=function(){return this.originalEvent.stopPropagation()},Xt=function(t){var e=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,n=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft;return{x:t.clientX+n,y:t.clientY+e}},Qt=T.doc.addEventListener?function(t,e,n,i){var r=function(t){var e=Xt(t);return n.call(i,t,e.x,e.y)};if(t.addEventListener(e,r,!1),O&&H[e]){var o=function(e){for(var r=Xt(e),o=e,s=0,a=e.targetTouches&&e.targetTouches.length;s<a;s++)if(e.targetTouches[s].target==t){(e=e.targetTouches[s]).originalEvent=o,e.preventDefault=Vt,e.stopPropagation=Gt;break}return n.call(i,e,r.x,r.y)};t.addEventListener(H[e],o,!1)}return function(){return t.removeEventListener(e,r,!1),O&&H[e]&&t.removeEventListener(H[e],r,!1),!0}}:T.doc.attachEvent?function(t,e,n,i){var r=function(t){t=t||T.win.event;var e=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,r=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft,o=t.clientX+r,s=t.clientY+e;return t.preventDefault=t.preventDefault||qt,t.stopPropagation=t.stopPropagation||Ut,n.call(i,t,o,s)};return t.attachEvent("on"+e,r),function(){return t.detachEvent("on"+e,r),!0}}:void 0,Kt=[],Zt=function(t){for(var n,i=t.clientX,r=t.clientY,o=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,s=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft,a=Kt.length;a--;){if(n=Kt[a],O&&t.touches){for(var l,c=t.touches.length;c--;)if((l=t.touches[c]).identifier==n.el._drag.id){i=l.clientX,r=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var u,d=n.el.node,h=d.nextSibling,f=d.parentNode,p=d.style.display;T.win.opera&&f.removeChild(d),d.style.display="none",u=n.el.paper.getElementByPoint(i,r),d.style.display=p,T.win.opera&&(h?f.insertBefore(d,h):f.appendChild(d)),u&&e("raphael.drag.over."+n.el.id,n.el,u),i+=s,r+=o,e("raphael.drag.move."+n.el.id,n.move_scope||n.el,i-n.el._drag.x,r-n.el._drag.y,i,r,t)}},Jt=function(t){n.unmousemove(Zt).unmouseup(Jt);for(var i,r=Kt.length;r--;)(i=Kt[r]).el._drag={},e("raphael.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,t);Kt=[]},te=n.el={},ee=F.length;ee--;)!function(t){n[t]=te[t]=function(e,i){return n.is(e,"function")&&(this.events=this.events||[],this.events.push({name:t,f:e,unbind:Qt(this.shape||this.node||T.doc,t,e,i||this)})),this},n["un"+t]=te["un"+t]=function(e){for(var i=this.events||[],r=i.length;r--;)i[r].name!=t||!n.is(e,"undefined")&&i[r].f!=e||(i[r].unbind(),i.splice(r,1),!i.length&&delete this.events);return this}}(F[ee]);te.data=function(t,i){var r=ut[this.id]=ut[this.id]||{};if(0==arguments.length)return r;if(1==arguments.length){if(n.is(t,"object")){for(var o in t)t[S](o)&&this.data(o,t[o]);return this}return e("raphael.data.get."+this.id,this,r[t],t),r[t]}return r[t]=i,e("raphael.data.set."+this.id,this,i,t),this},te.removeData=function(t){return null==t?ut[this.id]={}:ut[this.id]&&delete ut[this.id][t],this},te.getData=function(){return i(ut[this.id]||{})},te.hover=function(t,e,n,i){return this.mouseover(t,n).mouseout(e,i||n)},te.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var ne=[];te.drag=function(t,i,r,o,s,a){function l(l){(l.originalEvent||l).preventDefault();var c=l.clientX,u=l.clientY,d=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,h=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft;if(this._drag.id=l.identifier,O&&l.touches)for(var f,p=l.touches.length;p--;)if(f=l.touches[p],this._drag.id=f.identifier,f.identifier==this._drag.id){c=f.clientX,u=f.clientY;break}this._drag.x=c+h,this._drag.y=u+d,!Kt.length&&n.mousemove(Zt).mouseup(Jt),Kt.push({el:this,move_scope:o,start_scope:s,end_scope:a}),i&&e.on("raphael.drag.start."+this.id,i),t&&e.on("raphael.drag.move."+this.id,t),r&&e.on("raphael.drag.end."+this.id,r),e("raphael.drag.start."+this.id,s||o||this,l.clientX+h,l.clientY+d,l)}return this._drag={},ne.push({el:this,start:l}),this.mousedown(l),this},te.onDragOver=function(t){t?e.on("raphael.drag.over."+this.id,t):e.unbind("raphael.drag.over."+this.id)},te.undrag=function(){for(var t=ne.length;t--;)ne[t].el==this&&(this.unmousedown(ne[t].start),ne.splice(t,1),e.unbind("raphael.drag.*."+this.id));!ne.length&&n.unmousemove(Zt).unmouseup(Jt),Kt=[]},x.circle=function(t,e,i){var r=n._engine.circle(this,t||0,e||0,i||0);return this.__set__&&this.__set__.push(r),r},x.rect=function(t,e,i,r,o){var s=n._engine.rect(this,t||0,e||0,i||0,r||0,o||0);return this.__set__&&this.__set__.push(s),s},x.ellipse=function(t,e,i,r){var o=n._engine.ellipse(this,t||0,e||0,i||0,r||0);return this.__set__&&this.__set__.push(o),o},x.path=function(t){t&&!n.is(t,V)&&!n.is(t[0],U)&&(t+=P);var e=n._engine.path(n.format[M](n,arguments),this);return this.__set__&&this.__set__.push(e),e},x.image=function(t,e,i,r,o){var s=n._engine.image(this,t||"about:blank",e||0,i||0,r||0,o||0);return this.__set__&&this.__set__.push(s),s},x.text=function(t,e,i){var r=n._engine.text(this,t||0,e||0,I(i));return this.__set__&&this.__set__.push(r),r},x.set=function(t){!n.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var e=new ve(t);return this.__set__&&this.__set__.push(e),e.paper=this,e.type="set",e},x.setStart=function(t){this.__set__=t||this.set()},x.setFinish=function(){var t=this.__set__;return delete this.__set__,t},x.setSize=function(t,e){return n._engine.setSize.call(this,t,e)},x.setViewBox=function(t,e,i,r,o){return n._engine.setViewBox.call(this,t,e,i,r,o)},x.top=x.bottom=null,x.raphael=n;var ie=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,i=n.body,r=n.documentElement,o=r.clientTop||i.clientTop||0,s=r.clientLeft||i.clientLeft||0;return{y:e.top+(T.win.pageYOffset||r.scrollTop||i.scrollTop)-o,x:e.left+(T.win.pageXOffset||r.scrollLeft||i.scrollLeft)-s}};x.getElementByPoint=function(t,e){var n=this,i=n.canvas,r=T.doc.elementFromPoint(t,e);if(T.win.opera&&"svg"==r.tagName){var o=ie(i),s=i.createSVGRect();s.x=t-o.x,s.y=e-o.y,s.width=s.height=1;var a=i.getIntersectionList(s,null);a.length&&(r=a[a.length-1])}if(!r)return null;for(;r.parentNode&&r!=i.parentNode&&!r.raphael;)r=r.parentNode;return r==n.canvas.parentNode&&(r=i),r=r&&r.raphael?n.getById(r.raphaelid):null},x.getElementsByBBox=function(t){var e=this.set();return this.forEach((function(i){n.isBBoxIntersect(i.getBBox(),t)&&e.push(i)})),e},x.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},x.forEach=function(t,e){for(var n=this.bottom;n;){if(!1===t.call(e,n))return this;n=n.next}return this},x.getElementsByPoint=function(t,e){var n=this.set();return this.forEach((function(i){i.isPointInside(t,e)&&n.push(i)})),n},te.isPointInside=function(t,e){var i=this.realPath=mt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(i=n.transformPath(i,this.attr("transform"))),n.isPointInsidePath(i,t,e)},te.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=mt[this.type](this),e.bboxwt=Mt(this.realPath),e.bboxwt.toString=g,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=mt[this.type](this)),e.bbox=Mt(vt(this.realPath,this.matrix)),e.bbox.toString=g,e.dirty=e.dirtyT=0),e.bbox)},te.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},te.glow=function(t){if("text"==this.type)return null;var e={width:((t=t||{}).width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},n=e.width/2,i=this.paper,r=i.set(),o=this.realPath||mt[this.type](this);o=this.matrix?vt(o,this.matrix):o;for(var s=1;s<n+1;s++)r.push(i.path(o).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/n*s).toFixed(3),opacity:+(e.opacity/n).toFixed(3)}));return r.insertBefore(this).translate(e.offsetx,e.offsety)};var re=function(t,e,i,r,o,s,a,l,d){return null==d?c(t,e,i,r,o,s,a,l):n.findDotsAtSegment(t,e,i,r,o,s,a,l,u(t,e,i,r,o,s,a,l,d))},oe=function(t,e){return function(i,r,o){for(var s,a,l,c,u,d="",h={},f=0,p=0,g=(i=Nt(i)).length;p<g;p++){if("M"==(l=i[p])[0])s=+l[1],a=+l[2];else{if(f+(c=re(s,a,l[1],l[2],l[3],l[4],l[5],l[6]))>r){if(e&&!h.start){if(d+=["C"+(u=re(s,a,l[1],l[2],l[3],l[4],l[5],l[6],r-f)).start.x,u.start.y,u.m.x,u.m.y,u.x,u.y],o)return d;h.start=d,d=["M"+u.x,u.y+"C"+u.n.x,u.n.y,u.end.x,u.end.y,l[5],l[6]].join(),f+=c,s=+l[5],a=+l[6];continue}if(!t&&!e)return{x:(u=re(s,a,l[1],l[2],l[3],l[4],l[5],l[6],r-f)).x,y:u.y,alpha:u.alpha}}f+=c,s=+l[5],a=+l[6]}d+=l.shift()+l}return h.end=d,(u=t?f:e?h:n.findDotsAtSegment(s,a,l[0],l[1],l[2],l[3],l[4],l[5],1)).alpha&&(u={x:u.x,y:u.y,alpha:u.alpha}),u}},se=oe(1),ae=oe(),le=oe(0,1);n.getTotalLength=se,n.getPointAtLength=ae,n.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return le(t,e).end;var i=le(t,n,1);return e?le(i,e).end:i},te.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():se(t)},te.getPointAtLength=function(t){var e=this.getPath();if(e)return ae(e,t)},te.getPath=function(){var t,e=n._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return e&&(t=e(this)),t},te.getSubpath=function(t,e){var i=this.getPath();if(i)return n.getSubpath(i,t,e)};var ce=n.easing_formulas={linear:function(t){return t},"<":function(t){return W(t,1.7)},">":function(t){return W(t,.48)},"<>":function(t){var e=.48-t/1.04,n=z.sqrt(.1734+e*e),i=n-e,r=-n-e,o=W(R(i),1/3)*(i<0?-1:1)+W(R(r),1/3)*(r<0?-1:1)+.5;return 3*(1-o)*o*o+o*o*o},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:W(2,-10*t)*z.sin(2*Y*(t-.075)/.3)+1},bounce:function(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375}};ce.easeIn=ce["ease-in"]=ce["<"],ce.easeOut=ce["ease-out"]=ce[">"],ce.easeInOut=ce["ease-in-out"]=ce["<>"],ce["back-in"]=ce.backIn,ce["back-out"]=ce.backOut;var ue=[],de=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},he=function(){for(var t=+new Date,i=0;i<ue.length;i++){var r=ue[i];if(!r.el.removed&&!r.paused){var o,s,a=t-r.start,l=r.ms,c=r.easing,u=r.from,d=r.diff,h=r.to,f=(r.t,r.el),p={},g={};if(r.initstatus?(a=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*l,r.status=r.initstatus,delete r.initstatus,r.stop&&ue.splice(i--,1)):r.status=(r.prev+(r.percent-r.prev)*(a/l))/r.anim.top,!(a<0))if(a<l){var m=c(a/l);for(var v in u)if(u[S](v)){switch(it[v]){case q:o=+u[v]+m*l*d[v];break;case"colour":o="rgb("+[fe(Z(u[v].r+m*l*d[v].r)),fe(Z(u[v].g+m*l*d[v].g)),fe(Z(u[v].b+m*l*d[v].b))].join(",")+")";break;case"path":o=[];for(var b=0,w=u[v].length;b<w;b++){o[b]=[u[v][b][0]];for(var x=1,C=u[v][b].length;x<C;x++)o[b][x]=+u[v][b][x]+m*l*d[v][b][x];o[b]=o[b].join(L)}o=o.join(L);break;case"transform":if(d[v].real)for(o=[],b=0,w=u[v].length;b<w;b++)for(o[b]=[u[v][b][0]],x=1,C=u[v][b].length;x<C;x++)o[b][x]=u[v][b][x]+m*l*d[v][b][x];else{var _=function(t){return+u[v][t]+m*l*d[v][t]};o=[["m",_(0),_(1),_(2),_(3),_(4),_(5)]]}break;case"csv":if("clip-rect"==v)for(o=[],b=4;b--;)o[b]=+u[v][b]+m*l*d[v][b];break;default:var k=[][A](u[v]);for(o=[],b=f.paper.customAttributes[v].length;b--;)o[b]=+k[b]+m*l*d[v][b]}p[v]=o}f.attr(p),function(t,n,i){setTimeout((function(){e("raphael.anim.frame."+t,n,i)}))}(f.id,f,r.anim)}else{if(function(t,i,r){setTimeout((function(){e("raphael.anim.frame."+i.id,i,r),e("raphael.anim.finish."+i.id,i,r),n.is(t,"function")&&t.call(i)}))}(r.callback,f,r.anim),f.attr(h),ue.splice(i--,1),r.repeat>1&&!r.next){for(s in h)h[S](s)&&(g[s]=r.totalOrigin[s]);r.el.attr(g),y(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&y(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}n.svg&&f&&f.paper&&f.paper.safari(),ue.length&&de(he)},fe=function(t){return t>255?255:t<0?0:t};te.animateWith=function(t,e,i,r,o,s){var a=this;if(a.removed)return s&&s.call(a),a;var l=i instanceof v?i:n.animation(i,r,o,s);y(l,a,l.percents[0],null,a.attr());for(var c=0,u=ue.length;c<u;c++)if(ue[c].anim==e&&ue[c].el==t){ue[u-1].start=ue[c].start;break}return a},te.onAnimation=function(t){return t?e.on("raphael.anim.frame."+this.id,t):e.unbind("raphael.anim.frame."+this.id),this},v.prototype.delay=function(t){var e=new v(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},v.prototype.repeat=function(t){var e=new v(this.anim,this.ms);return e.del=this.del,e.times=z.floor(B(t,0))||1,e},n.animation=function(t,e,i,r){if(t instanceof v)return t;!n.is(i,"function")&&i||(r=r||i||null,i=null),t=Object(t),e=+e||0;var o,s,a={};for(s in t)t[S](s)&&J(s)!=s&&J(s)+"%"!=s&&(o=!0,a[s]=t[s]);return o?(i&&(a.easing=i),r&&(a.callback=r),new v({100:a},e)):new v(t,e)},te.animate=function(t,e,i,r){var o=this;if(o.removed)return r&&r.call(o),o;var s=t instanceof v?t:n.animation(t,e,i,r);return y(s,o,s.percents[0],null,o.attr()),o},te.setTime=function(t,e){return t&&null!=e&&this.status(t,j(e,t.ms)/t.ms),this},te.status=function(t,e){var n,i,r=[],o=0;if(null!=e)return y(t,this,-1,j(e,1)),this;for(n=ue.length;o<n;o++)if((i=ue[o]).el.id==this.id&&(!t||i.anim==t)){if(t)return i.status;r.push({anim:i.anim,status:i.status})}return t?0:r},te.pause=function(t){for(var n=0;n<ue.length;n++)ue[n].el.id!=this.id||t&&ue[n].anim!=t||!1!==e("raphael.anim.pause."+this.id,this,ue[n].anim)&&(ue[n].paused=!0);return this},te.resume=function(t){for(var n=0;n<ue.length;n++)if(ue[n].el.id==this.id&&(!t||ue[n].anim==t)){var i=ue[n];!1!==e("raphael.anim.resume."+this.id,this,i.anim)&&(delete i.paused,this.status(i.anim,i.status))}return this},te.stop=function(t){for(var n=0;n<ue.length;n++)ue[n].el.id!=this.id||t&&ue[n].anim!=t||!1!==e("raphael.anim.stop."+this.id,this,ue[n].anim)&&ue.splice(n--,1);return this},e.on("raphael.remove",b),e.on("raphael.clear",b),te.toString=function(){return"Rapha\xebl\u2019s object"};var pe,ge,me,ve=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,n=t.length;e<n;e++)!t[e]||t[e].constructor!=te.constructor&&t[e].constructor!=ve||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},ye=ve.prototype;for(var be in ye.push=function(){for(var t,e,n=0,i=arguments.length;n<i;n++)!(t=arguments[n])||t.constructor!=te.constructor&&t.constructor!=ve||(this[e=this.items.length]=this.items[e]=t,this.length++);return this},ye.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},ye.forEach=function(t,e){for(var n=0,i=this.items.length;n<i;n++)if(!1===t.call(e,this.items[n],n))return this;return this},te)te[S](be)&&(ye[be]=function(t){return function(){var e=arguments;return this.forEach((function(n){n[t][M](n,e)}))}}(be));return ye.attr=function(t,e){if(t&&n.is(t,U)&&n.is(t[0],"object"))for(var i=0,r=t.length;i<r;i++)this.items[i].attr(t[i]);else for(var o=0,s=this.items.length;o<s;o++)this.items[o].attr(t,e);return this},ye.clear=function(){for(;this.length;)this.pop()},ye.splice=function(t,e,n){t=t<0?B(this.length+t,0):t,e=B(0,j(this.length-t,e));var i,r=[],o=[],s=[];for(i=2;i<arguments.length;i++)s.push(arguments[i]);for(i=0;i<e;i++)o.push(this[t+i]);for(;i<this.length-t;i++)r.push(this[t+i]);var a=s.length;for(i=0;i<a+r.length;i++)this.items[t+i]=this[t+i]=i<a?s[i]:r[i-a];for(i=this.items.length=this.length-=e-a;this[i];)delete this[i++];return new ve(o)},ye.exclude=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return this.splice(e,1),!0},ye.animate=function(t,e,i,r){(n.is(i,"function")||!i)&&(r=i||null);var o,s,a=this.items.length,l=a,c=this;if(!a)return this;r&&(s=function(){!--a&&r.call(c)}),i=n.is(i,V)?i:s;var u=n.animation(t,e,i,s);for(o=this.items[--l].animate(u);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(o,u,u),this.items[l]&&!this.items[l].removed||a--;return this},ye.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},ye.getBBox=function(){for(var t=[],e=[],n=[],i=[],r=this.items.length;r--;)if(!this.items[r].removed){var o=this.items[r].getBBox();t.push(o.x),e.push(o.y),n.push(o.x+o.width),i.push(o.y+o.height)}return{x:t=j[M](0,t),y:e=j[M](0,e),x2:n=B[M](0,n),y2:i=B[M](0,i),width:n-t,height:i-e}},ye.clone=function(t){t=this.paper.set();for(var e=0,n=this.items.length;e<n;e++)t.push(this.items[e].clone());return t},ye.toString=function(){return"Rapha\xebl\u2018s set"},ye.glow=function(t){var e=this.paper.set();return this.forEach((function(n){var i=n.glow(t);null!=i&&i.forEach((function(t){e.push(t)}))})),e},ye.isPointInside=function(t,e){var n=!1;return this.forEach((function(i){if(i.isPointInside(t,e))return console.log("runned"),n=!0,!1})),n},n.registerFont=function(t){
if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},n=t.face["font-family"];for(var i in t.face)t.face[S](i)&&(e.face[i]=t.face[i]);if(this.fonts[n]?this.fonts[n].push(e):this.fonts[n]=[e],!t.svg)for(var r in e.face["units-per-em"]=tt(t.face["units-per-em"],10),t.glyphs)if(t.glyphs[S](r)){var o=t.glyphs[r];if(e.glyphs[r]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,(function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"}))+"z"},o.k)for(var s in o.k)o[S](s)&&(e.glyphs[r].k[s]=o.k[s])}return t},x.getFont=function(t,e,i,r){if(r=r||"normal",i=i||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400,n.fonts){var o,s=n.fonts[t];if(!s){var a=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,P)+"(\\s|$)","i");for(var l in n.fonts)if(n.fonts[S](l)&&a.test(l)){s=n.fonts[l];break}}if(s)for(var c=0,u=s.length;c<u&&((o=s[c]).face["font-weight"]!=e||o.face["font-style"]!=i&&o.face["font-style"]||o.face["font-stretch"]!=r);c++);return o}},x.print=function(t,e,i,r,o,s,a,l){s=s||"middle",a=B(j(a||0,1),-1),l=B(j(l||1,3),1);var c,u=I(i)[$](P),d=0,h=0,f=P;if(n.is(r,"string")&&(r=this.getFont(r)),r){c=(o||16)/r.face["units-per-em"];for(var p=r.face.bbox[$](C),g=+p[0],m=p[3]-p[1],v=0,y=+p[1]+("baseline"==s?m+ +r.face.descent:m/2),b=0,w=u.length;b<w;b++){if("\n"==u[b])d=0,_=0,h=0,v+=m*l;else{var x=h&&r.glyphs[u[b-1]]||{},_=r.glyphs[u[b]];d+=h?(x.w||r.w)+(x.k&&x.k[u[b]]||0)+r.w*a:0,h=1}_&&_.d&&(f+=n.transformPath(_.d,["t",d*c,v*c,"s",c,c,g,y,"t",(t-g)/c,(e-y)/c]))}}return this.path(f).attr({fill:"#000",stroke:"none"})},x.add=function(t){if(n.is(t,"array"))for(var e,i=this.set(),r=0,o=t.length;r<o;r++)e=t[r]||{},_[S](e.type)&&i.push(this[e.type]().attr(e));return i},n.format=function(t,e){var i=n.is(e,U)?[0][A](e):arguments;return t&&n.is(t,V)&&i.length-1&&(t=t.replace(k,(function(t,e){return null==i[++e]?P:i[e]}))),t||P},n.fullfill=(pe=/\{([^\}]+)\}/g,ge=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,me=function(t,e,n){var i=n;return e.replace(ge,(function(t,e,n,r,o){e=e||r,i&&(e in i&&(i=i[e]),"function"==typeof i&&o&&(i=i()))})),i=(null==i||i==n?t:i)+""},function(t,e){return String(t).replace(pe,(function(t,n){return me(t,n,e)}))}),n.ninja=function(){return D.was?T.win.Raphael=D.is:delete Raphael,n},n.st=ye,function(t,e,i){function r(){/in/.test(t.readyState)?setTimeout(r,9):n.eve("raphael.DOMload")}null==t.readyState&&t.addEventListener&&(t.addEventListener(e,i=function(){t.removeEventListener(e,i,!1),t.readyState="complete"},!1),t.readyState="loading"),r()}(document,"DOMContentLoaded"),e.on("raphael.DOMload",(function(){w=!0})),function(){if(n.svg){var t="hasOwnProperty",e=String,i=parseFloat,r=parseInt,o=Math,s=o.max,a=o.abs,l=o.pow,c=/[, ]+/,u=n.eve,d="",h=" ",f="http://www.w3.org/1999/xlink",p={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};n.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var m=function(i,r){if(r)for(var o in"string"==typeof i&&(i=m(i)),r)r[t](o)&&("xlink:"==o.substring(0,6)?i.setAttributeNS(f,o.substring(6),e(r[o])):i.setAttribute(o,e(r[o])));else(i=n._g.doc.createElementNS("http://www.w3.org/2000/svg",i)).style&&(i.style.webkitTapHighlightColor="rgba(0,0,0,0)");return i},v=function(t,r){var c="linear",u=t.id+r,h=.5,f=.5,p=t.node,g=t.paper,v=p.style,y=n._g.doc.getElementById(u);if(!y){if(r=(r=e(r).replace(n._radial_gradient,(function(t,e,n){if(c="radial",e&&n){h=i(e);var r=2*((f=i(n))>.5)-1;l(h-.5,2)+l(f-.5,2)>.25&&(f=o.sqrt(.25-l(h-.5,2))*r+.5)&&.5!=f&&(f=f.toFixed(5)-1e-5*r)}return d}))).split(/\s*\-\s*/),"linear"==c){var b=r.shift();if(b=-i(b),isNaN(b))return null;var w=[0,0,o.cos(n.rad(b)),o.sin(n.rad(b))],x=1/(s(a(w[2]),a(w[3]))||1);w[2]*=x,w[3]*=x,w[2]<0&&(w[0]=-w[2],w[2]=0),w[3]<0&&(w[1]=-w[3],w[3]=0)}var C=n._parseDots(r);if(!C)return null;if(u=u.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&u!=t.gradient.id&&(g.defs.removeChild(t.gradient),delete t.gradient),!t.gradient){y=m(c+"Gradient",{id:u}),t.gradient=y,m(y,"radial"==c?{fx:h,fy:f}:{x1:w[0],y1:w[1],x2:w[2],y2:w[3],gradientTransform:t.matrix.invert()}),g.defs.appendChild(y);for(var _=0,k=C.length;_<k;_++)y.appendChild(m("stop",{offset:C[_].offset?C[_].offset:_?"100%":"0%","stop-color":C[_].color||"#fff"}))}}return m(p,{fill:"url(#"+u+")",opacity:1,"fill-opacity":1}),v.fill=d,v.opacity=1,v.fillOpacity=1,1},y=function(t){var e=t.getBBox(1);m(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},b=function(i,r,o){if("path"==i.type){for(var s,a,l,c,u,h=e(r).toLowerCase().split("-"),f=i.paper,v=o?"end":"start",y=i.node,b=i.attrs,w=b["stroke-width"],x=h.length,C="classic",_=3,k=3,S=5;x--;)switch(h[x]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":C=h[x];break;case"wide":k=5;break;case"narrow":k=2;break;case"long":_=5;break;case"short":_=2}if("open"==C?(_+=2,k+=2,S+=2,l=1,c=o?4:1,u={fill:"none",stroke:b.stroke}):(c=l=_/2,u={fill:b.stroke,stroke:"none"}),i._.arrows?o?(i._.arrows.endPath&&g[i._.arrows.endPath]--,i._.arrows.endMarker&&g[i._.arrows.endMarker]--):(i._.arrows.startPath&&g[i._.arrows.startPath]--,i._.arrows.startMarker&&g[i._.arrows.startMarker]--):i._.arrows={},"none"!=C){var T="raphael-marker-"+C,D="raphael-marker-"+v+C+_+k;n._g.doc.getElementById(T)?g[T]++:(f.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:p[C],id:T})),g[T]=1);var E,M=n._g.doc.getElementById(D);M?(g[D]++,E=M.getElementsByTagName("use")[0]):(M=m(m("marker"),{id:D,markerHeight:k,markerWidth:_,orient:"auto",refX:c,refY:k/2}),E=m(m("use"),{"xlink:href":"#"+T,transform:(o?"rotate(180 "+_/2+" "+k/2+") ":d)+"scale("+_/S+","+k/S+")","stroke-width":(1/((_/S+k/S)/2)).toFixed(4)}),M.appendChild(E),f.defs.appendChild(M),g[D]=1),m(E,u);var A=l*("diamond"!=C&&"oval"!=C);o?(s=i._.arrows.startdx*w||0,a=n.getTotalLength(b.path)-A*w):(s=A*w,a=n.getTotalLength(b.path)-(i._.arrows.enddx*w||0)),(u={})["marker-"+v]="url(#"+D+")",(a||s)&&(u.d=n.getSubpath(b.path,s,a)),m(y,u),i._.arrows[v+"Path"]=T,i._.arrows[v+"Marker"]=D,i._.arrows[v+"dx"]=A,i._.arrows[v+"Type"]=C,i._.arrows[v+"String"]=r}else o?(s=i._.arrows.startdx*w||0,a=n.getTotalLength(b.path)-s):(s=0,a=n.getTotalLength(b.path)-(i._.arrows.enddx*w||0)),i._.arrows[v+"Path"]&&m(y,{d:n.getSubpath(b.path,s,a)}),delete i._.arrows[v+"Path"],delete i._.arrows[v+"Marker"],delete i._.arrows[v+"dx"],delete i._.arrows[v+"Type"],delete i._.arrows[v+"String"];for(u in g)if(g[t](u)&&!g[u]){var O=n._g.doc.getElementById(u);O&&O.parentNode.removeChild(O)}}},w={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},x=function(t,n,i){if(n=w[e(n).toLowerCase()]){for(var r=t.attrs["stroke-width"]||"1",o={round:r,square:r,butt:0}[t.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,s=[],a=n.length;a--;)s[a]=n[a]*r+(a%2?1:-1)*o;m(t.node,{"stroke-dasharray":s.join(",")})}},C=function(i,o){var l=i.node,u=i.attrs,h=l.style.visibility;for(var p in l.style.visibility="hidden",o)if(o[t](p)){if(!n._availableAttrs[t](p))continue;var g=o[p];switch(u[p]=g,p){case"blur":i.blur(g);break;case"href":case"title":var w=m("title"),C=n._g.doc.createTextNode(g);w.appendChild(C),l.appendChild(w);break;case"target":var _=l.parentNode;if("a"!=_.tagName.toLowerCase()){w=m("a");_.insertBefore(w,l),w.appendChild(l),_=w}"target"==p?_.setAttributeNS(f,"show","blank"==g?"new":g):_.setAttributeNS(f,p,g);break;case"cursor":l.style.cursor=g;break;case"transform":i.transform(g);break;case"arrow-start":b(i,g);break;case"arrow-end":b(i,g,1);break;case"clip-rect":var S=e(g).split(c);if(4==S.length){i.clip&&i.clip.parentNode.parentNode.removeChild(i.clip.parentNode);var T=m("clipPath"),D=m("rect");T.id=n.createUUID(),m(D,{x:S[0],y:S[1],width:S[2],height:S[3]}),T.appendChild(D),i.paper.defs.appendChild(T),m(l,{"clip-path":"url(#"+T.id+")"}),i.clip=D}if(!g){var E=l.getAttribute("clip-path");if(E){var M=n._g.doc.getElementById(E.replace(/(^url\(#|\)$)/g,d));M&&M.parentNode.removeChild(M),m(l,{"clip-path":d}),delete i.clip}}break;case"path":"path"==i.type&&(m(l,{d:g?u.path=n._pathToAbsolute(g):"M0,0"}),i._.dirty=1,i._.arrows&&("startString"in i._.arrows&&b(i,i._.arrows.startString),"endString"in i._.arrows&&b(i,i._.arrows.endString,1)));break;case"width":if(l.setAttribute(p,g),i._.dirty=1,!u.fx)break;p="x",g=u.x;case"x":u.fx&&(g=-u.x-(u.width||0));case"rx":if("rx"==p&&"rect"==i.type)break;case"cx":l.setAttribute(p,g),i.pattern&&y(i),i._.dirty=1;break;case"height":if(l.setAttribute(p,g),i._.dirty=1,!u.fy)break;p="y",g=u.y;case"y":u.fy&&(g=-u.y-(u.height||0));case"ry":if("ry"==p&&"rect"==i.type)break;case"cy":l.setAttribute(p,g),i.pattern&&y(i),i._.dirty=1;break;case"r":"rect"==i.type?m(l,{rx:g,ry:g}):l.setAttribute(p,g),i._.dirty=1;break;case"src":"image"==i.type&&l.setAttributeNS(f,"href",g);break;case"stroke-width":1==i._.sx&&1==i._.sy||(g/=s(a(i._.sx),a(i._.sy))||1),i.paper._vbSize&&(g*=i.paper._vbSize),l.setAttribute(p,g),u["stroke-dasharray"]&&x(i,u["stroke-dasharray"],o),i._.arrows&&("startString"in i._.arrows&&b(i,i._.arrows.startString),"endString"in i._.arrows&&b(i,i._.arrows.endString,1));break;case"stroke-dasharray":x(i,g,o);break;case"fill":var A=e(g).match(n._ISURL);if(A){T=m("pattern");var O=m("image");T.id=n.createUUID(),m(T,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),m(O,{x:0,y:0,"xlink:href":A[1]}),T.appendChild(O),function(t){n._preload(A[1],(function(){var e=this.offsetWidth,n=this.offsetHeight;m(t,{width:e,height:n}),m(O,{width:e,height:n}),i.paper.safari()}))}(T),i.paper.defs.appendChild(T),m(l,{fill:"url(#"+T.id+")"}),i.pattern=T,i.pattern&&y(i);break}var P=n.getRGB(g);if(P.error){if(("circle"==i.type||"ellipse"==i.type||"r"!=e(g).charAt())&&v(i,g)){if("opacity"in u||"fill-opacity"in u){var L=n._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,d));if(L){var I=L.getElementsByTagName("stop");m(I[I.length-1],{"stop-opacity":("opacity"in u?u.opacity:1)*("fill-opacity"in u?u["fill-opacity"]:1)})}}u.gradient=g,u.fill="none";break}}else delete o.gradient,delete u.gradient,!n.is(u.opacity,"undefined")&&n.is(o.opacity,"undefined")&&m(l,{opacity:u.opacity}),!n.is(u["fill-opacity"],"undefined")&&n.is(o["fill-opacity"],"undefined")&&m(l,{"fill-opacity":u["fill-opacity"]});P[t]("opacity")&&m(l,{"fill-opacity":P.opacity>1?P.opacity/100:P.opacity});case"stroke":P=n.getRGB(g),l.setAttribute(p,P.hex),"stroke"==p&&P[t]("opacity")&&m(l,{"stroke-opacity":P.opacity>1?P.opacity/100:P.opacity}),"stroke"==p&&i._.arrows&&("startString"in i._.arrows&&b(i,i._.arrows.startString),"endString"in i._.arrows&&b(i,i._.arrows.endString,1));break;case"gradient":("circle"==i.type||"ellipse"==i.type||"r"!=e(g).charAt())&&v(i,g);break;case"opacity":u.gradient&&!u[t]("stroke-opacity")&&m(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(u.gradient){(L=n._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,d)))&&(I=L.getElementsByTagName("stop"),m(I[I.length-1],{"stop-opacity":g}));break}default:"font-size"==p&&(g=r(g,10)+"px");var $=p.replace(/(\-.)/g,(function(t){return t.substring(1).toUpperCase()}));l.style[$]=g,i._.dirty=1,l.setAttribute(p,g)}}k(i,o),l.style.visibility=h},_=1.2,k=function(i,o){if("text"==i.type&&(o[t]("text")||o[t]("font")||o[t]("font-size")||o[t]("x")||o[t]("y"))){var s=i.attrs,a=i.node,l=a.firstChild?r(n._g.doc.defaultView.getComputedStyle(a.firstChild,d).getPropertyValue("font-size"),10):10;if(o[t]("text")){for(s.text=o.text;a.firstChild;)a.removeChild(a.firstChild);for(var c,u=e(o.text).split("\n"),h=[],f=0,p=u.length;f<p;f++)c=m("tspan"),f&&m(c,{dy:l*_,x:s.x}),c.appendChild(n._g.doc.createTextNode(u[f])),a.appendChild(c),h[f]=c}else for(f=0,p=(h=a.getElementsByTagName("tspan")).length;f<p;f++)f?m(h[f],{dy:l*_,x:s.x}):m(h[0],{dy:0});m(a,{x:s.x,y:s.y}),i._.dirty=1;var g=i._getBBox(),v=s.y-(g.y+g.height/2);v&&n.is(v,"finite")&&m(h[0],{dy:v})}},S=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=n._oid++,t.raphaelid=this.id,this.matrix=n.matrix(),this.realPath=null,this.paper=e,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},T=n.el;S.prototype=T,T.constructor=S,n._engine.path=function(t,e){var n=m("path");e.canvas&&e.canvas.appendChild(n);var i=new S(n,e);return i.type="path",C(i,{fill:"none",stroke:"#000",path:t}),i},T.rotate=function(t,n,r){if(this.removed)return this;if((t=e(t).split(c)).length-1&&(n=i(t[1]),r=i(t[2])),t=i(t[0]),null==r&&(n=r),null==n||null==r){var o=this.getBBox(1);n=o.x+o.width/2,r=o.y+o.height/2}return this.transform(this._.transform.concat([["r",t,n,r]])),this},T.scale=function(t,n,r,o){if(this.removed)return this;if((t=e(t).split(c)).length-1&&(n=i(t[1]),r=i(t[2]),o=i(t[3])),t=i(t[0]),null==n&&(n=t),null==o&&(r=o),null==r||null==o)var s=this.getBBox(1);return r=null==r?s.x+s.width/2:r,o=null==o?s.y+s.height/2:o,this.transform(this._.transform.concat([["s",t,n,r,o]])),this},T.translate=function(t,n){return this.removed||((t=e(t).split(c)).length-1&&(n=i(t[1])),t=i(t[0])||0,n=+n||0,this.transform(this._.transform.concat([["t",t,n]]))),this},T.transform=function(e){var i=this._;if(null==e)return i.transform;if(n._extractTransform(this,e),this.clip&&m(this.clip,{transform:this.matrix.invert()}),this.pattern&&y(this),this.node&&m(this.node,{transform:this.matrix}),1!=i.sx||1!=i.sy){var r=this.attrs[t]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":r})}return this},T.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},T.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},T.remove=function(){if(!this.removed&&this.node.parentNode){var t=this.paper;for(var e in t.__set__&&t.__set__.exclude(this),u.unbind("raphael.*.*."+this.id),this.gradient&&t.defs.removeChild(this.gradient),n._tear(this,t),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node),this)this[e]="function"==typeof this[e]?n._removedFactory(e):null;this.removed=!0}},T._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(t){}finally{e=e||{}}return t&&this.hide(),e},T.attr=function(e,i){if(this.removed)return this;if(null==e){var r={};for(var o in this.attrs)this.attrs[t](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==i&&n.is(e,"string")){if("fill"==e&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==e)return this._.transform;for(var s=e.split(c),a={},l=0,d=s.length;l<d;l++)(e=s[l])in this.attrs?a[e]=this.attrs[e]:n.is(this.paper.customAttributes[e],"function")?a[e]=this.paper.customAttributes[e].def:a[e]=n._availableAttrs[e];return d-1?a:a[s[0]]}if(null==i&&n.is(e,"array")){for(a={},l=0,d=e.length;l<d;l++)a[e[l]]=this.attr(e[l]);return a}if(null!=i){var h={};h[e]=i}else null!=e&&n.is(e,"object")&&(h=e);for(var f in h)u("raphael.attr."+f+"."+this.id,this,h[f]);for(f in this.paper.customAttributes)if(this.paper.customAttributes[t](f)&&h[t](f)&&n.is(this.paper.customAttributes[f],"function")){var p=this.paper.customAttributes[f].apply(this,[].concat(h[f]));for(var g in this.attrs[f]=h[f],p)p[t](g)&&(h[g]=p[g])}return C(this,h),this},T.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var t=this.paper;return t.top!=this&&n._tofront(this,t),this},T.toBack=function(){if(this.removed)return this;var t=this.node.parentNode;"a"==t.tagName.toLowerCase()?t.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):t.firstChild!=this.node&&t.insertBefore(this.node,this.node.parentNode.firstChild),n._toback(this,this.paper);this.paper;return this},T.insertAfter=function(t){if(this.removed)return this;var e=t.node||t[t.length-1].node;return e.nextSibling?e.parentNode.insertBefore(this.node,e.nextSibling):e.parentNode.appendChild(this.node),n._insertafter(this,t,this.paper),this},T.insertBefore=function(t){if(this.removed)return this;var e=t.node||t[0].node;return e.parentNode.insertBefore(this.node,e),n._insertbefore(this,t,this.paper),this},T.blur=function(t){var e=this;if(0!=+t){var i=m("filter"),r=m("feGaussianBlur");e.attrs.blur=t,i.id=n.createUUID(),m(r,{stdDeviation:+t||1.5}),i.appendChild(r),e.paper.defs.appendChild(i),e._blur=i,m(e.node,{filter:"url(#"+i.id+")"})}else e._blur&&(e._blur.parentNode.removeChild(e._blur),delete e._blur,delete e.attrs.blur),e.node.removeAttribute("filter");return e},n._engine.circle=function(t,e,n,i){var r=m("circle");t.canvas&&t.canvas.appendChild(r);var o=new S(r,t);return o.attrs={cx:e,cy:n,r:i,fill:"none",stroke:"#000"},o.type="circle",m(r,o.attrs),o},n._engine.rect=function(t,e,n,i,r,o){var s=m("rect");t.canvas&&t.canvas.appendChild(s);var a=new S(s,t);return a.attrs={x:e,y:n,width:i,height:r,r:o||0,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},a.type="rect",m(s,a.attrs),a},n._engine.ellipse=function(t,e,n,i,r){var o=m("ellipse");t.canvas&&t.canvas.appendChild(o);var s=new S(o,t);return s.attrs={cx:e,cy:n,rx:i,ry:r,fill:"none",stroke:"#000"},s.type="ellipse",m(o,s.attrs),s},n._engine.image=function(t,e,n,i,r,o){var s=m("image");m(s,{x:n,y:i,width:r,height:o,preserveAspectRatio:"none"}),s.setAttributeNS(f,"href",e),t.canvas&&t.canvas.appendChild(s);var a=new S(s,t);return a.attrs={x:n,y:i,width:r,height:o,src:e},a.type="image",a},n._engine.text=function(t,e,i,r){var o=m("text");t.canvas&&t.canvas.appendChild(o);var s=new S(o,t);return s.attrs={x:e,y:i,"text-anchor":"middle",text:r,font:n._availableAttrs.font,stroke:"none",fill:"#000"},s.type="text",C(s,s.attrs),s},n._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},n._engine.create=function(){var t=n._getContainer.apply(0,arguments),e=t&&t.container,i=t.x,r=t.y,o=t.width,s=t.height;if(!e)throw new Error("SVG container not found.");var a,l=m("svg"),c="overflow:hidden;";return i=i||0,r=r||0,m(l,{height:s=s||342,version:1.1,width:o=o||512,xmlns:"http://www.w3.org/2000/svg"}),1==e?(l.style.cssText=c+"position:absolute;left:"+i+"px;top:"+r+"px",n._g.doc.body.appendChild(l),a=1):(l.style.cssText=c+"position:relative",e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l)),(e=new n._Paper).width=o,e.height=s,e.canvas=l,e.clear(),e._left=e._top=0,a&&(e.renderfix=function(){}),e.renderfix(),e},n._engine.setViewBox=function(t,e,n,i,r){u("raphael.setViewBox",this,this._viewBox,[t,e,n,i,r]);var o,a,l=s(n/this.width,i/this.height),c=this.top,d=r?"meet":"xMinYMin";for(null==t?(this._vbSize&&(l=1),delete this._vbSize,o="0 0 "+this.width+h+this.height):(this._vbSize=l,o=t+h+e+h+n+h+i),m(this.canvas,{viewBox:o,preserveAspectRatio:d});l&&c;)a="stroke-width"in c.attrs?c.attrs["stroke-width"]:1,c.attr({"stroke-width":a}),c._.dirty=1,c._.dirtyT=1,c=c.prev;return this._viewBox=[t,e,n,i,!!r],this},n.prototype.renderfix=function(){var t,e=this.canvas,n=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(n){t=e.createSVGMatrix()}var i=-t.e%1,r=-t.f%1;(i||r)&&(i&&(this._left=(this._left+i)%1,n.left=this._left+"px"),r&&(this._top=(this._top+r)%1,n.top=this._top+"px"))},n.prototype.clear=function(){n.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=m("desc")).appendChild(n._g.doc.createTextNode("Created with Rapha\xebl "+n.version)),t.appendChild(this.desc),t.appendChild(this.defs=m("defs"))},n.prototype.remove=function(){for(var t in u("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?n._removedFactory(t):null};var D=n.st;for(var E in T)T[t](E)&&!D[t](E)&&(D[E]=function(t){return function(){var e=arguments;return this.forEach((function(n){n[t].apply(n,e)}))}}(E))}}(),function(){if(n.vml){var t="hasOwnProperty",e=String,i=parseFloat,r=Math,o=r.round,s=r.max,a=r.min,l=r.abs,c="fill",u=/[, ]+/,d=n.eve,h=" progid:DXImageTransform.Microsoft",f=" ",p="",g={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},m=/([clmz]),?([^clmz]*)/gi,v=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,b="position:absolute;left:0;top:0;width:1px;height:1px",w=21600,x={path:1,rect:1,image:1},C={circle:1,ellipse:1},_=function(t){var i=/[ahqstv]/gi,r=n._pathToAbsolute;if(e(t).match(i)&&(r=n._path2curve),i=/[clmz]/g,r==n._pathToAbsolute&&!e(t).match(i)){var s=e(t).replace(m,(function(t,e,n){var i=[],r="m"==e.toLowerCase(),s=g[e];return n.replace(y,(function(t){r&&2==i.length&&(s+=i+g["m"==e?"l":"L"],i=[]),i.push(o(t*w))})),s+i}));return s}var a,l,c=r(t);s=[];for(var u=0,d=c.length;u<d;u++){a=c[u],"z"==(l=c[u][0].toLowerCase())&&(l="x");for(var h=1,v=a.length;h<v;h++)l+=o(a[h]*w)+(h!=v-1?",":p);s.push(l)}return s.join(f)},k=function(t,e,i){var r=n.matrix();return r.rotate(-t,.5,.5),{dx:r.x(e,i),dy:r.y(e,i)}},S=function(t,e,n,i,r,o){var s=t._,a=t.matrix,u=s.fillpos,d=t.node,h=d.style,p=1,g="",m=w/e,v=w/n;if(h.visibility="hidden",e&&n){if(d.coordsize=l(m)+f+l(v),h.rotation=o*(e*n<0?-1:1),o){var y=k(o,i,r);i=y.dx,r=y.dy}if(e<0&&(g+="x"),n<0&&(g+=" y")&&(p=-1),h.flip=g,d.coordorigin=i*-m+f+r*-v,u||s.fillsize){var b=d.getElementsByTagName(c);b=b&&b[0],d.removeChild(b),u&&(y=k(o,a.x(u[0],u[1]),a.y(u[0],u[1])),b.position=y.dx*p+f+y.dy*p),s.fillsize&&(b.size=s.fillsize[0]*l(e)+f+s.fillsize[1]*l(n)),d.appendChild(b)}h.visibility="visible"}};n.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};var T,D=function(t,n,i){for(var r=e(n).toLowerCase().split("-"),o=i?"end":"start",s=r.length,a="classic",l="medium",c="medium";s--;)switch(r[s]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=r[s];break;case"wide":case"narrow":c=r[s];break;case"long":case"short":l=r[s]}var u=t.node.getElementsByTagName("stroke")[0];u[o+"arrow"]=a,u[o+"arrowlength"]=l,u[o+"arrowwidth"]=c},E=function(r,l){r.attrs=r.attrs||{};var d=r.node,h=r.attrs,g=d.style,m=x[r.type]&&(l.x!=h.x||l.y!=h.y||l.width!=h.width||l.height!=h.height||l.cx!=h.cx||l.cy!=h.cy||l.rx!=h.rx||l.ry!=h.ry||l.r!=h.r),v=C[r.type]&&(h.cx!=l.cx||h.cy!=l.cy||h.r!=l.r||h.rx!=l.rx||h.ry!=l.ry),y=r;for(var b in l)l[t](b)&&(h[b]=l[b]);if(m&&(h.path=n._getPath[r.type](r),r._.dirty=1),l.href&&(d.href=l.href),l.title&&(d.title=l.title),l.target&&(d.target=l.target),l.cursor&&(g.cursor=l.cursor),"blur"in l&&r.blur(l.blur),(l.path&&"path"==r.type||m)&&(d.path=_(~e(h.path).toLowerCase().indexOf("r")?n._pathToAbsolute(h.path):h.path),"image"==r.type&&(r._.fillpos=[h.x,h.y],r._.fillsize=[h.width,h.height],S(r,1,1,0,0,0))),"transform"in l&&r.transform(l.transform),v){var k=+h.cx,E=+h.cy,A=+h.rx||+h.r||0,O=+h.ry||+h.r||0;d.path=n.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",o((k-A)*w),o((E-O)*w),o((k+A)*w),o((E+O)*w),o(k*w)),r._.dirty=1}if("clip-rect"in l){var P=e(l["clip-rect"]).split(u);if(4==P.length){P[2]=+P[2]+ +P[0],P[3]=+P[3]+ +P[1];var L=d.clipRect||n._g.doc.createElement("div"),I=L.style;I.clip=n.format("rect({1}px {2}px {3}px {0}px)",P),d.clipRect||(I.position="absolute",I.top=0,I.left=0,I.width=r.paper.width+"px",I.height=r.paper.height+"px",d.parentNode.insertBefore(L,d),L.appendChild(d),d.clipRect=L)}l["clip-rect"]||d.clipRect&&(d.clipRect.style.clip="auto")}if(r.textpath){var $=r.textpath.style;l.font&&($.font=l.font),l["font-family"]&&($.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,p)+'"'),l["font-size"]&&($.fontSize=l["font-size"]),l["font-weight"]&&($.fontWeight=l["font-weight"]),l["font-style"]&&($.fontStyle=l["font-style"])}if("arrow-start"in l&&D(y,l["arrow-start"]),"arrow-end"in l&&D(y,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var F=d.getElementsByTagName(c);if(!(F=F&&F[0])&&(F=T(c)),"image"==r.type&&l.src&&(F.src=l.src),l.fill&&(F.on=!0),null!=F.on&&"none"!=l.fill&&null!==l.fill||(F.on=!1),F.on&&l.fill){var H=e(l.fill).match(n._ISURL);if(H){F.parentNode==d&&d.removeChild(F),F.rotate=!0,F.src=H[1],F.type="tile";var N=r.getBBox(1);F.position=N.x+f+N.y,r._.fillpos=[N.x,N.y],n._preload(H[1],(function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]}))}else F.color=n.getRGB(l.fill).hex,F.src=p,F.type="solid",n.getRGB(l.fill).error&&(y.type in{circle:1,ellipse:1}||"r"!=e(l.fill).charAt())&&M(y,l.fill,F)&&(h.fill="none",h.gradient=l.fill,F.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var z=((+h["fill-opacity"]+1||2)-1)*((+h.opacity+1||2)-1)*((+n.getRGB(l.fill).o+1||2)-1);z=a(s(z,0),1),F.opacity=z,F.src&&(F.color="none")}d.appendChild(F);var B=d.getElementsByTagName("stroke")&&d.getElementsByTagName("stroke")[0],j=!1;!B&&(j=B=T("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(B.on=!0),("none"==l.stroke||null===l.stroke||null==B.on||0==l.stroke||0==l["stroke-width"])&&(B.on=!1);var R=n.getRGB(l.stroke);B.on&&l.stroke&&(B.color=R.hex),z=((+h["stroke-opacity"]+1||2)-1)*((+h.opacity+1||2)-1)*((+R.o+1||2)-1);var W=.75*(i(l["stroke-width"])||1);if(z=a(s(z,0),1),null==l["stroke-width"]&&(W=h["stroke-width"]),l["stroke-width"]&&(B.weight=W),W&&W<1&&(z*=W)&&(B.weight=1),B.opacity=z,l["stroke-linejoin"]&&(B.joinstyle=l["stroke-linejoin"]||"miter"),B.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(B.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),l["stroke-dasharray"]){var Y={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};B.dashstyle=Y[t](l["stroke-dasharray"])?Y[l["stroke-dasharray"]]:p}j&&d.appendChild(B)}if("text"==y.type){y.paper.canvas.style.display=p;var q=y.paper.span,V=100,U=h.font&&h.font.match(/\d+(?:\.\d*)?(?=px)/);g=q.style,h.font&&(g.font=h.font),h["font-family"]&&(g.fontFamily=h["font-family"]),h["font-weight"]&&(g.fontWeight=h["font-weight"]),h["font-style"]&&(g.fontStyle=h["font-style"]),U=i(h["font-size"]||U&&U[0])||10,g.fontSize=U*V+"px",y.textpath.string&&(q.innerHTML=e(y.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var G=q.getBoundingClientRect();y.W=h.w=(G.right-G.left)/V,y.H=h.h=(G.bottom-G.top)/V,y.X=h.x,y.Y=h.y+y.H/2,("x"in l||"y"in l)&&(y.path.v=n.format("m{0},{1}l{2},{1}",o(h.x*w),o(h.y*w),o(h.x*w)+1));for(var X=["x","y","text","font","font-family","font-weight","font-style","font-size"],Q=0,K=X.length;Q<K;Q++)if(X[Q]in l){y._.dirty=1;break}switch(h["text-anchor"]){case"start":y.textpath.style["v-text-align"]="left",y.bbx=y.W/2;break;case"end":y.textpath.style["v-text-align"]="right",y.bbx=-y.W/2;break;default:y.textpath.style["v-text-align"]="center",y.bbx=0}y.textpath.style["v-text-kern"]=!0}},M=function(t,o,s){t.attrs=t.attrs||{};t.attrs;var a=Math.pow,l="linear",c=".5 .5";if(t.attrs.gradient=o,o=(o=e(o).replace(n._radial_gradient,(function(t,e,n){return l="radial",e&&n&&(e=i(e),n=i(n),a(e-.5,2)+a(n-.5,2)>.25&&(n=r.sqrt(.25-a(e-.5,2))*(2*(n>.5)-1)+.5),c=e+f+n),p}))).split(/\s*\-\s*/),"linear"==l){var u=o.shift();if(u=-i(u),isNaN(u))return null}var d=n._parseDots(o);if(!d)return null;if(t=t.shape||t.node,d.length){t.removeChild(s),s.on=!0,s.method="none",s.color=d[0].color,s.color2=d[d.length-1].color;for(var h=[],g=0,m=d.length;g<m;g++)d[g].offset&&h.push(d[g].offset+f+d[g].color);s.colors=h.length?h.join():"0% "+s.color,"radial"==l?(s.type="gradientTitle",s.focus="100%",s.focussize="0 0",s.focusposition=c,s.angle=0):(s.type="gradient",s.angle=(270-u)%360),t.appendChild(s)}return 1},A=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=n._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=e,this.matrix=n.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},O=n.el;A.prototype=O,O.constructor=A,O.transform=function(t){if(null==t)return this._.transform;var i,r=this.paper._viewBoxShift,o=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:p;r&&(i=t=e(t).replace(/\.{3}|\u2026/g,this._.transform||p)),n._extractTransform(this,o+t);var s,a=this.matrix.clone(),l=this.skew,c=this.node,u=~e(this.attrs.fill).indexOf("-"),d=!e(this.attrs.fill).indexOf("url(");if(a.translate(1,1),d||u||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",s=a.split(),u&&s.noRotation||!s.isSimple){c.style.filter=a.toFilter();var h=this.getBBox(),g=this.getBBox(1),m=h.x-g.x,v=h.y-g.y;c.coordorigin=m*-w+f+v*-w,S(this,1,1,m,v,0)}else c.style.filter=p,S(this,s.scalex,s.scaley,s.dx,s.dy,s.rotate);else c.style.filter=p,l.matrix=e(a),l.offset=a.offset();return i&&(this._.transform=i),this},O.rotate=function(t,n,r){if(this.removed)return this;if(null!=t){if((t=e(t).split(u)).length-1&&(n=i(t[1]),r=i(t[2])),t=i(t[0]),null==r&&(n=r),null==n||null==r){var o=this.getBBox(1);n=o.x+o.width/2,r=o.y+o.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,n,r]])),this}},O.translate=function(t,n){return this.removed||((t=e(t).split(u)).length-1&&(n=i(t[1])),t=i(t[0])||0,n=+n||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=n),this.transform(this._.transform.concat([["t",t,n]]))),this},O.scale=function(t,n,r,o){if(this.removed)return this;if((t=e(t).split(u)).length-1&&(n=i(t[1]),r=i(t[2]),o=i(t[3]),isNaN(r)&&(r=null),isNaN(o)&&(o=null)),t=i(t[0]),null==n&&(n=t),null==o&&(r=o),null==r||null==o)var s=this.getBBox(1);return r=null==r?s.x+s.width/2:r,o=null==o?s.y+s.height/2:o,this.transform(this._.transform.concat([["s",t,n,r,o]])),this._.dirtyT=1,this},O.hide=function(){return!this.removed&&(this.node.style.display="none"),this},O.show=function(){return!this.removed&&(this.node.style.display=p),this},O._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},O.remove=function(){if(!this.removed&&this.node.parentNode){for(var t in this.paper.__set__&&this.paper.__set__.exclude(this),n.eve.unbind("raphael.*.*."+this.id),n._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[t]="function"==typeof this[t]?n._removedFactory(t):null;this.removed=!0}},O.attr=function(e,i){if(this.removed)return this;if(null==e){var r={};for(var o in this.attrs)this.attrs[t](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==i&&n.is(e,"string")){if(e==c&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var s=e.split(u),a={},l=0,h=s.length;l<h;l++)(e=s[l])in this.attrs?a[e]=this.attrs[e]:n.is(this.paper.customAttributes[e],"function")?a[e]=this.paper.customAttributes[e].def:a[e]=n._availableAttrs[e];return h-1?a:a[s[0]]}if(this.attrs&&null==i&&n.is(e,"array")){for(a={},l=0,h=e.length;l<h;l++)a[e[l]]=this.attr(e[l]);return a}var f;for(var p in null!=i&&((f={})[e]=i),null==i&&n.is(e,"object")&&(f=e),f)d("raphael.attr."+p+"."+this.id,this,f[p]);if(f){for(p in this.paper.customAttributes)if(this.paper.customAttributes[t](p)&&f[t](p)&&n.is(this.paper.customAttributes[p],"function")){var g=this.paper.customAttributes[p].apply(this,[].concat(f[p]));for(var m in this.attrs[p]=f[p],g)g[t](m)&&(f[m]=g[m])}f.text&&"text"==this.type&&(this.textpath.string=f.text),E(this,f)}return this},O.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&n._tofront(this,this.paper),this},O.toBack=function(){return this.removed||this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),n._toback(this,this.paper)),this},O.insertAfter=function(t){return this.removed||(t.constructor==n.st.constructor&&(t=t[t.length-1]),
t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),n._insertafter(this,t,this.paper)),this},O.insertBefore=function(t){return this.removed||(t.constructor==n.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),n._insertbefore(this,t,this.paper)),this},O.blur=function(t){var e=this.node.runtimeStyle,i=e.filter;return i=i.replace(v,p),0!=+t?(this.attrs.blur=t,e.filter=i+f+h+".Blur(pixelradius="+(+t||1.5)+")",e.margin=n.format("-{0}px 0 0 -{0}px",o(+t||1.5))):(e.filter=i,e.margin=0,delete this.attrs.blur),this},n._engine.path=function(t,e){var n=T("shape");n.style.cssText=b,n.coordsize=w+f+w,n.coordorigin=e.coordorigin;var i=new A(n,e),r={fill:"none",stroke:"#000"};t&&(r.path=t),i.type="path",i.path=[],i.Path=p,E(i,r),e.canvas.appendChild(n);var o=T("skew");return o.on=!0,n.appendChild(o),i.skew=o,i.transform(p),i},n._engine.rect=function(t,e,i,r,o,s){var a=n._rectPath(e,i,r,o,s),l=t.path(a),c=l.attrs;return l.X=c.x=e,l.Y=c.y=i,l.W=c.width=r,l.H=c.height=o,c.r=s,c.path=a,l.type="rect",l},n._engine.ellipse=function(t,e,n,i,r){var o=t.path();o.attrs;return o.X=e-i,o.Y=n-r,o.W=2*i,o.H=2*r,o.type="ellipse",E(o,{cx:e,cy:n,rx:i,ry:r}),o},n._engine.circle=function(t,e,n,i){var r=t.path();r.attrs;return r.X=e-i,r.Y=n-i,r.W=r.H=2*i,r.type="circle",E(r,{cx:e,cy:n,r:i}),r},n._engine.image=function(t,e,i,r,o,s){var a=n._rectPath(i,r,o,s),l=t.path(a).attr({stroke:"none"}),u=l.attrs,d=l.node,h=d.getElementsByTagName(c)[0];return u.src=e,l.X=u.x=i,l.Y=u.y=r,l.W=u.width=o,l.H=u.height=s,u.path=a,l.type="image",h.parentNode==d&&d.removeChild(h),h.rotate=!0,h.src=e,h.type="tile",l._.fillpos=[i,r],l._.fillsize=[o,s],d.appendChild(h),S(l,1,1,0,0,0),l},n._engine.text=function(t,i,r,s){var a=T("shape"),l=T("path"),c=T("textpath");i=i||0,r=r||0,s=s||"",l.v=n.format("m{0},{1}l{2},{1}",o(i*w),o(r*w),o(i*w)+1),l.textpathok=!0,c.string=e(s),c.on=!0,a.style.cssText=b,a.coordsize=w+f+w,a.coordorigin="0 0";var u=new A(a,t),d={fill:"#000",stroke:"none",font:n._availableAttrs.font,text:s};u.shape=a,u.path=l,u.textpath=c,u.type="text",u.attrs.text=e(s),u.attrs.x=i,u.attrs.y=r,u.attrs.w=1,u.attrs.h=1,E(u,d),a.appendChild(c),a.appendChild(l),t.canvas.appendChild(a);var h=T("skew");return h.on=!0,a.appendChild(h),u.skew=h,u.transform(p),u},n._engine.setSize=function(t,e){var i=this.canvas.style;return this.width=t,this.height=e,t==+t&&(t+="px"),e==+e&&(e+="px"),i.width=t,i.height=e,i.clip="rect(0 "+t+" "+e+" 0)",this._viewBox&&n._engine.setViewBox.apply(this,this._viewBox),this},n._engine.setViewBox=function(t,e,i,r,o){n.eve("raphael.setViewBox",this,this._viewBox,[t,e,i,r,o]);var a,l,c=this.width,u=this.height,d=1/s(i/c,r/u);return o&&(i*(a=u/r)<c&&(t-=(c-i*a)/2/a),r*(l=c/i)<u&&(e-=(u-r*l)/2/l)),this._viewBox=[t,e,i,r,!!o],this._viewBoxShift={dx:-t,dy:-e,scale:d},this.forEach((function(t){t.transform("...")})),this},n._engine.initWin=function(t){var e=t.document;e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),T=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){T=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},n._engine.initWin(n._g.win),n._engine.create=function(){var t=n._getContainer.apply(0,arguments),e=t.container,i=t.height,r=t.width,o=t.x,s=t.y;if(!e)throw new Error("VML container not found.");var a=new n._Paper,l=a.canvas=n._g.doc.createElement("div"),c=l.style;return o=o||0,s=s||0,r=r||512,i=i||342,a.width=r,a.height=i,r==+r&&(r+="px"),i==+i&&(i+="px"),a.coordsize=1e3*w+f+1e3*w,a.coordorigin="0 0",a.span=n._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(a.span),c.cssText=n.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,i),1==e?(n._g.doc.body.appendChild(l),c.left=o+"px",c.top=s+"px",c.position="absolute"):e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l),a.renderfix=function(){},a},n.prototype.clear=function(){n.eve("raphael.clear",this),this.canvas.innerHTML=p,this.span=n._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},n.prototype.remove=function(){for(var t in n.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?n._removedFactory(t):null;return!0};var P=n.st;for(var L in O)O[t](L)&&!P[t](L)&&(P[L]=function(t){return function(){var e=arguments;return this.forEach((function(n){n[t].apply(n,e)}))}}(L))}}(),D.was?T.win.Raphael=n:Raphael=n,n})),function(){var t,e,n,i,r=[].slice,o=function(t,e){return function(){return t.apply(e,arguments)}},s={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};e=window.Morris={},t=jQuery,e.EventEmitter=function(){function t(){}return t.prototype.on=function(t,e){return null==this.handlers&&(this.handlers={}),null==this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this},t.prototype.fire=function(){var t,e,n,i,o,s,a;if(n=arguments[0],t=2<=arguments.length?r.call(arguments,1):[],null!=this.handlers&&null!=this.handlers[n]){for(a=[],i=0,o=(s=this.handlers[n]).length;i<o;i++)e=s[i],a.push(e.apply(null,t));return a}},t}(),e.commas=function(t){var e,n,i,r;return null!=t?(i=t<0?"-":"",e=Math.abs(t),i+=(n=Math.floor(e).toFixed(0)).replace(/(?=(?:\d{3})+$)(?!^)/g,","),(r=e.toString()).length>n.length&&(i+=r.slice(n.length)),i):"-"},e.pad2=function(t){return(t<10?"0":"")+t},e.Grid=function(n){function i(e){this.resizeHandler=o(this.resizeHandler,this);var n=this;if("string"==typeof e.element?this.el=t(document.getElementById(e.element)):this.el=t(e.element),null==this.el||0===this.el.length)throw new Error("Graph container element not found");"static"===this.el.css("position")&&this.el.css("position","relative"),this.options=t.extend({},this.gridDefaults,this.defaults||{},e),"string"==typeof this.options.units&&(this.options.postUnits=e.units),this.raphael=new Raphael(this.el[0]),this.elementWidth=null,this.elementHeight=null,this.dirty=!1,this.selectFrom=null,this.init&&this.init(),this.setData(this.options.data),this.el.bind("mousemove",(function(t){var e,i,r,o;return i=n.el.offset(),o=t.pageX-i.left,n.selectFrom?(e=n.data[n.hitTest(Math.min(o,n.selectFrom))]._x,r=n.data[n.hitTest(Math.max(o,n.selectFrom))]._x-e,n.selectionRect.attr({x:e,width:r})):n.fire("hovermove",o,t.pageY-i.top)})),this.el.bind("mouseleave",(function(){return n.selectFrom&&(n.selectionRect.hide(),n.selectFrom=null),n.fire("hoverout")})),this.el.bind("touchstart touchmove touchend",(function(t){var e,i;return i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],e=n.el.offset(),n.fire("hovermove",i.pageX-e.left,i.pageY-e.top)})),this.el.bind("click",(function(t){var e;return e=n.el.offset(),n.fire("gridclick",t.pageX-e.left,t.pageY-e.top)})),this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),this.el.bind("mousedown",(function(t){var e;return e=n.el.offset(),n.startRange(t.pageX-e.left)})),this.el.bind("mouseup",(function(t){var e;return e=n.el.offset(),n.endRange(t.pageX-e.left),n.fire("hovermove",t.pageX-e.left,t.pageY-e.top)}))),this.options.resize&&t(window).bind("resize",(function(){return null!=n.timeoutId&&window.clearTimeout(n.timeoutId),n.timeoutId=window.setTimeout(n.resizeHandler,100)})),this.el.css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),this.postInit&&this.postInit()}return a(i,n),i.prototype.gridDefaults={dateFormat:null,axes:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:!1,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:!1},i.prototype.setData=function(t,n){var i,r,o,s,a,l,c,u,d,h,f,p,g,m,v;return null==n&&(n=!0),this.options.data=t,null==t||0===t.length?(this.data=[],this.raphael.clear(),void(null!=this.hover&&this.hover.hide())):(p=this.cumulative?0:null,g=this.cumulative?0:null,this.options.goals.length>0&&(a=Math.min.apply(Math,this.options.goals),s=Math.max.apply(Math,this.options.goals),g=null!=g?Math.min(g,a):a,p=null!=p?Math.max(p,s):s),this.data=function(){var n,i,s;for(s=[],o=n=0,i=t.length;n<i;o=++n)c=t[o],(l={src:c}).label=c[this.options.xkey],this.options.parseTime?(l.x=e.parseDate(l.label),this.options.dateFormat?l.label=this.options.dateFormat(l.x):"number"==typeof l.label&&(l.label=new Date(l.label).toString())):(l.x=o,this.options.xLabelFormat&&(l.label=this.options.xLabelFormat(l))),d=0,l.y=function(){var t,e,n,i;for(n=this.options.ykeys,i=[],r=t=0,e=n.length;t<e;r=++t)f=n[r],"string"==typeof(m=c[f])&&(m=parseFloat(m)),null!=m&&"number"!=typeof m&&(m=null),null!=m&&(this.cumulative?d+=m:null!=p?(p=Math.max(m,p),g=Math.min(m,g)):p=g=m),this.cumulative&&null!=d&&(p=Math.max(d,p),g=Math.min(d,g)),i.push(m);return i}.call(this),s.push(l);return s}.call(this),this.options.parseTime&&(this.data=this.data.sort((function(t,e){return(t.x>e.x)-(e.x>t.x)}))),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],this.options.events.length>0&&(this.options.parseTime?this.events=function(){var t,n,r,o;for(o=[],t=0,n=(r=this.options.events).length;t<n;t++)i=r[t],o.push(e.parseDate(i));return o}.call(this):this.events=this.options.events,this.xmax=Math.max(this.xmax,Math.max.apply(Math,this.events)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,this.events))),this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",g),this.ymax=this.yboundary("max",p),this.ymin===this.ymax&&(g&&(this.ymin-=1),this.ymax+=1),!0!==(v=this.options.axes)&&"both"!==v&&"y"!==v&&!0!==this.options.grid||(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(u=(this.ymax-this.ymin)/(this.options.numLines-1),this.grid=function(){var t,e,n;for(n=[],h=t=this.ymin,e=this.ymax;u>0?t<=e:t>=e;h=t+=u)n.push(h);return n}.call(this))),this.dirty=!0,n?this.redraw():void 0)},i.prototype.yboundary=function(t,e){var n,i;return"string"==typeof(n=this.options["y"+t])?"auto"===n.slice(0,4)?n.length>5?(i=parseInt(n.slice(5),10),null==e?i:Math[t](e,i)):null!=e?e:0:parseInt(n,10):n},i.prototype.autoGridLines=function(t,e,n){var i,r,o,s,a,l,c,u,d;return a=e-t,d=Math.floor(Math.log(a)/Math.log(10)),c=Math.pow(10,d),r=Math.floor(t/c)*c,i=Math.ceil(e/c)*c,l=(i-r)/(n-1),1===c&&l>1&&Math.ceil(l)!==l&&(l=Math.ceil(l),i=r+l*(n-1)),r<0&&i>0&&(r=Math.floor(t/l)*l,i=Math.ceil(e/l)*l),l<1?(s=Math.floor(Math.log(l)/Math.log(10)),o=function(){var t,e;for(e=[],u=t=r;l>0?t<=i:t>=i;u=t+=l)e.push(parseFloat(u.toFixed(1-s)));return e}()):o=function(){var t,e;for(e=[],u=t=r;l>0?t<=i:t>=i;u=t+=l)e.push(u);return e}(),o},i.prototype._calc=function(){var t,e,n,i,r,o,s,a;if(r=this.el.width(),n=this.el.height(),(this.elementWidth!==r||this.elementHeight!==n||this.dirty)&&(this.elementWidth=r,this.elementHeight=n,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,!0!==(s=this.options.axes)&&"both"!==s&&"y"!==s||(o=function(){var t,n,i,r;for(r=[],t=0,n=(i=this.grid).length;t<n;t++)e=i[t],r.push(this.measureText(this.yAxisFormat(e)).width);return r}.call(this),this.left+=Math.max.apply(Math,o)),!0!==(a=this.options.axes)&&"both"!==a&&"x"!==a||(t=function(){var t,e,n;for(n=[],i=t=0,e=this.data.length;0<=e?t<e:t>e;i=0<=e?++t:--t)n.push(this.measureText(this.data[i].text,-this.options.xLabelAngle).height);return n}.call(this),this.bottom-=Math.max.apply(Math,t)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.calc))return this.calc()},i.prototype.transY=function(t){return this.bottom-(t-this.ymin)*this.dy},i.prototype.transX=function(t){return 1===this.data.length?(this.left+this.right)/2:this.left+(t-this.xmin)*this.dx},i.prototype.redraw=function(){if(this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this.draw)return this.draw()},i.prototype.measureText=function(t,e){var n,i;return null==e&&(e=0),n=(i=this.raphael.text(100,100,t).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(e)).getBBox(),i.remove(),n},i.prototype.yAxisFormat=function(t){return this.yLabelFormat(t)},i.prototype.yLabelFormat=function(t){return"function"==typeof this.options.yLabelFormat?this.options.yLabelFormat(t):""+this.options.preUnits+e.commas(t)+this.options.postUnits},i.prototype.drawGrid=function(){var t,e,n,i,r,o,s,a;if(!1!==this.options.grid||!0===(r=this.options.axes)||"both"===r||"y"===r){for(a=[],n=0,i=(o=this.grid).length;n<i;n++)t=o[n],e=this.transY(t),!0!==(s=this.options.axes)&&"both"!==s&&"y"!==s||this.drawYAxisLabel(this.left-this.options.padding/2,e,this.yAxisFormat(t)),this.options.grid?a.push(this.drawGridLine("M"+this.left+","+e+"H"+(this.left+this.width))):a.push(void 0);return a}},i.prototype.drawGoals=function(){var t,e,n,i,r,o,s;for(s=[],n=i=0,r=(o=this.options.goals).length;i<r;n=++i)e=o[n],t=this.options.goalLineColors[n%this.options.goalLineColors.length],s.push(this.drawGoal(e,t));return s},i.prototype.drawEvents=function(){var t,e,n,i,r,o,s;for(s=[],n=i=0,r=(o=this.events).length;i<r;n=++i)e=o[n],t=this.options.eventLineColors[n%this.options.eventLineColors.length],s.push(this.drawEvent(e,t));return s},i.prototype.drawGoal=function(t,e){return this.raphael.path("M"+this.left+","+this.transY(t)+"H"+this.right).attr("stroke",e).attr("stroke-width",this.options.goalStrokeWidth)},i.prototype.drawEvent=function(t,e){return this.raphael.path("M"+this.transX(t)+","+this.bottom+"V"+this.top).attr("stroke",e).attr("stroke-width",this.options.eventStrokeWidth)},i.prototype.drawYAxisLabel=function(t,e,n){return this.raphael.text(t,e,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")},i.prototype.drawGridLine=function(t){return this.raphael.path(t).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},i.prototype.startRange=function(t){return this.hover.hide(),this.selectFrom=t,this.selectionRect.attr({x:t,width:0}).show()},i.prototype.endRange=function(t){var e,n;if(this.selectFrom)return n=Math.min(this.selectFrom,t),e=Math.max(this.selectFrom,t),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(n)].x,end:this.data[this.hitTest(e)].x}),this.selectFrom=null},i.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},i}(e.EventEmitter),e.parseDate=function(t){var e,n,i,r,o,s,a,l,c,u,d;return"number"==typeof t?t:(n=t.match(/^(\d+) Q(\d)$/),r=t.match(/^(\d+)-(\d+)$/),o=t.match(/^(\d+)-(\d+)-(\d+)$/),a=t.match(/^(\d+) W(\d+)$/),l=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),c=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),n?new Date(parseInt(n[1],10),3*parseInt(n[2],10)-1,1).getTime():r?new Date(parseInt(r[1],10),parseInt(r[2],10)-1,1).getTime():o?new Date(parseInt(o[1],10),parseInt(o[2],10)-1,parseInt(o[3],10)).getTime():a?(4!==(u=new Date(parseInt(a[1],10),0,1)).getDay()&&u.setMonth(0,1+(4-u.getDay()+7)%7),u.getTime()+6048e5*parseInt(a[2],10)):l?l[6]?(s=0,"Z"!==l[6]&&(s=60*parseInt(l[8],10)+parseInt(l[9],10),"+"===l[7]&&(s=0-s)),Date.UTC(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)+s)):new Date(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)).getTime():c?(d=parseFloat(c[6]),e=Math.floor(d),i=Math.round(1e3*(d-e)),c[8]?(s=0,"Z"!==c[8]&&(s=60*parseInt(c[10],10)+parseInt(c[11],10),"+"===c[9]&&(s=0-s)),Date.UTC(parseInt(c[1],10),parseInt(c[2],10)-1,parseInt(c[3],10),parseInt(c[4],10),parseInt(c[5],10)+s,e,i)):new Date(parseInt(c[1],10),parseInt(c[2],10)-1,parseInt(c[3],10),parseInt(c[4],10),parseInt(c[5],10),e,i).getTime()):new Date(parseInt(t,10),0,1).getTime())},e.Hover=function(){function n(n){null==n&&(n={}),this.options=t.extend({},e.Hover.defaults,n),this.el=t("<div class='"+this.options.class+"'></div>"),this.el.hide(),this.options.parent.append(this.el)}return n.defaults={class:"morris-hover morris-default-style"},n.prototype.update=function(t,e,n){return t?(this.html(t),this.show(),this.moveTo(e,n)):this.hide()},n.prototype.html=function(t){return this.el.html(t)},n.prototype.moveTo=function(t,e){var n,i,r,o,s,a;return s=this.options.parent.innerWidth(),o=this.options.parent.innerHeight(),i=this.el.outerWidth(),n=this.el.outerHeight(),r=Math.min(Math.max(0,t-i/2),s-i),null!=e?(a=e-n-10)<0&&(a=e+10)+n>o&&(a=o/2-n/2):a=o/2-n/2,this.el.css({left:r+"px",top:parseInt(a)+"px"})},n.prototype.show=function(){return this.el.show()},n.prototype.hide=function(){return this.el.hide()},n}(),e.Line=function(t){function n(t){if(this.hilight=o(this.hilight,this),this.onHoverOut=o(this.onHoverOut,this),this.onHoverMove=o(this.onHoverMove,this),this.onGridClick=o(this.onGridClick,this),!(this instanceof e.Line))return new e.Line(t);n.__super__.constructor.call(this,t)}return a(n,t),n.prototype.init=function(){if("always"!==this.options.hideHover)return this.hover=new e.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)},n.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,hideHover:!1},n.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},n.prototype.calcPoints=function(){var t,e,n,i,r,o;for(o=[],n=0,i=(r=this.data).length;n<i;n++)(t=r[n])._x=this.transX(t.x),t._y=function(){var n,i,r,o;for(o=[],n=0,i=(r=t.y).length;n<i;n++)null!=(e=r[n])?o.push(this.transY(e)):o.push(e);return o}.call(this),o.push(t._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var n,i,r,o;for(o=[],n=0,i=(r=t._y).length;n<i;n++)null!=(e=r[n])&&o.push(e);return o}())));return o},n.prototype.hitTest=function(t){var e,n,i,r;if(0===this.data.length)return null;for(e=n=0,i=(r=this.data.slice(1)).length;n<i&&!(t<(r[e]._x+this.data[e]._x)/2);e=++n);return e},n.prototype.onGridClick=function(t,e){var n;return n=this.hitTest(t),this.fire("click",n,this.data[n].src,t,e)},n.prototype.onHoverMove=function(t){var e;return e=this.hitTest(t),this.displayHoverForRow(e)},n.prototype.onHoverOut=function(){if(!1!==this.options.hideHover)return this.displayHoverForRow(null)},n.prototype.displayHoverForRow=function(t){var e;return null!=t?((e=this.hover).update.apply(e,this.hoverContentForRow(t)),this.hilight(t)):(this.hover.hide(),this.hilight())},n.prototype.hoverContentForRow=function(t){var e,n,i,r,o,s;for(e="<div class='morris-hover-row-label'>"+(n=this.data[t]).label+"</div>",a=r=0,o=(s=n.y).length;r<o;a=++r)i=s[a],e+="<div class='morris-hover-point' style='color: "+this.colorFor(n,a,"label")+"'>\n  "+this.options.labels[a]+":\n  "+this.yLabelFormat(i)+"\n</div>";for(var a in n.src)a!=this.options.xkey&&-1!=this.options.labels.indexOf(a)&&-1==this.options.ykeys.indexOf(a)&&(e+="<div class='morris-hover-point' style='color: "+this.colorFor(n,0,"label")+"'>\n  "+a+":\n  "+n.src[a]+"\n</div>");return"function"==typeof this.options.hoverCallback&&(e=this.options.hoverCallback(t,this.options,e,n.src)),[e,n._x,n._ymax]},n.prototype.generatePaths=function(){var t,n,i,r;return this.paths=function(){var o,s,a,c;for(c=[],n=o=0,s=this.options.ykeys.length;0<=s?o<s:o>s;n=0<=s?++o:--o)r="boolean"==typeof this.options.smooth?this.options.smooth:(a=this.options.ykeys[n],l.call(this.options.smooth,a)>=0),(t=function(){var t,e,r,o;for(o=[],t=0,e=(r=this.data).length;t<e;t++)void 0!==(i=r[t])._y[n]&&o.push({x:i._x,y:i._y[n]});return o}.call(this)).length>1?c.push(e.Line.createPath(t,r,this.bottom)):c.push(null);return c}.call(this)},n.prototype.draw=function(){var t;if(!0!==(t=this.options.axes)&&"both"!==t&&"x"!==t||this.drawXAxis(),this.drawSeries(),!1===this.options.hideHover)return this.displayHoverForRow(this.data.length-1)},n.prototype.drawXAxis=function(){var t,n,i,r,o,s,a,l,c,u,d=this;for(a=this.bottom+this.options.padding/2,o=null,r=null,t=function(t,e){var n,i,s,l,c;return c=(n=d.drawXAxisLabel(d.transX(e),a,t)).getBBox(),n.transform("r"+-d.options.xLabelAngle),i=n.getBBox(),n.transform("t0,"+i.height/2+"..."),0!==d.options.xLabelAngle&&(l=-.5*c.width*Math.cos(d.options.xLabelAngle*Math.PI/180),n.transform("t"+l+",0...")),i=n.getBBox(),(null==o||o>=i.x+i.width||null!=r&&r>=i.x)&&i.x>=0&&i.x+i.width<d.el.width()?(0!==d.options.xLabelAngle&&(s=1.25*d.options.gridTextSize/Math.sin(d.options.xLabelAngle*Math.PI/180),r=i.x-s),o=i.x-d.options.xLabelMargin):n.remove()},i=this.options.parseTime?1===this.data.length&&"auto"===this.options.xLabels?[[this.data[0].label,this.data[0].x]]:e.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):function(){var t,e,n,i;for(i=[],t=0,e=(n=this.data).length;t<e;t++)s=n[t],i.push([s.label,s.x]);return i}.call(this),i.reverse(),u=[],l=0,c=i.length;l<c;l++)n=i[l],u.push(t(n[0],n[1]));return u},n.prototype.drawSeries=function(){var t,e,n,i,r,o;for(this.seriesPoints=[],t=e=i=this.options.ykeys.length-1;i<=0?e<=0:e>=0;t=i<=0?++e:--e)this._drawLineFor(t);for(o=[],t=n=r=this.options.ykeys.length-1;r<=0?n<=0:n>=0;t=r<=0?++n:--n)o.push(this._drawPointFor(t));return o},n.prototype._drawPointFor=function(t){var e,n,i,r,o,s;for(this.seriesPoints[t]=[],s=[],i=0,r=(o=this.data).length;i<r;i++)e=null,null!=(n=o[i])._y[t]&&(e=this.drawLinePoint(n._x,n._y[t],this.colorFor(n,t,"point"),t)),s.push(this.seriesPoints[t].push(e));return s},n.prototype._drawLineFor=function(t){var e;if(null!==(e=this.paths[t]))return this.drawLinePath(e,this.colorFor(null,t,"line"),t)},n.createPath=function(t,n,i){var r,o,s,a,l,c,u,d,h,f;for(u="",n&&(s=e.Line.gradients(t)),d={y:null},a=h=0,f=t.length;h<f;a=++h)null!=(r=t[a]).y&&(null!=d.y?n?(o=s[a],c=s[a-1],l=(r.x-d.x)/4,u+="C"+(d.x+l)+","+Math.min(i,d.y+l*c)+","+(r.x-l)+","+Math.min(i,r.y-l*o)+","+r.x+","+r.y):u+="L"+r.x+","+r.y:n&&null==s[a]||(u+="M"+r.x+","+r.y)),d=r;return u},n.gradients=function(t){var e,n,i,r,o,s,a,l;for(n=function(t,e){return(t.y-e.y)/(t.x-e.x)},l=[],i=s=0,a=t.length;s<a;i=++s)null!=(e=t[i]).y?(r=t[i+1]||{y:null},null!=(o=t[i-1]||{y:null}).y&&null!=r.y?l.push(n(o,r)):null!=o.y?l.push(n(o,e)):null!=r.y?l.push(n(e,r)):l.push(null)):l.push(null);return l},n.prototype.hilight=function(t){var e,n,i,r,o;if(null!==this.prevHilight&&this.prevHilight!==t)for(e=n=0,r=this.seriesPoints.length-1;0<=r?n<=r:n>=r;e=0<=r?++n:--n)this.seriesPoints[e][this.prevHilight]&&this.seriesPoints[e][this.prevHilight].animate(this.pointShrinkSeries(e));if(null!==t&&this.prevHilight!==t)for(e=i=0,o=this.seriesPoints.length-1;0<=o?i<=o:i>=o;e=0<=o?++i:--i)this.seriesPoints[e][t]&&this.seriesPoints[e][t].animate(this.pointGrowSeries(e));return this.prevHilight=t},n.prototype.colorFor=function(t,e,n){return"function"==typeof this.options.lineColors?this.options.lineColors.call(this,t,e,n):"point"===n&&this.options.pointFillColors[e%this.options.pointFillColors.length]||this.options.lineColors[e%this.options.lineColors.length]},n.prototype.drawXAxisLabel=function(t,e,n){return this.raphael.text(t,e,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},n.prototype.drawLinePath=function(t,e,n){return this.raphael.path(t).attr("stroke",e).attr("stroke-width",this.lineWidthForSeries(n))},n.prototype.drawLinePoint=function(t,e,n,i){return this.raphael.circle(t,e,this.pointSizeForSeries(i)).attr("fill",n).attr("stroke-width",this.pointStrokeWidthForSeries(i)).attr("stroke",this.pointStrokeColorForSeries(i))},n.prototype.pointStrokeWidthForSeries=function(t){return this.options.pointStrokeWidths[t%this.options.pointStrokeWidths.length]},n.prototype.pointStrokeColorForSeries=function(t){return this.options.pointStrokeColors[t%this.options.pointStrokeColors.length]},n.prototype.lineWidthForSeries=function(t){return this.options.lineWidth instanceof Array?this.options.lineWidth[t%this.options.lineWidth.length]:this.options.lineWidth},n.prototype.pointSizeForSeries=function(t){return this.options.pointSize instanceof Array?this.options.pointSize[t%this.options.pointSize.length]:this.options.pointSize},n.prototype.pointGrowSeries=function(t){return Raphael.animation({r:this.pointSizeForSeries(t)+3},25,"linear")},n.prototype.pointShrinkSeries=function(t){return Raphael.animation({r:this.pointSizeForSeries(t)},25,"linear")},n}(e.Grid),e.labelSeries=function(n,i,r,o,s){var a,l,c,u,d,h,f,p,g,m,v;if(c=200*(i-n)/r,l=new Date(n),void 0===(f=e.LABEL_SPECS[o]))for(g=0,m=(v=e.AUTO_LABEL_ORDER).length;g<m;g++)if(u=v[g],c>=(h=e.LABEL_SPECS[u]).span){f=h;break}for(void 0===f&&(f=e.LABEL_SPECS.second),s&&(f=t.extend({},f,{fmt:s})),a=f.start(l),d=[];(p=a.getTime())<=i;)p>=n&&d.push([f.fmt(a),p]),f.incr(a);return d},n=function(t){return{span:60*t*1e3,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours())},fmt:function(t){return e.pad2(t.getHours())+":"+e.pad2(t.getMinutes())},incr:function(e){return e.setUTCMinutes(e.getUTCMinutes()+t)}}},i=function(t){return{span:1e3*t,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes())},fmt:function(t){return e.pad2(t.getHours())+":"+e.pad2(t.getMinutes())+":"+e.pad2(t.getSeconds())},incr:function(e){return e.setUTCSeconds(e.getUTCSeconds()+t)}}},e.LABEL_SPECS={decade:{span:1728e8,start:function(t){return new Date(t.getFullYear()-t.getFullYear()%10,0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+10)}},year:{span:1728e7,start:function(t){return new Date(t.getFullYear(),0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+1)}},month:{span:24192e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),1)},fmt:function(t){return t.getFullYear()+"-"+e.pad2(t.getMonth()+1)},incr:function(t){return t.setMonth(t.getMonth()+1)}},week:{span:6048e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return t.getFullYear()+"-"+e.pad2(t.getMonth()+1)+"-"+e.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+7)}},day:{span:864e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return t.getFullYear()+"-"+e.pad2(t.getMonth()+1)+"-"+e.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+1)}},hour:n(60),"30min":n(30),"15min":n(15),"10min":n(10),"5min":n(5),minute:n(1),"30sec":i(30),"15sec":i(15),"10sec":i(10),"5sec":i(5),second:i(1)},e.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"],e.Area=function(n){function i(n){var o;if(!(this instanceof e.Area))return new e.Area(n);o=t.extend({},r,n),this.cumulative=!o.behaveLikeLine,"auto"===o.fillOpacity&&(o.fillOpacity=o.behaveLikeLine?.8:1),i.__super__.constructor.call(this,o)}var r;return a(i,n),r={fillOpacity:"auto",behaveLikeLine:!1},i.prototype.calcPoints=function(){var t,e,n,i,r,o,s;for(s=[],i=0,r=(o=this.data).length;i<r;i++)(t=o[i])._x=this.transX(t.x),e=0,t._y=function(){var i,r,o,s;for(s=[],i=0,r=(o=t.y).length;i<r;i++)n=o[i],this.options.behaveLikeLine?s.push(this.transY(n)):(e+=n||0,s.push(this.transY(e)));return s}.call(this),s.push(t._ymax=Math.max.apply(Math,t._y));return s},i.prototype.drawSeries=function(){var t,e,n,i,r,o,s,a;for(this.seriesPoints=[],e=this.options.behaveLikeLine?function(){o=[];for(var t=0,e=this.options.ykeys.length-1;0<=e?t<=e:t>=e;0<=e?t++:t--)o.push(t);return o}.apply(this):function(){s=[];for(var t=r=this.options.ykeys.length-1;r<=0?t<=0:t>=0;r<=0?t++:t--)s.push(t);return s}.apply(this),a=[],n=0,i=e.length;n<i;n++)t=e[n],this._drawFillFor(t),this._drawLineFor(t),a.push(this._drawPointFor(t));return a},i.prototype._drawFillFor=function(t){var e;if(null!==(e=this.paths[t]))return e=e+"L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z",this.drawFilledPath(e,this.fillForSeries(t))},i.prototype.fillForSeries=function(t){var e;return e=Raphael.rgb2hsl(this.colorFor(this.data[t],t,"line")),Raphael.hsl(e.h,this.options.behaveLikeLine?.9*e.s:.75*e.s,Math.min(.98,this.options.behaveLikeLine?1.2*e.l:1.25*e.l))},i.prototype.drawFilledPath=function(t,e){return this.raphael.path(t).attr("fill",e).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},i}(e.Line),e.Bar=function(n){function i(n){if(this.onHoverOut=o(this.onHoverOut,this),this.onHoverMove=o(this.onHoverMove,this),this.onGridClick=o(this.onGridClick,this),!(this instanceof e.Bar))return new e.Bar(n);i.__super__.constructor.call(this,t.extend({},n,{parseTime:!1}))}return a(i,n),i.prototype.init=function(){if(this.cumulative=this.options.stacked,"always"!==this.options.hideHover)return this.hover=new e.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)},i.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50},i.prototype.calc=function(){var t;if(this.calcBars(),!1===this.options.hideHover)return(t=this.hover).update.apply(t,this.hoverContentForRow(this.data.length-1))},i.prototype.calcBars=function(){var t,e,n,i,r,o,s;for(s=[],t=i=0,r=(o=this.data).length;i<r;t=++i)(e=o[t])._x=this.left+this.width*(t+.5)/this.data.length,s.push(e._y=function(){var t,i,r,o;for(o=[],t=0,i=(r=e.y).length;t<i;t++)null!=(n=r[t])?o.push(this.transY(n)):o.push(null);return o}.call(this));return s},i.prototype.draw=function(){var t;return!0!==(t=this.options.axes)&&"both"!==t&&"x"!==t||this.drawXAxis(),this.drawSeries()},i.prototype.drawXAxis=function(){var t,e,n,i,r,o,s,a,l,c,u,d,h;for(c=this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2),s=null,o=null,h=[],t=u=0,d=this.data.length;0<=d?u<d:u>d;t=0<=d?++u:--u)a=this.data[this.data.length-1-t],l=(e=this.drawXAxisLabel(a._x,c,a.label)).getBBox(),e.transform("r"+-this.options.xLabelAngle),n=e.getBBox(),e.transform("t0,"+n.height/2+"..."),0!==this.options.xLabelAngle&&(r=-.5*l.width*Math.cos(this.options.xLabelAngle*Math.PI/180),e.transform("t"+r+",0...")),(null==s||s>=n.x+n.width||null!=o&&o>=n.x)&&n.x>=0&&n.x+n.width<this.el.width()?(0!==this.options.xLabelAngle&&(i=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180),o=n.x-i),h.push(s=n.x-this.options.xLabelMargin)):h.push(e.remove());return h},i.prototype.drawSeries=function(){var t,e,n,i,r,o,s,a,l,c,u,d,h,f,p;return n=this.width/this.options.data.length,a=this.options.stacked?1:this.options.ykeys.length,t=(n*this.options.barSizeRatio-this.options.barGap*(a-1))/a,this.options.barSize&&(t=Math.min(t,this.options.barSize)),d=n-t*a-this.options.barGap*(a-1),s=d/2,p=this.ymin<=0&&this.ymax>=0?this.transY(0):null,this.bars=function(){var a,d,g,m;for(g=this.data,m=[],i=a=0,d=g.length;a<d;i=++a)l=g[i],r=0,m.push(function(){var a,d,g,m;for(g=l._y,m=[],c=a=0,d=g.length;a<d;c=++a)null!==(f=g[c])?(p?(h=Math.min(f,p),
e=Math.max(f,p)):(h=f,e=this.bottom),o=this.left+i*n+s,this.options.stacked||(o+=c*(t+this.options.barGap)),u=e-h,this.options.verticalGridCondition&&this.options.verticalGridCondition(l.x)&&this.drawBar(this.left+i*n,this.top,n,Math.abs(this.top-this.bottom),this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius),this.options.stacked&&(h-=r),this.drawBar(o,h,t,u,this.colorFor(l,c,"bar"),this.options.barOpacity,this.options.barRadius),m.push(r+=u)):m.push(null);return m}.call(this));return m}.call(this)},i.prototype.colorFor=function(t,e,n){var i,r;return"function"==typeof this.options.barColors?(i={x:t.x,y:t.y[e],label:t.label},r={index:e,key:this.options.ykeys[e],label:this.options.labels[e]},this.options.barColors.call(this,i,r,n)):this.options.barColors[e%this.options.barColors.length]},i.prototype.hitTest=function(t){return 0===this.data.length?null:(t=Math.max(Math.min(t,this.right),this.left),Math.min(this.data.length-1,Math.floor((t-this.left)/(this.width/this.data.length))))},i.prototype.onGridClick=function(t,e){var n;return n=this.hitTest(t),this.fire("click",n,this.data[n].src,t,e)},i.prototype.onHoverMove=function(t){var e,n;return e=this.hitTest(t),(n=this.hover).update.apply(n,this.hoverContentForRow(e))},i.prototype.onHoverOut=function(){if(!1!==this.options.hideHover)return this.hover.hide()},i.prototype.hoverContentForRow=function(t){var e,n,i,r,o,s;for(e="<div class='morris-hover-row-label'>"+(n=this.data[t]).label+"</div>",a=r=0,o=(s=n.y).length;r<o;a=++r)i=s[a],e+="<div class='morris-hover-point' style='color: "+this.colorFor(n,a,"label")+"'>\n  "+this.options.labels[a]+":\n  "+this.yLabelFormat(i)+"\n</div>";for(var a in n.src)a!=this.options.xkey&&-1!=this.options.labels.indexOf(a)&&-1==this.options.ykeys.indexOf(a)&&(e+="<div class='morris-hover-point' style='color: "+this.colorFor(n,0,"label")+"'>\n  "+a+":\n  "+n.src[a]+"\n</div>");return"function"==typeof this.options.hoverCallback&&(e=this.options.hoverCallback(t,this.options,e,n.src)),[e,this.left+(t+.5)*this.width/this.data.length]},i.prototype.drawXAxisLabel=function(t,e,n){return this.raphael.text(t,e,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},i.prototype.drawBar=function(t,e,n,i,r,o,s){var a;return(0===(a=Math.max.apply(Math,s))||a>i?this.raphael.rect(t,e,n,i):this.raphael.path(this.roundedRect(t,e,n,i,s))).attr("fill",r).attr("fill-opacity",o).attr("stroke","none")},i.prototype.roundedRect=function(t,e,n,i,r){return null==r&&(r=[0,0,0,0]),["M",t,r[0]+e,"Q",t,e,t+r[0],e,"L",t+n-r[1],e,"Q",t+n,e,t+n,e+r[1],"L",t+n,e+i-r[2],"Q",t+n,e+i,t+n-r[2],e+i,"L",t+r[3],e+i,"Q",t,e+i,t,e+i-r[3],"Z"]},i}(e.Grid),e.Donut=function(n){function i(n){this.resizeHandler=o(this.resizeHandler,this),this.select=o(this.select,this),this.click=o(this.click,this);var i=this;if(!(this instanceof e.Donut))return new e.Donut(n);if(this.options=t.extend({},this.defaults,n),"string"==typeof n.element?this.el=t(document.getElementById(n.element)):this.el=t(n.element),null===this.el||0===this.el.length)throw new Error("Graph placeholder not found.");void 0!==n.data&&0!==n.data.length&&(this.raphael=new Raphael(this.el[0]),this.options.resize&&t(window).bind("resize",(function(){return null!=i.timeoutId&&window.clearTimeout(i.timeoutId),i.timeoutId=window.setTimeout(i.resizeHandler,100)})),this.setData(n.data))}return a(i,n),i.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:e.commas,resize:!1},i.prototype.redraw=function(){var t,n,i,r,o,s,a,l,c,u,d,h,f,p,g,m,v,y,b,w,x,C;for(this.raphael.clear(),n=this.el.width()/2,i=this.el.height()/2,h=(Math.min(n,i)-10)/3,d=0,f=0,m=(b=this.values).length;f<m;f++)d+=b[f];for(l=5/(2*h),t=1.9999*Math.PI-l*this.data.length,s=0,o=0,this.segments=[],r=p=0,v=(w=this.values).length;p<v;r=++p)c=s+l+t*(w[r]/d),(u=new e.DonutSegment(n,i,2*h,h,s,c,this.data[r].color||this.options.colors[o%this.options.colors.length],this.options.backgroundColor,o,this.raphael)).render(),this.segments.push(u),u.on("hover",this.select),u.on("click",this.click),s=c,o+=1;for(this.text1=this.drawEmptyDonutLabel(n,i-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(n,i+10,this.options.labelColor,14),a=Math.max.apply(Math,this.values),o=0,C=[],g=0,y=(x=this.values).length;g<y;g++){if(x[g]===a){this.select(o);break}C.push(o+=1)}return C},i.prototype.setData=function(t){var e;return this.data=t,this.values=function(){var t,n,i,r;for(r=[],t=0,n=(i=this.data).length;t<n;t++)e=i[t],r.push(parseFloat(e.value));return r}.call(this),this.redraw()},i.prototype.click=function(t){return this.fire("click",t,this.data[t])},i.prototype.select=function(t){var e,n,i,r;for(n=0,i=(r=this.segments).length;n<i;n++)r[n].deselect();return this.segments[t].select(),e=this.data[t],this.setLabels(e.label,this.options.formatter(e.value,e))},i.prototype.setLabels=function(t,e){var n,i,r,o,s,a,l,c;return o=1.8*(n=2*(Math.min(this.el.width()/2,this.el.height()/2)-10)/3),r=n/2,i=n/3,this.text1.attr({text:t,transform:""}),s=this.text1.getBBox(),a=Math.min(o/s.width,r/s.height),this.text1.attr({transform:"S"+a+","+a+","+(s.x+s.width/2)+","+(s.y+s.height)}),this.text2.attr({text:e,transform:""}),l=this.text2.getBBox(),c=Math.min(o/l.width,i/l.height),this.text2.attr({transform:"S"+c+","+c+","+(l.x+l.width/2)+","+l.y})},i.prototype.drawEmptyDonutLabel=function(t,e,n,i,r){var o;return o=this.raphael.text(t,e,"").attr("font-size",i).attr("fill",n),null!=r&&o.attr("font-weight",r),o},i.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},i}(e.EventEmitter),e.DonutSegment=function(t){function e(t,e,n,i,r,s,a,l,c,u){this.cx=t,this.cy=e,this.inner=n,this.outer=i,this.color=a,this.backgroundColor=l,this.index=c,this.raphael=u,this.deselect=o(this.deselect,this),this.select=o(this.select,this),this.sin_p0=Math.sin(r),this.cos_p0=Math.cos(r),this.sin_p1=Math.sin(s),this.cos_p1=Math.cos(s),this.is_long=s-r>Math.PI?1:0,this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5),this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer),this.hilight=this.calcArc(this.inner)}return a(e,t),e.prototype.calcArcPoints=function(t){return[this.cx+t*this.sin_p0,this.cy+t*this.cos_p0,this.cx+t*this.sin_p1,this.cy+t*this.cos_p1]},e.prototype.calcSegment=function(t,e){var n,i,r,o,s,a,l,c,u,d;return n=(u=this.calcArcPoints(t))[0],r=u[1],i=u[2],o=u[3],s=(d=this.calcArcPoints(e))[0],l=d[1],a=d[2],c=d[3],"M"+n+","+r+"A"+t+","+t+",0,"+this.is_long+",0,"+i+","+o+"L"+a+","+c+"A"+e+","+e+",0,"+this.is_long+",1,"+s+","+l+"Z"},e.prototype.calcArc=function(t){var e,n,i,r,o;return e=(o=this.calcArcPoints(t))[0],i=o[1],n=o[2],r=o[3],"M"+e+","+i+"A"+t+","+t+",0,"+this.is_long+",0,"+n+","+r},e.prototype.render=function(){var t=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,(function(){return t.fire("hover",t.index)}),(function(){return t.fire("click",t.index)}))},e.prototype.drawDonutArc=function(t,e){return this.raphael.path(t).attr({stroke:e,"stroke-width":2,opacity:0})},e.prototype.drawDonutSegment=function(t,e,n,i,r){return this.raphael.path(t).attr({fill:e,stroke:n,"stroke-width":3}).hover(i).click(r)},e.prototype.select=function(){if(!this.selected)return this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0},e.prototype.deselect=function(){if(this.selected)return this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1},e}(e.EventEmitter)}.call(this),function(t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else{if("function"==typeof define&&define.amd)return define([],t);(this||window).CodeMirror=t()}}((function(){"use strict";function t(n,i){if(!(this instanceof t))return new t(n,i);this.options=i=i?Hr(i):{},Hr(ts,i,!1),f(i);var r=i.value;"string"==typeof r&&(r=new ks(r,i.mode,null,i.lineSeparator)),this.doc=r;var o=new t.inputStyles[i.inputStyle](this),s=this.display=new e(n,r,o);s.wrapper.CodeMirror=this,c(this),a(this),i.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),i.autofocus&&!Mo&&s.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Ar,keySeq:null,specialChars:null};var l=this;for(var u in bo&&wo<11&&setTimeout((function(){l.display.input.reset(!0)}),20),Re(this),Xr(),we(this),this.curOp.forceUpdate=!0,Qi(this,r),i.autofocus&&!Mo||l.hasFocus()?setTimeout(Nr(vn,this),20):yn(this),es)es.hasOwnProperty(u)&&es[u](this,i[u],ns);C(this),i.finishInit&&i.finishInit(this);for(var d=0;d<ss.length;++d)ss[d](this);Ce(this),xo&&i.lineWrapping&&"optimizelegibility"==getComputedStyle(s.lineDiv).textRendering&&(s.lineDiv.style.textRendering="auto")}function e(t,e,n){var i=this;this.input=n,i.scrollbarFiller=Rr("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=Rr("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=Rr("div",null,"CodeMirror-code"),i.selectionDiv=Rr("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=Rr("div",null,"CodeMirror-cursors"),i.measure=Rr("div",null,"CodeMirror-measure"),i.lineMeasure=Rr("div",null,"CodeMirror-measure"),i.lineSpace=Rr("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=Rr("div",[Rr("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=Rr("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=Rr("div",null,null,"position: absolute; height: "+$s+"px; width: 1px;"),i.gutters=Rr("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=Rr("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=Rr("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),bo&&wo<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),xo||mo&&Mo||(i.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(i.wrapper):t(i.wrapper)),i.viewFrom=i.viewTo=e.first,i.reportedViewFrom=i.reportedViewTo=e.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,n.init(i)}function n(e){e.doc.mode=t.getMode(e.options,e.doc.modeOption),i(e)}function i(t){t.doc.iter((function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)})),t.doc.frontier=t.doc.first,zt(t,100),t.state.modeGen++,t.curOp&&$e(t)}function r(t){t.options.lineWrapping?(ta(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(Js(t.display.wrapper,"CodeMirror-wrap"),h(t)),s(t),$e(t),ae(t),setTimeout((function(){y(t)}),100)}function o(t){var e=ye(t.display),n=t.options.lineWrapping,i=n&&Math.max(5,t.display.scroller.clientWidth/be(t.display)-3);return function(r){if(Ci(t.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return n?o+(Math.ceil(r.text.length/i)||1)*e:o+e}}function s(t){var e=t.doc,n=o(t);e.iter((function(t){var e=n(t);e!=t.height&&tr(t,e)}))}function a(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ae(t)}function l(t){c(t),$e(t),setTimeout((function(){x(t)}),20)}function c(t){var e=t.display.gutters,n=t.options.gutters;Wr(e);for(var i=0;i<n.length;++i){var r=n[i],o=e.appendChild(Rr("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=i?"":"none",u(t)}function u(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function d(t){if(0==t.height)return 0;for(var e,n=t.text.length,i=t;e=gi(i);){i=(r=e.find(0,!0)).from.line,n+=r.from.ch-r.to.ch}for(i=t;e=mi(i);){var r=e.find(0,!0);n-=i.text.length-r.from.ch,n+=(i=r.to.line).text.length-r.to.ch}return n}function h(t){var e=t.display,n=t.doc;e.maxLine=Ki(n,n.first),e.maxLineLength=d(e.maxLine),e.maxLineChanged=!0,n.iter((function(t){var n=d(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)}))}function f(t){var e=Lr(t.gutters,"CodeMirror-linenumbers");-1==e&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function p(t){var e=t.display,n=e.gutters.offsetWidth,i=Math.round(t.doc.height+Yt(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+Vt(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}function g(t,e,n){this.cm=n;var i=this.vert=Rr("div",[Rr("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=Rr("div",[Rr("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t(i),t(r),As(i,"scroll",(function(){i.clientHeight&&e(i.scrollTop,"vertical")})),As(r,"scroll",(function(){r.clientWidth&&e(r.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,bo&&wo<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function m(){}function v(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Js(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new t.scrollbarModel[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),As(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?on(e,t):rn(e,t)}),e),e.display.scrollbars.addClass&&ta(e.display.wrapper,e.display.scrollbars.addClass)}function y(t,e){e||(e=p(t));var n=t.display.barWidth,i=t.display.barHeight;b(t,e);for(var r=0;r<4&&n!=t.display.barWidth||i!=t.display.barHeight;r++)n!=t.display.barWidth&&t.options.lineWrapping&&O(t),b(t,p(t)),n=t.display.barWidth,i=t.display.barHeight}function b(t,e){var n=t.display,i=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}function w(t,e,n){var i=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;i=Math.floor(i-Wt(t));var r=n&&null!=n.bottom?n.bottom:i+t.wrapper.clientHeight,o=nr(e,i),s=nr(e,r);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;a<o?(o=a,s=nr(e,ir(Ki(e,a))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=s&&(o=nr(e,ir(Ki(e,l))-t.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function x(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var i=k(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,o=i+"px",s=0;s<n.length;s++)if(!n[s].hidden){t.options.fixedGutter&&n[s].gutter&&(n[s].gutter.style.left=o);var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=i+r+"px")}}function C(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=_(t.options,e.first+e.size-1),i=t.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(Rr("div",[Rr("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",u(t),!0}return!1}function _(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function k(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function S(t,e,n){var i=t.display;this.viewport=e,this.visible=w(i,t.doc,e),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Ut(t),this.force=n,this.dims=L(t),this.events=[]}function T(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Vt(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Vt(t)+"px",e.scrollbarsClipped=!0)}function D(t,e){var n=t.display,i=t.doc;if(e.editorIsHidden)return He(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==je(t))return!1;C(t)&&(He(t),e.dims=L(t));var r=i.first+i.size,o=Math.max(e.visible.from-t.options.viewportMargin,i.first),s=Math.min(r,e.visible.to+t.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(i.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(r,n.viewTo)),Ho&&(o=wi(t.doc,o),s=xi(t.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;Be(t,o,s),n.viewOffset=ir(Ki(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var l=je(t);if(!a&&0==l&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=qr();return l>4&&(n.lineDiv.style.display="none"),I(t,n.updateLineNumbers,e.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,c&&qr()!=c&&c.offsetHeight&&c.focus(),Wr(n.cursorDiv),Wr(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,zt(t,400)),n.updateLineNumbers=null,!0}function E(t,e){for(var n=e.viewport,i=!0;(i&&t.options.lineWrapping&&e.oldDisplayWidth!=Ut(t)||(n&&null!=n.top&&(n={top:Math.min(t.doc.height+Yt(t.display)-Gt(t),n.top)}),e.visible=w(t.display,t.doc,n),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&D(t,e);i=!1){O(t);var r=p(t);It(t),y(t,r),A(t,r)}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function M(t,e){var n=new S(t,e);if(D(t,n)){O(t),E(t,n);var i=p(t);It(t),y(t,i),A(t,i),n.finish()}}function A(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Vt(t)+"px"}function O(t){for(var e=t.display,n=e.lineDiv.offsetTop,i=0;i<e.view.length;i++){var r,o=e.view[i];if(!o.hidden){if(bo&&wo<8){var s=o.node.offsetTop+o.node.offsetHeight;r=s-n,n=s}else{var a=o.node.getBoundingClientRect();r=a.bottom-a.top}var l=o.line.height-r;if(r<2&&(r=ye(e)),(l>.001||l<-.001)&&(tr(o.line,r),P(o.line),o.rest))for(var c=0;c<o.rest.length;c++)P(o.rest[c])}}}function P(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e)t.widgets[e].height=t.widgets[e].node.parentNode.offsetHeight}function L(t){for(var e=t.display,n={},i={},r=e.gutters.clientLeft,o=e.gutters.firstChild,s=0;o;o=o.nextSibling,++s)n[t.options.gutters[s]]=o.offsetLeft+o.clientLeft+r,i[t.options.gutters[s]]=o.clientWidth;return{fixedPos:k(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:e.wrapper.clientWidth}}function I(t,e,n){function i(e){var n=e.nextSibling;return xo&&Ao&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var r=t.display,o=t.options.lineNumbers,s=r.lineDiv,a=s.firstChild,l=r.view,c=r.viewFrom,u=0;u<l.length;u++){var d=l[u];if(d.hidden);else if(d.node&&d.node.parentNode==s){for(;a!=d.node;)a=i(a);var h=o&&null!=e&&e<=c&&d.lineNumber;d.changes&&(Lr(d.changes,"gutter")>-1&&(h=!1),$(t,d,c,n)),h&&(Wr(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(_(t.options,c)))),a=d.node.nextSibling}else{var f=W(t,d,c,n);s.insertBefore(f,a)}c+=d.size}for(;a;)a=i(a)}function $(t,e,n,i){for(var r=0;r<e.changes.length;r++){var o=e.changes[r];"text"==o?z(t,e):"gutter"==o?j(t,e,n,i):"class"==o?B(e):"widget"==o&&R(t,e,i)}e.changes=null}function F(t){return t.node==t.text&&(t.node=Rr("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),bo&&wo<8&&(t.node.style.zIndex=2)),t.node}function H(t){var e=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(e&&(e+=" CodeMirror-linebackground"),t.background)e?t.background.className=e:(t.background.parentNode.removeChild(t.background),t.background=null);else if(e){var n=F(t);t.background=n.insertBefore(Rr("div",null,e),n.firstChild)}}function N(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):Ni(t,e)}function z(t,e){var n=e.text.className,i=N(t,e);e.text==e.node&&(e.node=i.pre),e.text.parentNode.replaceChild(i.pre,e.text),e.text=i.pre,i.bgClass!=e.bgClass||i.textClass!=e.textClass?(e.bgClass=i.bgClass,e.textClass=i.textClass,B(e)):n&&(e.text.className=n)}function B(t){H(t),t.line.wrapClass?F(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var e=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=e||""}function j(t,e,n,i){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var r=F(e);e.gutterBackground=Rr("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),r.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){r=F(e);var s=e.gutter=Rr("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(t.display.input.setUneditable(s),r.insertBefore(s,e.text),e.line.gutterClass&&(s.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=s.appendChild(Rr("div",_(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var a=0;a<t.options.gutters.length;++a){var l=t.options.gutters[a],c=o.hasOwnProperty(l)&&o[l];c&&s.appendChild(Rr("div",[c],"CodeMirror-gutter-elt","left: "+i.gutterLeft[l]+"px; width: "+i.gutterWidth[l]+"px"))}}}function R(t,e,n){e.alignable&&(e.alignable=null);for(var i=e.node.firstChild;i;i=r){var r=i.nextSibling;"CodeMirror-linewidget"==i.className&&e.node.removeChild(i)}Y(t,e,n)}function W(t,e,n,i){var r=N(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),B(e),j(t,e,n,i),Y(t,e,i),e.node}function Y(t,e,n){if(q(t,e.line,e,n,!0),e.rest)for(var i=0;i<e.rest.length;i++)q(t,e.rest[i],e,n,!1)}function q(t,e,n,i,r){if(e.widgets)for(var o=F(n),s=0,a=e.widgets;s<a.length;++s){var l=a[s],c=Rr("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),V(l,c,n,i),t.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),kr(l,"redraw")}}function V(t,e,n,i){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var r=i.wrapperWidth;e.style.left=i.fixedPos+"px",t.coverGutter||(r-=i.gutterTotalWidth,e.style.paddingLeft=i.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-i.gutterTotalWidth+"px"))}function U(t){return No(t.line,t.ch)}function G(t,e){return zo(t,e)<0?e:t}function X(t,e){return zo(t,e)<0?t:e}function Q(t){t.state.focused||(t.display.input.focus(),vn(t))}function K(t,e,n,i,r){var o=t.doc;t.display.shift=!1,i||(i=o.sel);var s=t.state.pasteIncoming||"paste"==r,a=o.splitLines(e),l=null;if(s&&i.ranges.length>1)if(Bo&&Bo.text.join("\n")==e){if(i.ranges.length%Bo.text.length==0){l=[];for(var c=0;c<Bo.text.length;c++)l.push(o.splitLines(Bo.text[c]))}}else a.length==i.ranges.length&&(l=Ir(a,(function(t){return[t]})));for(c=i.ranges.length-1;c>=0;c--){var u=i.ranges[c],d=u.from(),h=u.to();u.empty()&&(n&&n>0?d=No(d.line,d.ch-n):t.state.overwrite&&!s?h=No(h.line,Math.min(Ki(o,h.line).text.length,h.ch+Pr(a).length)):Bo&&Bo.lineWise&&Bo.text.join("\n")==e&&(d=h=No(d.line,0)));var f=t.curOp.updateInput,p={from:d,to:h,text:l?l[c%l.length]:a,origin:r||(s?"paste":t.state.cutIncoming?"cut":"+input")};Tn(t.doc,p),kr(t,"inputRead",t,p)}e&&!s&&J(t,e),Nn(t),t.curOp.updateInput=f,t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function Z(t,e){var n=t.clipboardData&&t.clipboardData.getData("text/plain");if(n)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||Me(e,(function(){K(e,n,0,null,"paste")})),!0}function J(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var o=t.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(e.indexOf(o.electricChars.charAt(a))>-1){s=Bn(t,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Ki(t.doc,r.head.line).text.slice(0,r.head.ch))&&(s=Bn(t,r.head.line,"smart"));s&&kr(t,"electricInput",t,r.head.line)}}}function tt(t){for(var e=[],n=[],i=0;i<t.doc.sel.ranges.length;i++){var r=t.doc.sel.ranges[i].head.line,o={anchor:No(r,0),head:No(r+1,0)};n.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:n}}function et(t){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck","false")}function nt(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new Ar,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function it(){var t=Rr("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),e=Rr("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return xo?t.style.width="1000px":t.setAttribute("wrap","off"),Eo&&(t.style.border="1px solid black"),et(t),e}function rt(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ar,this.gracePeriod=!1}function ot(t,e){var n=Jt(t,e.line);if(!n||n.hidden)return null;var i=Ki(t.doc,e.line),r=Qt(n,i,e.line),o=rr(i),s="left";o&&(s=co(o,e.ch)%2?"right":"left");var a=ne(r.map,e.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function st(t,e){return e&&(t.bad=!0),t}function at(t,e,n){var i;if(e==t.display.lineDiv){if(!(i=t.display.lineDiv.childNodes[n]))return st(t.clipPos(No(t.display.viewTo-1)),!0);e=null,n=0}else for(i=e;;i=i.parentNode){if(!i||i==t.display.lineDiv)return null;if(i.parentNode&&i.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var o=t.display.view[r];if(o.node==i)return lt(o,e,n)}}function lt(t,e,n){function i(e,n,i){for(var r=-1;r<(u?u.length:0);r++)for(var o=r<0?c.map:u[r],s=0;s<o.length;s+=3){var a=o[s+2];if(a==e||a==n){var l=er(r<0?t.line:t.rest[r]),d=o[s]+i;return(i<0||a!=e)&&(d=o[s+(i?1:0)]),No(l,d)}}}var r=t.text.firstChild,o=!1;if(!e||!Gs(r,e))return st(No(er(t.line),0),!0);if(e==r&&(o=!0,e=r.childNodes[n],n=0,!e)){var s=t.rest?Pr(t.rest):t.line;return st(No(er(s),s.text.length),o)}var a=3==e.nodeType?e:null,l=e;for(a||1!=e.childNodes.length||3!=e.firstChild.nodeType||(a=e.firstChild,n&&(n=a.nodeValue.length));l.parentNode!=r;)l=l.parentNode;var c=t.measure,u=c.maps,d=i(a,l,n);if(d)return st(d,o);for(var h=l.nextSibling,f=a?a.nodeValue.length-n:0;h;h=h.nextSibling){if(d=i(h,h.firstChild,0))return st(No(d.line,d.ch-f),o);f+=h.textContent.length}var p=l.previousSibling;for(f=n;p;p=p.previousSibling){if(d=i(p,p.firstChild,-1))return st(No(d.line,d.ch+f),o);f+=h.textContent.length}}function ct(t,e,n,i,r){function o(t){return function(e){return e.id==t}}function s(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(null!=n)return""==n&&(n=e.textContent.replace(/\u200b/g,"")),void(a+=n);var u,d=e.getAttribute("cm-marker");if(d){var h=t.findMarks(No(i,0),No(r+1,0),o(+d));return void(h.length&&(u=h[0].find())&&(a+=Zi(t.doc,u.from,u.to).join(c)))}if("false"==e.getAttribute("contenteditable"))return;for(var f=0;f<e.childNodes.length;f++)s(e.childNodes[f]);/^(pre|div|p)$/i.test(e.nodeName)&&(l=!0)}else if(3==e.nodeType){var p=e.nodeValue;if(!p)return;l&&(a+=c,l=!1),a+=p}}for(var a="",l=!1,c=t.doc.lineSeparator();s(e),e!=n;)e=e.nextSibling;return a}function ut(t,e){this.ranges=t,this.primIndex=e}function dt(t,e){this.anchor=t,this.head=e}function ht(t,e){var n=t[e];t.sort((function(t,e){return zo(t.from(),e.from())})),e=Lr(t,n);for(var i=1;i<t.length;i++){var r=t[i],o=t[i-1];if(zo(o.to(),r.from())>=0){var s=X(o.from(),r.from()),a=G(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;i<=e&&--e,t.splice(--i,2,new dt(l?a:s,l?s:a))}}return new ut(t,e)}function ft(t,e){return new ut([new dt(t,e||t)],0)}function pt(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function gt(t,e){if(e.line<t.first)return No(t.first,0);var n=t.first+t.size-1;return e.line>n?No(n,Ki(t,n).text.length):mt(e,Ki(t,e.line).text.length)}function mt(t,e){var n=t.ch;return null==n||n>e?No(t.line,e):n<0?No(t.line,0):t}function vt(t,e){return e>=t.first&&e<t.first+t.size}function yt(t,e){for(var n=[],i=0;i<e.length;i++)n[i]=gt(t,e[i]);return n}function bt(t,e,n,i){if(t.cm&&t.cm.display.shift||t.extend){var r=e.anchor;if(i){var o=zo(n,r)<0;o!=zo(i,r)<0?(r=n,n=i):o!=zo(n,i)<0&&(n=i)}return new dt(r,n)}return new dt(i||n,n)}function wt(t,e,n,i){Tt(t,new ut([bt(t,t.sel.primary(),e,n)],0),i)}function xt(t,e,n){for(var i=[],r=0;r<t.sel.ranges.length;r++)i[r]=bt(t,t.sel.ranges[r],e[r],null);Tt(t,ht(i,t.sel.primIndex),n)}function Ct(t,e,n,i){var r=t.sel.ranges.slice(0);r[e]=n,Tt(t,ht(r,t.sel.primIndex),i)}function _t(t,e,n,i){Tt(t,ft(e,n),i)}function kt(t,e,n){var i={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new dt(gt(t,e[n].anchor),gt(t,e[n].head))},origin:n&&n.origin};return Ls(t,"beforeSelectionChange",t,i),t.cm&&Ls(t.cm,"beforeSelectionChange",t.cm,i),i.ranges!=e.ranges?ht(i.ranges,i.ranges.length-1):e}function St(t,e,n){var i=t.history.done,r=Pr(i);r&&r.ranges?(i[i.length-1]=e,Dt(t,e,n)):Tt(t,e,n)}function Tt(t,e,n){Dt(t,e,n),dr(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function Dt(t,e,n){(Er(t,"beforeSelectionChange")||t.cm&&Er(t.cm,"beforeSelectionChange"))&&(e=kt(t,e,n));var i=n&&n.bias||(zo(e.primary().head,t.sel.primary().head)<0?-1:1);Et(t,At(t,e,i,!0)),n&&!1===n.scroll||!t.cm||Nn(t.cm)}function Et(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,Dr(t.cm)),kr(t,"cursorActivity",t))}function Mt(t){Et(t,At(t,t.sel,null,!1),Hs)}function At(t,e,n,i){for(var r,o=0;o<e.ranges.length;o++){var s=e.ranges[o],a=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],l=Pt(t,s.anchor,a&&a.anchor,n,i),c=Pt(t,s.head,a&&a.head,n,i);(r||l!=s.anchor||c!=s.head)&&(r||(r=e.ranges.slice(0,o)),r[o]=new dt(l,c))}return r?ht(r,e.primIndex):e}function Ot(t,e,n,i,r){var o=Ki(t,e.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=e.ch:a.from<e.ch))&&(null==a.to||(l.inclusiveRight?a.to>=e.ch:a.to>e.ch))){if(r&&(Ls(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue
;if(n){var c,u=l.find(i<0?1:-1);if((i<0?l.inclusiveRight:l.inclusiveLeft)&&(u=Lt(t,u,-i,u&&u.line==e.line?o:null)),u&&u.line==e.line&&(c=zo(u,n))&&(i<0?c<0:c>0))return Ot(t,u,e,i,r)}var d=l.find(i<0?-1:1);return(i<0?l.inclusiveLeft:l.inclusiveRight)&&(d=Lt(t,d,i,d.line==e.line?o:null)),d?Ot(t,d,e,i,r):null}}return e}function Pt(t,e,n,i,r){var o=i||1,s=Ot(t,e,n,o,r)||!r&&Ot(t,e,n,o,!0)||Ot(t,e,n,-o,r)||!r&&Ot(t,e,n,-o,!0);return s||(t.cantEdit=!0,No(t.first,0))}function Lt(t,e,n,i){return n<0&&0==e.ch?e.line>t.first?gt(t,No(e.line-1)):null:n>0&&e.ch==(i||Ki(t,e.line)).text.length?e.line<t.first+t.size-1?No(e.line+1,0):null:new No(e.line,e.ch+n)}function It(t){t.display.input.showSelection(t.display.input.prepareSelection())}function $t(t,e){for(var n=t.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(!1!==e||s!=n.sel.primIndex){var a=n.sel.ranges[s];if(!(a.from().line>=t.display.viewTo||a.to().line<t.display.viewFrom)){var l=a.empty();(l||t.options.showCursorWhenSelecting)&&Ft(t,a.head,r),l||Ht(t,a,o)}}return i}function Ft(t,e,n){var i=fe(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),r=n.appendChild(Rr("div","\xa0","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*t.options.cursorHeight+"px",i.other){var o=n.appendChild(Rr("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=i.other.left+"px",o.style.top=i.other.top+"px",o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Ht(t,e,n){function i(t,e,n,i){e<0&&(e=0),e=Math.round(e),i=Math.round(i),a.appendChild(Rr("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==n?u-t:n)+"px; height: "+(i-e)+"px"))}function r(e,n,r){function o(n,i){return he(t,No(e,n),"div",d,i)}var a,l,d=Ki(s,e),h=d.text.length;return to(rr(d),n||0,null==r?h:r,(function(t,e,s){var d,f,p,g=o(t,"left");if(t==e)d=g,f=p=g.left;else{if(d=o(e-1,"right"),"rtl"==s){var m=g;g=d,d=m}f=g.left,p=d.right}null==n&&0==t&&(f=c),d.top-g.top>3&&(i(f,g.top,null,g.bottom),f=c,g.bottom<d.top&&i(f,g.bottom,null,d.top)),null==r&&e==h&&(p=u),(!a||g.top<a.top||g.top==a.top&&g.left<a.left)&&(a=g),(!l||d.bottom>l.bottom||d.bottom==l.bottom&&d.right>l.right)&&(l=d),f<c+1&&(f=c),i(f,d.top,p-f,d.bottom)})),{start:a,end:l}}var o=t.display,s=t.doc,a=document.createDocumentFragment(),l=qt(t.display),c=l.left,u=Math.max(o.sizerWidth,Ut(t)-o.sizer.offsetLeft)-l.right,d=e.from(),h=e.to();if(d.line==h.line)r(d.line,d.ch,h.ch);else{var f=Ki(s,d.line),p=Ki(s,h.line),g=yi(f)==yi(p),m=r(d.line,d.ch,g?f.text.length+1:null).end,v=r(h.line,g?0:null,h.ch).start;g&&(m.top<v.top-2?(i(m.right,m.top,null,m.bottom),i(c,v.top,v.left,v.bottom)):i(m.right,m.top,v.left-m.right,m.bottom)),m.bottom<v.top&&i(c,m.bottom,null,v.top)}n.appendChild(a)}function Nt(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval((function(){e.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function zt(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.viewTo&&t.state.highlight.set(e,Nr(Bt,t))}function Bt(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,i=ls(e.mode,Rt(t,e.frontier)),r=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.viewTo+500),(function(o){if(e.frontier>=t.display.viewFrom){var s=o.styles,a=o.text.length>t.options.maxHighlightLength,l=Ii(t,o,a?ls(e.mode,i):i,!0);o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var d=!s||s.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),h=0;!d&&h<s.length;++h)d=s[h]!=o.styles[h];d&&r.push(e.frontier),o.stateAfter=a?i:ls(e.mode,i)}else o.text.length<=t.options.maxHighlightLength&&Fi(t,o.text,i),o.stateAfter=e.frontier%5==0?ls(e.mode,i):null;if(++e.frontier,+new Date>n)return zt(t,t.options.workDelay),!0})),r.length&&Me(t,(function(){for(var e=0;e<r.length;e++)Fe(t,r[e],"text")}))}}function jt(t,e,n){for(var i,r,o=t.doc,s=n?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>s;--a){if(a<=o.first)return o.first;var l=Ki(o,a-1);if(l.stateAfter&&(!n||a<=o.frontier))return a;var c=Bs(l.text,null,t.options.tabSize);(null==r||i>c)&&(r=a-1,i=c)}return r}function Rt(t,e,n){var i=t.doc,r=t.display;if(!i.mode.startState)return!0;var o=jt(t,e,n),s=o>i.first&&Ki(i,o-1).stateAfter;return s=s?ls(i.mode,s):cs(i.mode),i.iter(o,e,(function(n){Fi(t,n.text,s);var a=o==e-1||o%5==0||o>=r.viewFrom&&o<r.viewTo;n.stateAfter=a?ls(i.mode,s):null,++o})),n&&(i.frontier=o),s}function Wt(t){return t.lineSpace.offsetTop}function Yt(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function qt(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=Yr(t.measure,Rr("pre","x")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(t.cachedPaddingH=i),i}function Vt(t){return $s-t.display.nativeBarWidth}function Ut(t){return t.display.scroller.clientWidth-Vt(t)-t.display.barWidth}function Gt(t){return t.display.scroller.clientHeight-Vt(t)-t.display.barHeight}function Xt(t,e,n){var i=t.options.lineWrapping,r=i&&Ut(t);if(!e.measure.heights||i&&e.measure.width!=r){var o=e.measure.heights=[];if(i){e.measure.width=r;for(var s=e.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Qt(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var i=0;i<t.rest.length;i++)if(t.rest[i]==e)return{map:t.measure.maps[i],cache:t.measure.caches[i]};for(i=0;i<t.rest.length;i++)if(er(t.rest[i])>n)return{map:t.measure.maps[i],cache:t.measure.caches[i],before:!0}}function Kt(t,e){var n=er(e=yi(e)),i=t.display.externalMeasured=new Le(t.doc,e,n);i.lineN=n;var r=i.built=Ni(t,i);return i.text=r.pre,Yr(t.display.lineMeasure,r.pre),i}function Zt(t,e,n,i){return ee(t,te(t,e),n,i)}function Jt(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[Ne(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function te(t,e){var n=er(e),i=Jt(t,n);i&&!i.text?i=null:i&&i.changes&&($(t,i,n,L(t)),t.curOp.forceUpdate=!0),i||(i=Kt(t,e));var r=Qt(i,e,n);return{line:e,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function ee(t,e,n,i,r){e.before&&(n=-1);var o,s=n+(i||"");return e.cache.hasOwnProperty(s)?o=e.cache[s]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(Xt(t,e.view,e.rect),e.hasHeights=!0),(o=ie(t,e,n,i)).bogus||(e.cache[s]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}function ne(t,e,n){for(var i,r,o,s,a=0;a<t.length;a+=3){var l=t[a],c=t[a+1];if(e<l?(r=0,o=1,s="left"):e<c?o=(r=e-l)+1:(a==t.length-3||e==c&&t[a+3]>e)&&(r=(o=c-l)-1,e>=c&&(s="right")),null!=r){if(i=t[a+2],l==c&&n==(i.insertLeft?"left":"right")&&(s=n),"left"==n&&0==r)for(;a&&t[a-2]==t[a-3]&&t[a-1].insertLeft;)i=t[2+(a-=3)],s="left";if("right"==n&&r==c-l)for(;a<t.length-3&&t[a+3]==t[a+4]&&!t[a+5].insertLeft;)i=t[(a+=3)+2],s="right";break}}return{node:i,start:r,end:o,collapse:s,coverStart:l,coverEnd:c}}function ie(t,e,n,i){var r,o=ne(e.map,n,i),s=o.node,a=o.start,l=o.end,c=o.collapse;if(3==s.nodeType){for(var u=0;u<4;u++){for(;a&&jr(e.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+l<o.coverEnd&&jr(e.line.text.charAt(o.coverStart+l));)++l;if(bo&&wo<9&&0==a&&l==o.coverEnd-o.coverStart)r=s.parentNode.getBoundingClientRect();else if(bo&&t.options.lineWrapping){r=(d=Ys(s,a,l).getClientRects()).length?d["right"==i?d.length-1:0]:Yo}else r=Ys(s,a,l).getBoundingClientRect()||Yo;if(r.left||r.right||0==a)break;l=a,a-=1,c="right"}bo&&wo<11&&(r=re(t.display.measure,r))}else{var d;a>0&&(c=i="right"),r=t.options.lineWrapping&&(d=s.getClientRects()).length>1?d["right"==i?d.length-1:0]:s.getBoundingClientRect()}if(bo&&wo<9&&!a&&(!r||!r.left&&!r.right)){var h=s.parentNode.getClientRects()[0];r=h?{left:h.left,right:h.left+be(t.display),top:h.top,bottom:h.bottom}:Yo}var f=r.top-e.rect.top,p=r.bottom-e.rect.top,g=(f+p)/2,m=e.view.measure.heights;for(u=0;u<m.length-1&&!(g<m[u]);u++);var v=u?m[u-1]:0,y=m[u],b={left:("right"==c?r.right:r.left)-e.rect.left,right:("left"==c?r.left:r.right)-e.rect.left,top:v,bottom:y};return r.left||r.right||(b.bogus=!0),t.options.singleCursorHeightPerLine||(b.rtop=f,b.rbottom=p),b}function re(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Jr(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*i,bottom:e.bottom*i}}function oe(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function se(t){t.display.externalMeasure=null,Wr(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)oe(t.display.view[e])}function ae(t){se(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function le(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ce(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ue(t,e,n,i){if(e.widgets)for(var r=0;r<e.widgets.length;++r)if(e.widgets[r].above){var o=Si(e.widgets[r]);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var s=ir(e);if("local"==i?s+=Wt(t.display):s-=t.display.viewOffset,"page"==i||"window"==i){var a=t.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==i?0:ce());var l=a.left+("window"==i?0:le());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function de(t,e,n){if("div"==n)return e;var i=e.left,r=e.top;if("page"==n)i-=le(),r-=ce();else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var s=t.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:r-s.top}}function he(t,e,n,i,r){return i||(i=Ki(t.doc,e.line)),ue(t,i,Zt(t,i,e.ch,r),n)}function fe(t,e,n,i,r,o){function s(e,s){var a=ee(t,r,e,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,ue(t,i,a,n)}function a(t,e){var n=l[e],i=n.level%2;return t==eo(n)&&e&&n.level<l[e-1].level?(t=no(n=l[--e])-(n.level%2?0:1),i=!0):t==no(n)&&e<l.length-1&&n.level<l[e+1].level&&(t=eo(n=l[++e])-n.level%2,i=!1),i&&t==n.to&&t>n.from?s(t-1):s(t,i)}i=i||Ki(t.doc,e.line),r||(r=te(t,i));var l=rr(i),c=e.ch;if(!l)return s(c);var u=a(c,co(l,c));return null!=Zs&&(u.other=a(c,Zs)),u}function pe(t,e){var n=0;e=gt(t.doc,e);t.options.lineWrapping||(n=be(t.display)*e.ch);var i=Ki(t.doc,e.line),r=ir(i)+Wt(t.display);return{left:n,right:n,top:r,bottom:r+i.height}}function ge(t,e,n,i){var r=No(t,e);return r.xRel=i,n&&(r.outside=!0),r}function me(t,e,n){var i=t.doc;if((n+=t.display.viewOffset)<0)return ge(i.first,0,!0,-1);var r=nr(i,n),o=i.first+i.size-1;if(r>o)return ge(i.first+i.size-1,Ki(i,o).text.length,!0,1);e<0&&(e=0);for(var s=Ki(i,r);;){var a=ve(t,s,r,e,n),l=mi(s),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;r=er(s=c.to.line)}}function ve(t,e,n,i,r){function o(i){var r=fe(t,No(n,i),"line",e,c);return a=!0,s>r.bottom?r.left-l:s<r.top?r.left+l:(a=!1,r.left)}var s=r-ir(e),a=!1,l=2*t.display.wrapper.clientWidth,c=te(t,e),u=rr(e),d=e.text.length,h=io(e),f=ro(e),p=o(h),g=a,m=o(f),v=a;if(i>m)return ge(n,f,v,1);for(;;){if(u?f==h||f==ho(e,h,1):f-h<=1){var y=i<p||i-p<=m-i?h:f,b=y==h?g:v,w=i-(y==h?p:m);if(v&&!u&&!/\s/.test(e.text.charAt(y))&&w>0&&y<e.text.length&&c.view.measure.heights.length>1){var x=ee(t,c,y,"right");s<=x.bottom&&s>=x.top&&Math.abs(i-x.right)<w&&(b=!1,y++,w=i-x.right)}for(;jr(e.text.charAt(y));)++y;return ge(n,y,b,w<-1?-1:w>1?1:0)}var C=Math.ceil(d/2),_=h+C;if(u){_=h;for(var k=0;k<C;++k)_=ho(e,_,1)}var S=o(_);S>i?(f=_,m=S,(v=a)&&(m+=1e3),d=C):(h=_,p=S,g=a,d-=C)}}function ye(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==jo){jo=Rr("pre");for(var e=0;e<49;++e)jo.appendChild(document.createTextNode("x")),jo.appendChild(Rr("br"));jo.appendChild(document.createTextNode("x"))}Yr(t.measure,jo);var n=jo.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),Wr(t.measure),n||1}function be(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=Rr("span","xxxxxxxxxx"),n=Rr("pre",[e]);Yr(t.measure,n);var i=e.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(t.cachedCharWidth=r),r||10}function we(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Vo},qo?qo.ops.push(t.curOp):t.curOp.ownsGroup=qo={ops:[t.curOp],delayedCallbacks:[]}}function xe(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var i=0;i<t.ops.length;i++){var r=t.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<e.length)}function Ce(t){var e=t.curOp.ownsGroup;if(e)try{xe(e)}finally{qo=null;for(var n=0;n<e.ops.length;n++)e.ops[n].cm.curOp=null;_e(e)}}function _e(t){for(var e=t.ops,n=0;n<e.length;n++)ke(e[n]);for(n=0;n<e.length;n++)Se(e[n]);for(n=0;n<e.length;n++)Te(e[n]);for(n=0;n<e.length;n++)De(e[n]);for(n=0;n<e.length;n++)Ee(e[n])}function ke(t){var e=t.cm,n=e.display;T(e),t.updateMaxLine&&h(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new S(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Se(t){t.updatedDisplay=t.mustUpdate&&D(t.cm,t.update)}function Te(t){var e=t.cm,n=e.display;t.updatedDisplay&&O(e),t.barMeasure=p(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Zt(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+Vt(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-Ut(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection(t.focus))}function De(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&on(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==qr()&&(!document.hasFocus||document.hasFocus());t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&y(e,t.barMeasure),t.updatedDisplay&&A(e,t.barMeasure),t.selectionChanged&&Nt(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&Q(t.cm)}function Ee(t){var e=t.cm,n=e.display,i=e.doc;if(t.updatedDisplay&&E(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==t.scrollTop||n.scroller.scrollTop==t.scrollTop&&!t.forceScroll||(i.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,t.scrollTop)),n.scrollbars.setScrollTop(i.scrollTop),n.scroller.scrollTop=i.scrollTop),null==t.scrollLeft||n.scroller.scrollLeft==t.scrollLeft&&!t.forceScroll||(i.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,t.scrollLeft)),n.scrollbars.setScrollLeft(i.scrollLeft),n.scroller.scrollLeft=i.scrollLeft,x(e)),t.scrollToPos){var r=In(e,gt(i,t.scrollToPos.from),gt(i,t.scrollToPos.to),t.scrollToPos.margin);t.scrollToPos.isCursor&&e.state.focused&&Ln(e,r)}var o=t.maybeHiddenMarkers,s=t.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||Ls(o[a],"hide");if(s)for(a=0;a<s.length;++a)s[a].lines.length&&Ls(s[a],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Ls(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Me(t,e){if(t.curOp)return e();we(t);try{return e()}finally{Ce(t)}}function Ae(t,e){return function(){if(t.curOp)return e.apply(t,arguments);we(t);try{return e.apply(t,arguments)}finally{Ce(t)}}}function Oe(t){return function(){if(this.curOp)return t.apply(this,arguments);we(this);try{return t.apply(this,arguments)}finally{Ce(this)}}}function Pe(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);we(e);try{return t.apply(this,arguments)}finally{Ce(e)}}}function Le(t,e,n){this.line=e,this.rest=bi(e),this.size=this.rest?er(Pr(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Ci(t,e)}function Ie(t,e,n){for(var i,r=[],o=e;o<n;o=i){var s=new Le(t.doc,Ki(t.doc,o),o);i=o+s.size,r.push(s)}return r}function $e(t,e,n,i){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),i||(i=0);var r=t.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)Ho&&wi(t.doc,e)<r.viewTo&&He(t);else if(n<=r.viewFrom)Ho&&xi(t.doc,n+i)>r.viewFrom?He(t):(r.viewFrom+=i,r.viewTo+=i);else if(e<=r.viewFrom&&n>=r.viewTo)He(t);else if(e<=r.viewFrom){(o=ze(t,n,n+i,1))?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):He(t)}else if(n>=r.viewTo){var o;(o=ze(t,e,e,-1))?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):He(t)}else{var s=ze(t,e,e,-1),a=ze(t,n,n+i,1);s&&a?(r.view=r.view.slice(0,s.index).concat(Ie(t,s.lineN,a.lineN)).concat(r.view.slice(a.index)),r.viewTo+=i):He(t)}var l=r.externalMeasured;l&&(n<l.lineN?l.lineN+=i:e<l.lineN+l.size&&(r.externalMeasured=null))}function Fe(t,e,n){t.curOp.viewChanged=!0;var i=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(i.externalMeasured=null),!(e<i.viewFrom||e>=i.viewTo)){var o=i.view[Ne(t,e)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==Lr(s,n)&&s.push(n)}}}function He(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function Ne(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var n=t.display.view,i=0;i<n.length;i++)if((e-=n[i].size)<0)return i}function ze(t,e,n,i){var r,o=Ne(t,e),s=t.display.view;if(!Ho||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var a=0,l=t.display.viewFrom;a<o;a++)l+=s[a].size;if(l!=e){if(i>0){if(o==s.length-1)return null;r=l+s[o].size-e,o++}else r=l-e;e+=r,n+=r}for(;wi(t.doc,n)!=n;){if(o==(i<0?0:s.length-1))return null;n+=i*s[o-(i<0?1:0)].size,o+=i}return{index:o,lineN:n}}function Be(t,e,n){var i=t.display;0==i.view.length||e>=i.viewTo||n<=i.viewFrom?(i.view=Ie(t,e,n),i.viewFrom=e):(i.viewFrom>e?i.view=Ie(t,e,i.viewFrom).concat(i.view):i.viewFrom<e&&(i.view=i.view.slice(Ne(t,e))),i.viewFrom=e,i.viewTo<n?i.view=i.view.concat(Ie(t,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,Ne(t,n)))),i.viewTo=n}function je(t){for(var e=t.display.view,n=0,i=0;i<e.length;i++){var r=e[i];r.hidden||r.node&&!r.changes||++n}return n}function Re(t){function e(){r.activeTouch&&(o=setTimeout((function(){r.activeTouch=null}),1e3),(s=r.activeTouch).end=+new Date)}function n(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function i(t,e){if(null==e.left)return!0;var n=e.left-t.left,i=e.top-t.top;return n*n+i*i>400}var r=t.display;As(r.scroller,"mousedown",Ae(t,Ue)),As(r.scroller,"dblclick",bo&&wo<11?Ae(t,(function(e){if(!Tr(t,e)){var n=Ve(t,e);if(n&&!Ze(t,e)&&!qe(t.display,e)){Ds(e);var i=t.findWordAt(n);wt(t.doc,i.anchor,i.head)}}})):function(e){Tr(t,e)||Ds(e)}),$o||As(r.scroller,"contextmenu",(function(e){bn(t,e)}));var o,s={end:0};As(r.scroller,"touchstart",(function(e){if(!Tr(t,e)&&!n(e)){clearTimeout(o);var i=+new Date;r.activeTouch={start:i,moved:!1,prev:i-s.end<=300?s:null},1==e.touches.length&&(r.activeTouch.left=e.touches[0].pageX,r.activeTouch.top=e.touches[0].pageY)}})),As(r.scroller,"touchmove",(function(){r.activeTouch&&(r.activeTouch.moved=!0)})),As(r.scroller,"touchend",(function(n){var o=r.activeTouch;if(o&&!qe(r,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var s,a=t.coordsChar(r.activeTouch,"page");s=!o.prev||i(o,o.prev)?new dt(a,a):!o.prev.prev||i(o,o.prev.prev)?t.findWordAt(a):new dt(No(a.line,0),gt(t.doc,No(a.line+1,0))),t.setSelection(s.anchor,s.head),t.focus(),Ds(n)}e()})),As(r.scroller,"touchcancel",e),As(r.scroller,"scroll",(function(){r.scroller.clientHeight&&(rn(t,r.scroller.scrollTop),on(t,r.scroller.scrollLeft,!0),Ls(t,"scroll",t))})),As(r.scroller,"mousewheel",(function(e){sn(t,e)})),As(r.scroller,"DOMMouseScroll",(function(e){sn(t,e)})),As(r.wrapper,"scroll",(function(){r.wrapper.scrollTop=r.wrapper.scrollLeft=0})),r.dragFunctions={enter:function(e){Tr(t,e)||Ms(e)},over:function(e){Tr(t,e)||(en(t,e),Ms(e))},start:function(e){tn(t,e)},drop:Ae(t,Je),leave:function(e){Tr(t,e)||nn(t)}};var a=r.input.getField();As(a,"keyup",(function(e){pn.call(t,e)})),As(a,"keydown",Ae(t,hn)),As(a,"keypress",Ae(t,gn)),As(a,"focus",Nr(vn,t)),As(a,"blur",Nr(yn,t))}function We(e,n,i){if(!n!=!(i&&i!=t.Init)){var r=e.display.dragFunctions,o=n?As:Ps;o(e.display.scroller,"dragstart",r.start),o(e.display.scroller,"dragenter",r.enter),o(e.display.scroller,"dragover",r.over),o(e.display.scroller,"dragleave",r.leave),o(e.display.scroller,"drop",r.drop)}}function Ye(t){var e=t.display;e.lastWrapHeight==e.wrapper.clientHeight&&e.lastWrapWidth==e.wrapper.clientWidth||(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize())}function qe(t,e){for(var n=xr(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function Ve(t,e,n,i){var r=t.display;if(!n&&"true"==xr(e).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=e.clientX-a.left,s=e.clientY-a.top}catch(e){return null}var l,c=me(t,o,s);if(i&&1==c.xRel&&(l=Ki(t.doc,c.line).text).length==c.ch){var u=Bs(l,l.length,t.options.tabSize)-l.length;c=No(c.line,Math.max(0,Math.round((o-qt(t.display).left)/be(t.display))-u))}return c}function Ue(t){var e=this,n=e.display;if(!(Tr(e,t)||n.activeTouch&&n.input.supportsTouch()))if(n.shift=t.shiftKey,qe(n,t))xo||(n.scroller.draggable=!1,setTimeout((function(){n.scroller.draggable=!0}),100));else if(!Ze(e,t)){var i=Ve(e,t);switch(window.focus(),Cr(t)){case 1:e.state.selectingText?e.state.selectingText(t):i?Ge(e,t,i):xr(t)==n.scroller&&Ds(t);break;case 2:xo&&(e.state.lastMiddleDown=+new Date),i&&wt(e.doc,i),setTimeout((function(){n.input.focus()}),20),Ds(t);break;case 3:$o?bn(e,t):mn(e)}}}function Ge(t,e,n){bo?setTimeout(Nr(Q,t),0):t.curOp.focus=qr();var i,r=+new Date;Wo&&Wo.time>r-400&&0==zo(Wo.pos,n)?i="triple":Ro&&Ro.time>r-400&&0==zo(Ro.pos,n)?(i="double",Wo={time:r,pos:n}):(i="single",Ro={time:r,pos:n});var o,s=t.doc.sel,a=Ao?e.metaKey:e.ctrlKey;t.options.dragDrop&&na&&!t.isReadOnly()&&"single"==i&&(o=s.contains(n))>-1&&(zo((o=s.ranges[o]).from(),n)<0||n.xRel>0)&&(zo(o.to(),n)>0||n.xRel<0)?Xe(t,e,n,a):Qe(t,e,n,i,a)}function Xe(t,e,n,i){var r=t.display,o=+new Date,s=Ae(t,(function(a){xo&&(r.scroller.draggable=!1),t.state.draggingText=!1,Ps(document,"mouseup",s),Ps(r.scroller,"drop",s),Math.abs(e.clientX-a.clientX)+Math.abs(e.clientY-a.clientY)<10&&(Ds(a),!i&&+new Date-200<o&&wt(t.doc,n),xo||bo&&9==wo?setTimeout((function(){document.body.focus(),r.input.focus()}),20):r.input.focus())}));xo&&(r.scroller.draggable=!0),t.state.draggingText=s,s.copy=Ao?e.altKey:e.ctrlKey,r.scroller.dragDrop&&r.scroller.dragDrop(),As(document,"mouseup",s),As(r.scroller,"drop",s)}function Qe(t,e,n,i,r){function o(e){if(0!=zo(m,e))if(m=e,"rect"==i){for(var r=[],o=t.options.tabSize,s=Bs(Ki(c,n.line).text,n.ch,o),a=Bs(Ki(c,e.line).text,e.ch,o),l=Math.min(s,a),f=Math.max(s,a),p=Math.min(n.line,e.line),g=Math.min(t.lastLine(),Math.max(n.line,e.line));p<=g;p++){var v=Ki(c,p).text,y=js(v,l,o);l==f?r.push(new dt(No(p,y),No(p,y))):v.length>y&&r.push(new dt(No(p,y),No(p,js(v,f,o))))}r.length||r.push(new dt(n,n)),Tt(c,ht(h.ranges.slice(0,d).concat(r),d),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var b=u,w=b.anchor,x=e;if("single"!=i){if("double"==i)var C=t.findWordAt(e);else C=new dt(No(e.line,0),gt(c,No(e.line+1,0)));zo(C.anchor,w)>0?(x=C.head,w=X(b.from(),C.anchor)):(x=C.anchor,w=G(b.to(),C.head))}(r=h.ranges.slice(0))[d]=new dt(gt(c,w),x),Tt(c,ht(r,d),Ns)}}function s(e){var n=++y,r=Ve(t,e,!0,"rect"==i);if(r)if(0!=zo(r,m)){t.curOp.focus=qr(),o(r);var a=w(l,c);(r.line>=a.to||r.line<a.from)&&setTimeout(Ae(t,(function(){y==n&&s(e)})),150)}else{var u=e.clientY<v.top?-20:e.clientY>v.bottom?20:0;u&&setTimeout(Ae(t,(function(){y==n&&(l.scroller.scrollTop+=u,s(e))})),50)}}function a(e){t.state.selectingText=!1,y=1/0,Ds(e),l.input.focus(),Ps(document,"mousemove",b),Ps(document,"mouseup",x),c.history.lastSelOrigin=null}var l=t.display,c=t.doc;Ds(e);var u,d,h=c.sel,f=h.ranges;if(r&&!e.shiftKey?(d=c.sel.contains(n),u=d>-1?f[d]:new dt(n,n)):(u=c.sel.primary(),d=c.sel.primIndex),Oo?e.shiftKey&&e.metaKey:e.altKey)i="rect",r||(u=new dt(n,n)),n=Ve(t,e,!0,!0),d=-1;else if("double"==i){var p=t.findWordAt(n);u=t.display.shift||c.extend?bt(c,u,p.anchor,p.head):p}else if("triple"==i){var g=new dt(No(n.line,0),gt(c,No(n.line+1,0)));u=t.display.shift||c.extend?bt(c,u,g.anchor,g.head):g}else u=bt(c,u,n);r?-1==d?(d=f.length,Tt(c,ht(f.concat([u]),d),{scroll:!1,origin:"*mouse"})):f.length>1&&f[d].empty()&&"single"==i&&!e.shiftKey?(Tt(c,ht(f.slice(0,d).concat(f.slice(d+1)),0),{scroll:!1,origin:"*mouse"}),h=c.sel):Ct(c,d,u,Ns):(d=0,Tt(c,new ut([u],0),Ns),h=c.sel);var m=n,v=l.wrapper.getBoundingClientRect(),y=0,b=Ae(t,(function(t){Cr(t)?s(t):a(t)})),x=Ae(t,a);t.state.selectingText=x,As(document,"mousemove",b),As(document,"mouseup",x)}function Ke(t,e,n,i){try{var r=e.clientX,o=e.clientY}catch(e){return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;i&&Ds(e);var s=t.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!Er(t,n))return wr(e);o-=a.top-s.viewOffset;for(var l=0;l<t.options.gutters.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r){var u=nr(t.doc,o),d=t.options.gutters[l];return Ls(t,n,t,u,d,e),wr(e)}}}function Ze(t,e){return Ke(t,e,"gutterClick",!0)}function Je(t){var e=this;if(nn(e),!Tr(e,t)&&!qe(e.display,t)){Ds(t),bo&&(Uo=+new Date);var n=Ve(e,t,!0),i=t.dataTransfer.files;if(n&&!e.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),s=0,a=function(t,i){if(!e.options.allowDropFileTypes||-1!=Lr(e.options.allowDropFileTypes,t.type)){var a=new FileReader;a.onload=Ae(e,(function(){var t=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[i]=t,++s==r){var l={from:n=gt(e.doc,n),to:n,text:e.doc.splitLines(o.join(e.doc.lineSeparator())),origin:"paste"};Tn(e.doc,l),St(e.doc,ft(n,Jo(l)))}})),a.readAsText(t)}},l=0;l<r;++l)a(i[l],l);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout((function(){e.display.input.focus()}),20);try{if(o=t.dataTransfer.getData("Text")){if(e.state.draggingText&&!e.state.draggingText.copy)var c=e.listSelections();if(Dt(e.doc,ft(n,n)),c)for(l=0;l<c.length;++l)Pn(e.doc,"",c[l].anchor,c[l].head,"drag");e.replaceSelection(o,"around","paste"),e.display.input.focus()}}catch(t){}}}}function tn(t,e){if(bo&&(!t.state.draggingText||+new Date-Uo<100))Ms(e);else if(!Tr(t,e)&&!qe(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!So)){var n=Rr("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ko&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),ko&&n.parentNode.removeChild(n)}}function en(t,e){var n=Ve(t,e);if(n){var i=document.createDocumentFragment();Ft(t,n,i),t.display.dragCursor||(t.display.dragCursor=Rr("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),Yr(t.display.dragCursor,i)}}function nn(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function rn(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,mo||M(t,{top:e}),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbars.setScrollTop(e),mo&&M(t),zt(t,100))}function on(t,e,n){(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,x(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function sn(t,e){var n=Qo(e),i=n.x,r=n.y,o=t.display,s=o.scroller,a=s.scrollWidth>s.clientWidth,l=s.scrollHeight>s.clientHeight;if(i&&a||r&&l){if(r&&Ao&&xo)t:for(var c=e.target,u=o.view;c!=s;c=c.parentNode)for(var d=0;d<u.length;d++)if(u[d].node==c){t.display.currentWheelTarget=c;break t}if(i&&!mo&&!ko&&null!=Xo)return r&&l&&rn(t,Math.max(0,Math.min(s.scrollTop+r*Xo,s.scrollHeight-s.clientHeight))),on(t,Math.max(0,Math.min(s.scrollLeft+i*Xo,s.scrollWidth-s.clientWidth))),(!r||r&&l)&&Ds(e),void(o.wheelStartX=null);if(r&&null!=Xo){var h=r*Xo,f=t.doc.scrollTop,p=f+o.wrapper.clientHeight;h<0?f=Math.max(0,f+h-50):p=Math.min(t.doc.height,p+h+50),M(t,{top:f,bottom:p})}Go<20&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=i,o.wheelDY=r,setTimeout((function(){if(null!=o.wheelStartX){var t=s.scrollLeft-o.wheelStartX,e=s.scrollTop-o.wheelStartY,n=e&&o.wheelDY&&e/o.wheelDY||t&&o.wheelDX&&t/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Xo=(Xo*Go+n)/(Go+1),++Go)}}),200)):(o.wheelDX+=i,o.wheelDY+=r))}}function an(t,e,n){if("string"==typeof e&&!(e=us[e]))return!1;t.display.input.ensurePolled();var i=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),r=e(t)!=Fs}finally{t.display.shift=i,t.state.suppressEdits=!1}return r}function ln(t,e,n){for(var i=0;i<t.state.keyMaps.length;i++){var r=hs(e,t.state.keyMaps[i],n,t);if(r)return r}return t.options.extraKeys&&hs(e,t.options.extraKeys,n,t)||hs(e,t.options.keyMap,n,t)}function cn(t,e,n,i){var r=t.state.keySeq;if(r){if(fs(e))return"handled";Ko.set(50,(function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())})),e=r+" "+e}var o=ln(t,e,i);return"multi"==o&&(t.state.keySeq=e),"handled"==o&&kr(t,"keyHandled",t,e,n),"handled"!=o&&"multi"!=o||(Ds(n),Nt(t)),r&&!o&&/\'$/.test(e)?(Ds(n),!0):!!o}function un(t,e){var n=ps(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?cn(t,"Shift-"+n,e,(function(e){return an(t,e,!0)}))||cn(t,n,e,(function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return an(t,e)})):cn(t,n,e,(function(e){return an(t,e)})))}function dn(t,e,n){return cn(t,"'"+n+"'",e,(function(e){return an(t,e,!0)}))}function hn(t){var e=this;if(e.curOp.focus=qr(),!Tr(e,t)){bo&&wo<11&&27==t.keyCode&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=16==n||t.shiftKey;var i=un(e,t);ko&&(Zo=i?n:null,i||88!=n||oa||!(Ao?t.metaKey:t.ctrlKey)||e.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||fn(e)}}function fn(t){function e(t){18!=t.keyCode&&t.altKey||(Js(n,"CodeMirror-crosshair"),Ps(document,"keyup",e),Ps(document,"mouseover",e))}var n=t.display.lineDiv;ta(n,"CodeMirror-crosshair"),As(document,"keyup",e),As(document,"mouseover",e)}function pn(t){16==t.keyCode&&(this.doc.sel.shift=!1),Tr(this,t)}function gn(t){var e=this;if(!(qe(e.display,t)||Tr(e,t)||t.ctrlKey&&!t.altKey||Ao&&t.metaKey)){var n=t.keyCode,i=t.charCode;if(ko&&n==Zo)return Zo=null,void Ds(t);if(!ko||t.which&&!(t.which<10)||!un(e,t))dn(e,t,String.fromCharCode(null==i?n:i))||e.display.input.onKeyPress(t)}}function mn(t){t.state.delayingBlurEvent=!0,setTimeout((function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,yn(t))}),100)}function vn(t){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(Ls(t,"focus",t),t.state.focused=!0,ta(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),xo&&setTimeout((function(){t.display.input.reset(!0)}),20)),t.display.input.receivedFocus()),Nt(t))}function yn(t){
t.state.delayingBlurEvent||(t.state.focused&&(Ls(t,"blur",t),t.state.focused=!1,Js(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout((function(){t.state.focused||(t.display.shift=!1)}),150))}function bn(t,e){qe(t.display,e)||wn(t,e)||Tr(t,e,"contextmenu")||t.display.input.onContextMenu(e)}function wn(t,e){return!!Er(t,"gutterContextMenu")&&Ke(t,e,"gutterContextMenu",!1)}function xn(t,e){if(zo(t,e.from)<0)return t;if(zo(t,e.to)<=0)return Jo(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,i=t.ch;return t.line==e.to.line&&(i+=Jo(e).ch-e.to.ch),No(n,i)}function Cn(t,e){for(var n=[],i=0;i<t.sel.ranges.length;i++){var r=t.sel.ranges[i];n.push(new dt(xn(r.anchor,e),xn(r.head,e)))}return ht(n,t.sel.primIndex)}function _n(t,e,n){return t.line==e.line?No(n.line,t.ch-e.ch+n.ch):No(n.line+(t.line-e.line),t.ch)}function kn(t,e,n){for(var i=[],r=No(t.first,0),o=r,s=0;s<e.length;s++){var a=e[s],l=_n(a.from,r,o),c=_n(Jo(a),r,o);if(r=a.to,o=c,"around"==n){var u=t.sel.ranges[s],d=zo(u.head,u.anchor)<0;i[s]=new dt(d?c:l,d?l:c)}else i[s]=new dt(l,l)}return new ut(i,t.sel.primIndex)}function Sn(t,e,n){var i={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return n&&(i.update=function(e,n,i,r){e&&(this.from=gt(t,e)),n&&(this.to=gt(t,n)),i&&(this.text=i),void 0!==r&&(this.origin=r)}),Ls(t,"beforeChange",t,i),t.cm&&Ls(t.cm,"beforeChange",t.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Tn(t,e,n){if(t.cm){if(!t.cm.curOp)return Ae(t.cm,Tn)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(Er(t,"beforeChange")||t.cm&&Er(t.cm,"beforeChange"))||(e=Sn(t,e,!0))){var i=Fo&&!n&&li(t,e.from,e.to);if(i)for(var r=i.length-1;r>=0;--r)Dn(t,{from:i[r].from,to:i[r].to,text:r?[""]:e.text});else Dn(t,e)}}function Dn(t,e){if(1!=e.text.length||""!=e.text[0]||0!=zo(e.from,e.to)){var n=Cn(t,e);cr(t,e,n,t.cm?t.cm.curOp.id:NaN),An(t,e,n,oi(t,e));var i=[];Xi(t,(function(t,n){n||-1!=Lr(i,t.history)||(br(t.history,e),i.push(t.history)),An(t,e,null,oi(t,e))}))}}function En(t,e,n){if(!t.cm||!t.cm.state.suppressEdits){for(var i,r=t.history,o=t.sel,s="undo"==e?r.done:r.undone,a="undo"==e?r.undone:r.done,l=0;l<s.length&&(i=s[l],n?!i.ranges||i.equals(t.sel):i.ranges);l++);if(l!=s.length){for(r.lastOrigin=r.lastSelOrigin=null;(i=s.pop()).ranges;){if(hr(i,a),n&&!i.equals(t.sel))return void Tt(t,i,{clearRedo:!1});o=i}var c=[];hr(o,a),a.push({changes:c,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;var u=Er(t,"beforeChange")||t.cm&&Er(t.cm,"beforeChange");for(l=i.changes.length-1;l>=0;--l){var d=i.changes[l];if(d.origin=e,u&&!Sn(t,d,!1))return void(s.length=0);c.push(sr(t,d));var h=l?Cn(t,d):Pr(s);An(t,d,h,ai(t,d)),!l&&t.cm&&t.cm.scrollIntoView({from:d.from,to:Jo(d)});var f=[];Xi(t,(function(t,e){e||-1!=Lr(f,t.history)||(br(t.history,d),f.push(t.history)),An(t,d,null,ai(t,d))}))}}}}function Mn(t,e){if(0!=e&&(t.first+=e,t.sel=new ut(Ir(t.sel.ranges,(function(t){return new dt(No(t.anchor.line+e,t.anchor.ch),No(t.head.line+e,t.head.ch))})),t.sel.primIndex),t.cm)){$e(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,i=n.viewFrom;i<n.viewTo;i++)Fe(t.cm,i,"gutter")}}function An(t,e,n,i){if(t.cm&&!t.cm.curOp)return Ae(t.cm,An)(t,e,n,i);if(e.to.line<t.first)Mn(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);Mn(t,r),e={from:No(t.first,0),to:No(e.to.line+r,e.to.ch),text:[Pr(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:No(o,Ki(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Zi(t,e.from,e.to),n||(n=Cn(t,e)),t.cm?On(t.cm,e,i):Vi(t,e,i),Dt(t,n,Hs)}}function On(t,e,n){var i=t.doc,r=t.display,s=e.from,a=e.to,l=!1,c=s.line;t.options.lineWrapping||(c=er(yi(Ki(i,s.line))),i.iter(c,a.line+1,(function(t){if(t==r.maxLine)return l=!0,!0}))),i.sel.contains(e.from,e.to)>-1&&Dr(t),Vi(i,e,n,o(t)),t.options.lineWrapping||(i.iter(c,s.line+e.text.length,(function(t){var e=d(t);e>r.maxLineLength&&(r.maxLine=t,r.maxLineLength=e,r.maxLineChanged=!0,l=!1)})),l&&(t.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,s.line),zt(t,400);var u=e.text.length-(a.line-s.line)-1;e.full?$e(t):s.line!=a.line||1!=e.text.length||qi(t.doc,e)?$e(t,s.line,a.line+1,u):Fe(t,s.line,"text");var h=Er(t,"changes"),f=Er(t,"change");if(f||h){var p={from:s,to:a,text:e.text,removed:e.removed,origin:e.origin};f&&kr(t,"change",t,p),h&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(p)}t.display.selForContextMenu=null}function Pn(t,e,n,i,r){if(i||(i=n),zo(i,n)<0){var o=i;i=n,n=o}"string"==typeof e&&(e=t.splitLines(e)),Tn(t,{from:n,to:i,text:e,origin:r})}function Ln(t,e){if(!Tr(t,"scrollCursorIntoView")){var n=t.display,i=n.sizer.getBoundingClientRect(),r=null;if(e.top+i.top<0?r=!0:e.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!Do){var o=Rr("div","\u200b",null,"position: absolute; top: "+(e.top-n.viewOffset-Wt(t.display))+"px; height: "+(e.bottom-e.top+Vt(t)+n.barHeight)+"px; left: "+e.left+"px; width: 2px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(r),t.display.lineSpace.removeChild(o)}}}function In(t,e,n,i){null==i&&(i=0);for(var r=0;r<5;r++){var o=!1,s=fe(t,e),a=n&&n!=e?fe(t,n):s,l=Fn(t,Math.min(s.left,a.left),Math.min(s.top,a.top)-i,Math.max(s.left,a.left),Math.max(s.bottom,a.bottom)+i),c=t.doc.scrollTop,u=t.doc.scrollLeft;if(null!=l.scrollTop&&(rn(t,l.scrollTop),Math.abs(t.doc.scrollTop-c)>1&&(o=!0)),null!=l.scrollLeft&&(on(t,l.scrollLeft),Math.abs(t.doc.scrollLeft-u)>1&&(o=!0)),!o)break}return s}function $n(t,e,n,i,r){var o=Fn(t,e,n,i,r);null!=o.scrollTop&&rn(t,o.scrollTop),null!=o.scrollLeft&&on(t,o.scrollLeft)}function Fn(t,e,n,i,r){var o=t.display,s=ye(t.display);n<0&&(n=0);var a=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:o.scroller.scrollTop,l=Gt(t),c={};r-n>l&&(r=n+l);var u=t.doc.height+Yt(o),d=n<s,h=r>u-s;if(n<a)c.scrollTop=d?0:n;else if(r>a+l){var f=Math.min(n,(h?u:r)-l);f!=a&&(c.scrollTop=f)}var p=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:o.scroller.scrollLeft,g=Ut(t)-(t.options.fixedGutter?o.gutters.offsetWidth:0),m=i-e>g;return m&&(i=e+g),e<10?c.scrollLeft=0:e<p?c.scrollLeft=Math.max(0,e-(m?0:10)):i>g+p-3&&(c.scrollLeft=i+(m?0:10)-g),c}function Hn(t,e,n){null==e&&null==n||zn(t),null!=e&&(t.curOp.scrollLeft=(null==t.curOp.scrollLeft?t.doc.scrollLeft:t.curOp.scrollLeft)+e),null!=n&&(t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+n)}function Nn(t){zn(t);var e=t.getCursor(),n=e,i=e;t.options.lineWrapping||(n=e.ch?No(e.line,e.ch-1):e,i=No(e.line,e.ch+1)),t.curOp.scrollToPos={from:n,to:i,margin:t.options.cursorScrollMargin,isCursor:!0}}function zn(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var n=pe(t,e.from),i=pe(t,e.to),r=Fn(t,Math.min(n.left,i.left),Math.min(n.top,i.top)-e.margin,Math.max(n.right,i.right),Math.max(n.bottom,i.bottom)+e.margin);t.scrollTo(r.scrollLeft,r.scrollTop)}}function Bn(t,e,n,i){var r,o=t.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=Rt(t,e):n="prev");var s=t.options.tabSize,a=Ki(o,e),l=Bs(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&((c=o.mode.indent(r,a.text.slice(u.length),a.text))==Fs||c>150)){if(!i)return;n="prev"}}else c=0,n="not";"prev"==n?c=e>o.first?Bs(Ki(o,e-1).text,null,s):0:"add"==n?c=l+t.options.indentUnit:"subtract"==n?c=l-t.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var d="",h=0;if(t.options.indentWithTabs)for(var f=Math.floor(c/s);f;--f)h+=s,d+="\t";if(h<c&&(d+=Or(c-h)),d!=u)return Pn(o,d,No(e,0),No(e,u.length),"+input"),a.stateAfter=null,!0;for(f=0;f<o.sel.ranges.length;f++){var p=o.sel.ranges[f];if(p.head.line==e&&p.head.ch<u.length){Ct(o,f,new dt(h=No(e,u.length),h));break}}}function jn(t,e,n,i){var r=e,o=e;return"number"==typeof e?o=Ki(t,pt(t,e)):r=er(e),null==r?null:(i(o,r)&&t.cm&&Fe(t.cm,r,n),o)}function Rn(t,e){for(var n=t.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=e(n[r]);i.length&&zo(o.from,Pr(i).to)<=0;){var s=i.pop();if(zo(s.from,o.from)<0){o.from=s.from;break}}i.push(o)}Me(t,(function(){for(var e=i.length-1;e>=0;e--)Pn(t.doc,"",i[e].from,i[e].to,"+delete");Nn(t)}))}function Wn(t,e,n,i,r){function o(){var e=a+n;return!(e<t.first||e>=t.first+t.size)&&(a=e,u=Ki(t,e))}function s(t){var e=(r?ho:fo)(u,l,n,!0);if(null==e){if(t||!o())return!1;l=r?(n<0?ro:io)(u):n<0?u.text.length:0}else l=e;return!0}var a=e.line,l=e.ch,c=n,u=Ki(t,a);if("char"==i)s();else if("column"==i)s(!0);else if("word"==i||"group"==i)for(var d=null,h="group"==i,f=t.cm&&t.cm.getHelper(e,"wordChars"),p=!0;!(n<0)||s(!p);p=!1){var g=u.text.charAt(l)||"\n",m=zr(g,f)?"w":h&&"\n"==g?"n":!h||/\s/.test(g)?null:"p";if(!h||p||m||(m="s"),d&&d!=m){n<0&&(n=1,s());break}if(m&&(d=m),n>0&&!s(!p))break}var v=Pt(t,No(a,l),e,c,!0);return zo(e,v)||(v.hitSide=!0),v}function Yn(t,e,n,i){var r,o=t.doc,s=e.left;if("page"==i){var a=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=e.top+n*(a-(n<0?1.5:.5)*ye(t.display))}else"line"==i&&(r=n>0?e.bottom+3:e.top-3);for(;;){var l=me(t,s,r);if(!l.outside)break;if(n<0?r<=0:r>=o.height){l.hitSide=!0;break}r+=5*n}return l}function qn(e,n,i,r){t.defaults[e]=n,i&&(es[e]=r?function(t,e,n){n!=ns&&i(t,e,n)}:i)}function Vn(t){for(var e,n,i,r,o=t.split(/-(?!$)/),s=(t=o[o.length-1],0);s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),r&&(t="Cmd-"+t),i&&(t="Shift-"+t),t}function Un(t){return"string"==typeof t?ds[t]:t}function Gn(t,e,n,i,r){if(i&&i.shared)return Xn(t,e,n,i,r);if(t.cm&&!t.cm.curOp)return Ae(t.cm,Gn)(t,e,n,i,r);var o=new vs(t,r),s=zo(e,n);if(i&&Hr(i,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Rr("span",[o.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(vi(t,e.line,e,n,o)||e.line!=n.line&&vi(t,n.line,e,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ho=!0}o.addToHistory&&cr(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var a,l=e.line,c=t.cm;if(t.iter(l,n.line+1,(function(t){c&&o.collapsed&&!c.options.lineWrapping&&yi(t)==c.display.maxLine&&(a=!0),o.collapsed&&l!=e.line&&tr(t,0),ni(t,new Jn(o,l==e.line?e.ch:null,l==n.line?n.ch:null)),++l})),o.collapsed&&t.iter(e.line,n.line+1,(function(e){Ci(t,e)&&tr(e,0)})),o.clearOnEnter&&As(o,"beforeCursorEnter",(function(){o.clear()})),o.readOnly&&(Fo=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++ms,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)$e(c,e.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var u=e.line;u<=n.line;u++)Fe(c,u,"text");o.atomic&&Mt(c.doc),kr(c,"markerAdded",c,o)}return o}function Xn(t,e,n,i,r){(i=Hr(i)).shared=!1;var o=[Gn(t,e,n,i,r)],s=o[0],a=i.widgetNode;return Xi(t,(function(t){a&&(i.widgetNode=a.cloneNode(!0)),o.push(Gn(t,gt(t,e),gt(t,n),i,r));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;s=Pr(o)})),new ys(o,s)}function Qn(t){return t.findMarks(No(t.first,0),t.clipPos(No(t.lastLine())),(function(t){return t.parent}))}function Kn(t,e){for(var n=0;n<e.length;n++){var i=e[n],r=i.find(),o=t.clipPos(r.from),s=t.clipPos(r.to);if(zo(o,s)){var a=Gn(t,o,s,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}function Zn(t){for(var e=0;e<t.length;e++){var n=t[e],i=[n.primary.doc];Xi(n.primary.doc,(function(t){i.push(t)}));for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==Lr(i,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}}}function Jn(t,e,n){this.marker=t,this.from=e,this.to=n}function ti(t,e){if(t)for(var n=0;n<t.length;++n){var i=t[n];if(i.marker==e)return i}}function ei(t,e){for(var n,i=0;i<t.length;++i)t[i]!=e&&(n||(n=[])).push(t[i]);return n}function ni(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function ii(t,e,n){if(t)for(var i,r=0;r<t.length;++r){var o=t[r],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e)||o.from==e&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);(i||(i=[])).push(new Jn(s,o.from,a?null:o.to))}}return i}function ri(t,e,n){if(t)for(var i,r=0;r<t.length;++r){var o=t[r],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=e:o.to>e)||o.from==e&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);(i||(i=[])).push(new Jn(s,a?null:o.from-e,null==o.to?null:o.to-e))}}return i}function oi(t,e){if(e.full)return null;var n=vt(t,e.from.line)&&Ki(t,e.from.line).markedSpans,i=vt(t,e.to.line)&&Ki(t,e.to.line).markedSpans;if(!n&&!i)return null;var r=e.from.ch,o=e.to.ch,s=0==zo(e.from,e.to),a=ii(n,r,s),l=ri(i,o,s),c=1==e.text.length,u=Pr(e.text).length+(c?r:0);if(a)for(var d=0;d<a.length;++d){if(null==(h=a[d]).to)(f=ti(l,h.marker))?c&&(h.to=null==f.to?null:f.to+u):h.to=r}if(l)for(d=0;d<l.length;++d){var h,f;if(null!=(h=l[d]).to&&(h.to+=u),null==h.from)(f=ti(a,h.marker))||(h.from=u,c&&(a||(a=[])).push(h));else h.from+=u,c&&(a||(a=[])).push(h)}a&&(a=si(a)),l&&l!=a&&(l=si(l));var p=[a];if(!c){var g,m=e.text.length-2;if(m>0&&a)for(d=0;d<a.length;++d)null==a[d].to&&(g||(g=[])).push(new Jn(a[d].marker,null,null));for(d=0;d<m;++d)p.push(g);p.push(l)}return p}function si(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function ai(t,e){var n=gr(t,e),i=oi(t,e);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],s=i[r];if(o&&s)t:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue t;o.push(l)}else s&&(n[r]=s)}return n}function li(t,e,n){var i=null;if(t.iter(e.line,n.line+1,(function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||i&&-1!=Lr(i,n)||(i||(i=[])).push(n)}})),!i)return null;for(var r=[{from:e,to:n}],o=0;o<i.length;++o)for(var s=i[o],a=s.find(0),l=0;l<r.length;++l){var c=r[l];if(!(zo(c.to,a.from)<0||zo(c.from,a.to)>0)){var u=[l,1],d=zo(c.from,a.from),h=zo(c.to,a.to);(d<0||!s.inclusiveLeft&&!d)&&u.push({from:c.from,to:a.from}),(h>0||!s.inclusiveRight&&!h)&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-1}}return r}function ci(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function ui(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function di(t){return t.inclusiveLeft?-1:0}function hi(t){return t.inclusiveRight?1:0}function fi(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var i=t.find(),r=e.find(),o=zo(i.from,r.from)||di(t)-di(e);if(o)return-o;var s=zo(i.to,r.to)||hi(t)-hi(e);return s||e.id-t.id}function pi(t,e){var n,i=Ho&&t.markedSpans;if(i)for(var r,o=0;o<i.length;++o)(r=i[o]).marker.collapsed&&null==(e?r.from:r.to)&&(!n||fi(n,r.marker)<0)&&(n=r.marker);return n}function gi(t){return pi(t,!0)}function mi(t){return pi(t,!1)}function vi(t,e,n,i,r){var o=Ki(t,e),s=Ho&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=zo(c.from,n)||di(l.marker)-di(r),d=zo(c.to,i)||hi(l.marker)-hi(r);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?zo(c.to,n)>=0:zo(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?zo(c.from,i)<=0:zo(c.from,i)<0)))return!0}}}function yi(t){for(var e;e=gi(t);)t=e.find(-1,!0).line;return t}function bi(t){for(var e,n;e=mi(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}function wi(t,e){var n=Ki(t,e),i=yi(n);return n==i?e:er(i)}function xi(t,e){if(e>t.lastLine())return e;var n,i=Ki(t,e);if(!Ci(t,i))return e;for(;n=mi(i);)i=n.find(1,!0).line;return er(i)+1}function Ci(t,e){var n=Ho&&e.markedSpans;if(n)for(var i,r=0;r<n.length;++r)if((i=n[r]).marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&_i(t,e,i))return!0}}function _i(t,e,n){if(null==n.to){var i=n.marker.find(1,!0);return _i(t,i.line,ti(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var r,o=0;o<e.markedSpans.length;++o)if((r=e.markedSpans[o]).marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&_i(t,e,r))return!0}function ki(t,e,n){ir(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Hn(t,null,n)}function Si(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!Gs(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),Yr(e.display.measure,Rr("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function Ti(t,e,n,i){var r=new bs(t,n,i),o=t.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),jn(t,e,"widget",(function(e){var n=e.widgets||(e.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=e,o&&!Ci(t,e)){var i=ir(e)<t.scrollTop;tr(e,e.height+Si(r)),i&&Hn(o,null,r.height),o.curOp.forceUpdate=!0}return!0})),r}function Di(t,e,n,i){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),ci(t),ui(t,n);var r=i?i(t):1;r!=t.height&&tr(t,r)}function Ei(t){t.parent=null,ci(t)}function Mi(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==e[i]?e[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(e[i])||(e[i]+=" "+n[2])}return t}function Ai(e,n){if(e.blankLine)return e.blankLine(n);if(e.innerMode){var i=t.innerMode(e,n);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function Oi(e,n,i,r){for(var o=0;o<10;o++){r&&(r[0]=t.innerMode(e,i).mode);var s=e.token(n,i);if(n.pos>n.start)return s}throw new Error("Mode "+e.name+" failed to advance stream.")}function Pi(t,e,n,i){function r(t){return{start:d.start,end:d.pos,string:d.current(),type:o||null,state:t?ls(s.mode,u):u}}var o,s=t.doc,a=s.mode;e=gt(s,e);var l,c=Ki(s,e.line),u=Rt(t,e.line,n),d=new gs(c.text,t.options.tabSize);for(i&&(l=[]);(i||d.pos<e.ch)&&!d.eol();)d.start=d.pos,o=Oi(a,d,u),i&&l.push(r(!0));return i?l:r()}function Li(t,e,n,i,r,o,s){var a=n.flattenSpans;null==a&&(a=t.options.flattenSpans);var l,c=0,u=null,d=new gs(e,t.options.tabSize),h=t.options.addModeClass&&[null];for(""==e&&Mi(Ai(n,i),o);!d.eol();){if(d.pos>t.options.maxHighlightLength?(a=!1,s&&Fi(t,e,i,d.pos),d.pos=e.length,l=null):l=Mi(Oi(n,d,i,h),o),h){var f=h[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!a||u!=l){for(;c<d.start;)r(c=Math.min(d.start,c+5e4),u);u=l}d.start=d.pos}for(;c<d.pos;){var p=Math.min(d.pos,c+5e4);r(p,u),c=p}}function Ii(t,e,n,i){var r=[t.state.modeGen],o={};Li(t,e.text,t.doc.mode,n,(function(t,e){r.push(t,e)}),o,i);for(var s=0;s<t.state.overlays.length;++s){var a=t.state.overlays[s],l=1,c=0;Li(t,e.text,a.mode,!0,(function(t,e){for(var n=l;c<t;){var i=r[l];i>t&&r.splice(l,1,t,r[l+1],i),l+=2,c=Math.min(t,i)}if(e)if(a.opaque)r.splice(n,l-n,t,"cm-overlay "+e),l=n+2;else for(;n<l;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"cm-overlay "+e}}),o)}return{styles:r,classes:o.bgClass||o.textClass?o:null}}function $i(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var i=Rt(t,er(e)),r=Ii(t,e,e.text.length>t.options.maxHighlightLength?ls(t.doc.mode,i):i);e.stateAfter=i,e.styles=r.styles,r.classes?e.styleClasses=r.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.frontier&&t.doc.frontier++}return e.styles}function Fi(t,e,n,i){var r=t.doc.mode,o=new gs(e,t.options.tabSize);for(o.start=o.pos=i||0,""==e&&Ai(r,n);!o.eol();)Oi(r,o,n),o.start=o.pos}function Hi(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?Cs:xs;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function Ni(t,e){var n=Rr("span",null,null,xo?"padding-right: .1px":null),i={pre:Rr("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,splitSpaces:(bo||xo)&&t.getOption("lineWrapping")};e.measure={};for(var r=0;r<=(e.rest?e.rest.length:0);r++){var o,s=r?e.rest[r-1]:e.line;i.pos=0,i.addToken=Bi,Zr(t.display.measure)&&(o=rr(s))&&(i.addToken=Ri(i.addToken,o)),i.map=[],Yi(s,i,$i(t,s,e!=t.display.externalMeasured&&er(s))),s.styleClasses&&(s.styleClasses.bgClass&&(i.bgClass=Ur(s.styleClasses.bgClass,i.bgClass||"")),s.styleClasses.textClass&&(i.textClass=Ur(s.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Kr(t.display.measure))),0==r?(e.measure.map=i.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(i.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(xo){var a=i.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return Ls(t,"renderLine",t,e.line,i.pre),i.pre.className&&(i.textClass=Ur(i.pre.className,i.textClass||"")),i}function zi(t){var e=Rr("span","\u2022","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function Bi(t,e,n,i,r,o,s){if(e){var a=t.splitSpaces?e.replace(/ {3,}/g,ji):e,l=t.cm.state.specialChars,c=!1;if(l.test(e)){m=document.createDocumentFragment();for(var u=0;;){l.lastIndex=u;var d=l.exec(e),h=d?d.index-u:e.length-u;if(h){var f=document.createTextNode(a.slice(u,u+h));bo&&wo<9?m.appendChild(Rr("span",[f])):m.appendChild(f),t.map.push(t.pos,t.pos+h,f),t.col+=h,t.pos+=h}if(!d)break;if(u+=h+1,"\t"==d[0]){var p=t.cm.options.tabSize,g=p-t.col%p;(f=m.appendChild(Rr("span",Or(g),"cm-tab"))).setAttribute("role","presentation"),f.setAttribute("cm-text","\t"),t.col+=g}else if("\r"==d[0]||"\n"==d[0]){(f=m.appendChild(Rr("span","\r"==d[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",d[0]),t.col+=1}else{(f=t.cm.options.specialCharPlaceholder(d[0])).setAttribute("cm-text",d[0]),bo&&wo<9?m.appendChild(Rr("span",[f])):m.appendChild(f),t.col+=1}t.map.push(t.pos,t.pos+1,f),t.pos++}}else{t.col+=e.length;var m=document.createTextNode(a);t.map.push(t.pos,t.pos+e.length,m),bo&&wo<9&&(c=!0),t.pos+=e.length}if(n||i||r||c||s){var v=n||"";i&&(v+=i),r&&(v+=r);var y=Rr("span",[m],v,s);return o&&(y.title=o),t.content.appendChild(y)}t.content.appendChild(m)}}function ji(t){for(var e=" ",n=0;n<t.length-2;++n)e+=n%2?" ":"\xa0";return e+=" "}function Ri(t,e){return function(n,i,r,o,s,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+i.length;;){for(var d=0;d<e.length;d++){var h=e[d];if(h.to>c&&h.from<=c)break}if(h.to>=u)return t(n,i,r,o,s,a,l);t(n,i.slice(0,h.to-c),r,o,null,a,l),o=null,i=i.slice(h.to-c),c=h.to}}}function Wi(t,e,n,i){var r=!i&&n.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!i&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e}function Yi(t,e,n){var i=t.markedSpans,r=t.text,o=0;if(i)for(var s,a,l,c,u,d,h,f=r.length,p=0,g=(S=1,""),m=0;;){if(m==p){l=c=u=d=a="",h=null,m=1/0;for(var v,y=[],b=0;b<i.length;++b){var w=i[b],x=w.marker;"bookmark"==x.type&&w.from==p&&x.widgetNode?y.push(x):w.from<=p&&(null==w.to||w.to>p||x.collapsed&&w.to==p&&w.from==p)?(null!=w.to&&w.to!=p&&m>w.to&&(m=w.to,c=""),x.className&&(l+=" "+x.className),x.css&&(a=(a?a+";":"")+x.css),x.startStyle&&w.from==p&&(u+=" "+x.startStyle),x.endStyle&&w.to==m&&(v||(v=[])).push(x.endStyle,w.to),x.title&&!d&&(d=x.title),x.collapsed&&(!h||fi(h.marker,x)<0)&&(h=w)):w.from>p&&m>w.from&&(m=w.from)}if(v)for(b=0;b<v.length;b+=2)v[b+1]==m&&(c+=" "+v[b]);if(!h||h.from==p)for(b=0;b<y.length;++b)Wi(e,0,y[b]);if(h&&(h.from||0)==p){if(Wi(e,(null==h.to?f+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(p>=f)break;for(var C=Math.min(f,m);;){if(g){var _=p+g.length;if(!h){var k=_>C?g.slice(0,C-p):g;e.addToken(e,k,s?s+l:l,u,p+k.length==m?c:"",d,a)}if(_>=C){g=g.slice(C-p),p=C;break}p=_,u=""}g=r.slice(o,o=n[S++]),s=Hi(n[S++],e.cm.options)}}else for(var S=1;S<n.length;S+=2)e.addToken(e,r.slice(o,o=n[S]),Hi(n[S+1],e.cm.options))}function qi(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Pr(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Vi(t,e,n,i){function r(t){return n?n[t]:null}function o(t,n,r){Di(t,n,r,i),kr(t,"change",t,e)}function s(t,e){for(var n=t,o=[];n<e;++n)o.push(new ws(c[n],r(n),i));return o}var a=e.from,l=e.to,c=e.text,u=Ki(t,a.line),d=Ki(t,l.line),h=Pr(c),f=r(c.length-1),p=l.line-a.line;if(e.full)t.insert(0,s(0,c.length)),t.remove(c.length,t.size-c.length);else if(qi(t,e)){var g=s(0,c.length-1);o(d,d.text,f),p&&t.remove(a.line,p),g.length&&t.insert(a.line,g)}else if(u==d){if(1==c.length)o(u,u.text.slice(0,a.ch)+h+u.text.slice(l.ch),f);else(g=s(1,c.length-1)).push(new ws(h+u.text.slice(l.ch),f,i)),o(u,u.text.slice(0,a.ch)+c[0],r(0)),t.insert(a.line+1,g)}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+d.text.slice(l.ch),r(0)),t.remove(a.line+1,p);else{o(u,u.text.slice(0,a.ch)+c[0],r(0)),o(d,h+d.text.slice(l.ch),f);g=s(1,c.length-1);p>1&&t.remove(a.line+1,p-1),t.insert(a.line+1,g)}kr(t,"change",t,e)}function Ui(t){this.lines=t,this.parent=null;for(var e=0,n=0;e<t.length;++e)t[e].parent=this,n+=t[e].height;this.height=n}function Gi(t){this.children=t;for(var e=0,n=0,i=0;i<t.length;++i){var r=t[i];e+=r.chunkSize(),n+=r.height,r.parent=this}this.size=e,this.height=n,this.parent=null}function Xi(t,e,n){function i(t,r,o){if(t.linked)for(var s=0;s<t.linked.length;++s){var a=t.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;n&&!l||(e(a.doc,l),i(a.doc,t,l))}}}i(t,null,!0)}function Qi(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,s(t),n(t),t.options.lineWrapping||h(t),t.options.mode=e.modeOption,$e(t)}function Ki(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(e<o){n=r;break}e-=o}return n.lines[e]}function Zi(t,e,n){var i=[],r=e.line;return t.iter(e.line,n.line+1,(function(t){var o=t.text;r==n.line&&(o=o.slice(0,n.ch)),r==e.line&&(o=o.slice(e.ch)),i.push(o),++r})),i}function Ji(t,e,n){var i=[];return t.iter(e,n,(function(t){i.push(t.text)})),i}function tr(t,e){var n=e-t.height;if(n)for(var i=t;i;i=i.parent)i.height+=n}function er(t){if(null==t.parent)return null;for(var e=t.parent,n=Lr(e.lines,t),i=e.parent;i;e=i,i=i.parent)for(var r=0;i.children[r]!=e;++r)n+=i.children[r].chunkSize();return n+e.first}function nr(t,e){var n=t.first;t:do{for(var i=0;i<t.children.length;++i){var r=t.children[i],o=r.height;if(e<o){t=r;continue t}e-=o,n+=r.chunkSize()}return n}while(!t.lines);for(i=0;i<t.lines.length;++i){var s=t.lines[i].height;if(e<s)break;e-=s}return n+i}function ir(t){for(var e=0,n=(t=yi(t)).parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==t)break;e+=r.height}for(var o=n.parent;o;o=(n=o).parent)for(i=0;i<o.children.length;++i){var s=o.children[i];if(s==n)break;e+=s.height}return e}function rr(t){var e=t.order;return null==e&&(e=t.order=la(t.text)),e}function or(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function sr(t,e){var n={from:U(e.from),to:Jo(e),text:Zi(t,e.from,e.to)};return fr(t,n,e.from.line,e.to.line+1),Xi(t,(function(t){fr(t,n,e.from.line,e.to.line+1)}),!0),n}function ar(t){for(;t.length;){if(!Pr(t).ranges)break;t.pop()}}function lr(t,e){return e?(ar(t.done),Pr(t.done)):t.done.length&&!Pr(t.done).ranges?Pr(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),Pr(t.done)):void 0}function cr(t,e,n,i){var r=t.history;r.undone.length=0;var o,s=+new Date;if((r.lastOp==i||r.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&r.lastModTime>s-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(o=lr(r,r.lastOp==i))){var a=Pr(o.changes);0==zo(e.from,e.to)&&0==zo(e.from,a.to)?a.to=Jo(e):o.changes.push(sr(t,e))}else{var l=Pr(r.done);for(l&&l.ranges||hr(t.sel,r.done),o={changes:[sr(t,e)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=e.origin,a||Ls(t,"historyAdded")}function ur(t,e,n,i){var r=e.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function dr(t,e,n,i){var r=t.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||ur(t,o,Pr(r.done),e))?r.done[r.done.length-1]=e:hr(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,i&&!1!==i.clearRedo&&ar(r.undone)}function hr(t,e){var n=Pr(e);n&&n.ranges&&n.equals(t)||e.push(t)}function fr(t,e,n,i){var r=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,i),(function(n){n.markedSpans&&((r||(r=e["spans_"+t.id]={}))[o]=n.markedSpans),++o}))}function pr(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function gr(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var i=0,r=[];i<e.text.length;++i)r.push(pr(n[i]));return r}function mr(t,e,n){for(var i=0,r=[];i<t.length;++i){var o=t[i];if(o.ranges)r.push(n?ut.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var c,u=s[l];if(a.push({from:u.from,to:u.to,text:u.text}),e)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&Lr(e,Number(c[1]))>-1&&(Pr(a)[d]=u[d],delete u[d])}}}return r}function vr(t,e,n,i){n<t.line?t.line+=i:e<t.line&&(t.line=e,t.ch=0)}function yr(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r],s=!0;if(o.ranges){o.copied||((o=t[r]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)vr(o.ranges[a].anchor,e,n,i),vr(o.ranges[a].head,e,n,i)}else{for(a=0;a<o.changes.length;++a){var l=o.changes[a];if(n<l.from.line)l.from=No(l.from.line+i,l.from.ch),l.to=No(l.to.line+i,l.to.ch);else if(e<=l.to.line){s=!1;break}}s||(t.splice(0,r+1),r=0)}}}function br(t,e){var n=e.from.line,i=e.to.line,r=e.text.length-(i-n)-1;yr(t.done,n,i,r),yr(t.undone,n,i,r)}function wr(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function xr(t){return t.target||t.srcElement}function Cr(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),Ao&&t.ctrlKey&&1==e&&(e=3),e}function _r(t,e,n){var i=t._handlers&&t._handlers[e];return n?i&&i.length>0?i.slice():Os:i||Os}function kr(t,e){function n(t){return function(){t.apply(null,o)}}var i=_r(t,e,!1);if(i.length){var r,o=Array.prototype.slice.call(arguments,2);qo?r=qo.delayedCallbacks:Is?r=Is:(r=Is=[],setTimeout(Sr,0));for(var s=0;s<i.length;++s)r.push(n(i[s]))}}function Sr(){var t=Is;Is=null;for(var e=0;e<t.length;++e)t[e]()}function Tr(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Ls(t,n||e.type,t,e),wr(e)||e.codemirrorIgnore}function Dr(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),i=0;i<e.length;++i)-1==Lr(n,e[i])&&n.push(e[i])}function Er(t,e){return _r(t,e).length>0}function Mr(t){t.prototype.on=function(t,e){As(this,t,e)},t.prototype.off=function(t,e){Ps(this,t,e)}}function Ar(){this.id=null}function Or(t){for(;Rs.length<=t;)Rs.push(Pr(Rs)+" ");return Rs[t]}function Pr(t){return t[t.length-1]}function Lr(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}function Ir(t,e){for(var n=[],i=0;i<t.length;i++)n[i]=e(t[i],i);return n}function $r(){}function Fr(t,e){var n;return Object.create?n=Object.create(t):($r.prototype=t,n=new $r),e&&Hr(e,n),n}function Hr(t,e,n){for(var i in e||(e={}),t)!t.hasOwnProperty(i)||!1===n&&e.hasOwnProperty(i)||(e[i]=t[i]);return e}function Nr(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function zr(t,e){return e?!!(e.source.indexOf("\\w")>-1&&Vs(t))||e.test(t):Vs(t)}function Br(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function jr(t){return t.charCodeAt(0)>=768&&Us.test(t)}function Rr(t,e,n,i){
var r=document.createElement(t);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof e)r.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)r.appendChild(e[o]);return r}function Wr(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function Yr(t,e){return Wr(t).appendChild(e)}function qr(){for(var t=document.activeElement;t&&t.root&&t.root.activeElement;)t=t.root.activeElement;return t}function Vr(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}function Ur(t,e){for(var n=t.split(" "),i=0;i<n.length;i++)n[i]&&!Vr(n[i]).test(e)&&(e+=" "+n[i]);return e}function Gr(t){if(document.body.getElementsByClassName)for(var e=document.body.getElementsByClassName("CodeMirror"),n=0;n<e.length;n++){var i=e[n].CodeMirror;i&&t(i)}}function Xr(){ea||(Qr(),ea=!0)}function Qr(){var t;As(window,"resize",(function(){null==t&&(t=setTimeout((function(){t=null,Gr(Ye)}),100))})),As(window,"blur",(function(){Gr(yn)}))}function Kr(t){if(null==Xs){var e=Rr("span","\u200b");Yr(t,Rr("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Xs=e.offsetWidth<=1&&e.offsetHeight>2&&!(bo&&wo<8))}var n=Xs?Rr("span","\u200b"):Rr("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Zr(t){if(null!=Qs)return Qs;var e=Yr(t,document.createTextNode("A\u062eA")),n=Ys(e,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var i=Ys(e,1,2).getBoundingClientRect();return Qs=i.right-n.right<3}function Jr(t){if(null!=sa)return sa;var e=Yr(t,Rr("span","x")),n=e.getBoundingClientRect(),i=Ys(e,0,1).getBoundingClientRect();return sa=Math.abs(n.left-i.left)>1}function to(t,e,n,i){if(!t)return i(e,n,"ltr");for(var r=!1,o=0;o<t.length;++o){var s=t[o];(s.from<n&&s.to>e||e==n&&s.to==e)&&(i(Math.max(s.from,e),Math.min(s.to,n),1==s.level?"rtl":"ltr"),r=!0)}r||i(e,n,"ltr")}function eo(t){return t.level%2?t.to:t.from}function no(t){return t.level%2?t.from:t.to}function io(t){var e=rr(t);return e?eo(e[0]):0}function ro(t){var e=rr(t);return e?no(Pr(e)):t.text.length}function oo(t,e){var n=Ki(t.doc,e),i=yi(n);i!=n&&(e=er(i));var r=rr(i),o=r?r[0].level%2?ro(i):io(i):0;return No(e,o)}function so(t,e){for(var n,i=Ki(t.doc,e);n=mi(i);)i=n.find(1,!0).line,e=null;var r=rr(i),o=r?r[0].level%2?io(i):ro(i):i.text.length;return No(null==e?er(i):e,o)}function ao(t,e){var n=oo(t,e.line),i=Ki(t.doc,n.line),r=rr(i);if(!r||0==r[0].level){var o=Math.max(0,i.text.search(/\S/)),s=e.line==n.line&&e.ch<=o&&e.ch;return No(n.line,s?0:o)}return n}function lo(t,e,n){var i=t[0].level;return e==i||n!=i&&e<n}function co(t,e){Zs=null;for(var n,i=0;i<t.length;++i){var r=t[i];if(r.from<e&&r.to>e)return i;if(r.from==e||r.to==e){if(null!=n)return lo(t,r.level,t[n].level)?(r.from!=r.to&&(Zs=n),i):(r.from!=r.to&&(Zs=i),n);n=i}}return n}function uo(t,e,n,i){if(!i)return e+n;do{e+=n}while(e>0&&jr(t.text.charAt(e)));return e}function ho(t,e,n,i){var r=rr(t);if(!r)return fo(t,e,n,i);for(var o=co(r,e),s=r[o],a=uo(t,e,s.level%2?-n:n,i);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return co(r,a)==o?a:n>0==(s=r[o+=n]).level%2?s.to:s.from;if(!(s=r[o+=n]))return null;a=n>0==s.level%2?uo(t,s.to,-1,i):uo(t,s.from,1,i)}}function fo(t,e,n,i){var r=e+n;if(i)for(;r>0&&jr(t.text.charAt(r));)r+=n;return r<0||r>t.text.length?null:r}var po=navigator.userAgent,go=navigator.platform,mo=/gecko\/\d/i.test(po),vo=/MSIE \d/.test(po),yo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(po),bo=vo||yo,wo=bo&&(vo?document.documentMode||6:yo[1]),xo=/WebKit\//.test(po),Co=xo&&/Qt\/\d+\.\d+/.test(po),_o=/Chrome\//.test(po),ko=/Opera\//.test(po),So=/Apple Computer/.test(navigator.vendor),To=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(po),Do=/PhantomJS/.test(po),Eo=/AppleWebKit/.test(po)&&/Mobile\/\w+/.test(po),Mo=Eo||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(po),Ao=Eo||/Mac/.test(go),Oo=/\bCrOS\b/.test(po),Po=/win/i.test(go),Lo=ko&&po.match(/Version\/(\d*\.\d*)/);Lo&&(Lo=Number(Lo[1])),Lo&&Lo>=15&&(ko=!1,xo=!0);var Io=Ao&&(Co||ko&&(null==Lo||Lo<12.11)),$o=mo||bo&&wo>=9,Fo=!1,Ho=!1;g.prototype=Hr({update:function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,i=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?i+"px":"0";var r=t.viewHeight-(e?i:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(n?i:0);this.horiz.firstChild.style.width=t.scrollWidth-t.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:e?i:0}},setScrollLeft:function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var t=Ao&&!To?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Ar,this.disableVert=new Ar},enableZeroWidthBar:function(t,e){function n(){var i=t.getBoundingClientRect();document.elementFromPoint(i.left+1,i.bottom-1)!=t?t.style.pointerEvents="none":e.set(1e3,n)}t.style.pointerEvents="auto",e.set(1e3,n)},clear:function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)}},g.prototype),m.prototype=Hr({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},m.prototype),t.scrollbarModel={native:g,null:m},S.prototype.signal=function(t,e){Er(t,e)&&this.events.push(arguments)},S.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Ls.apply(null,this.events[t])};var No=t.Pos=function(t,e){if(!(this instanceof No))return new No(t,e);this.line=t,this.ch=e},zo=t.cmpPos=function(t,e){return t.line-e.line||t.ch-e.ch},Bo=null;nt.prototype=Hr({init:function(t){function e(t){if(!Tr(i,t)){if(i.somethingSelected())Bo={lineWise:!1,text:i.getSelections()},n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,o.value=Bo.text.join("\n"),Ws(o));else{if(!i.options.lineWiseCopyCut)return;var e=tt(i);Bo={lineWise:!0,text:e.text},"cut"==t.type?i.setSelections(e.ranges,null,Hs):(n.prevInput="",o.value=e.text.join("\n"),Ws(o))}"cut"==t.type&&(i.state.cutIncoming=!0)}}var n=this,i=this.cm,r=this.wrapper=it(),o=this.textarea=r.firstChild;t.wrapper.insertBefore(r,t.wrapper.firstChild),Eo&&(o.style.width="0px"),As(o,"input",(function(){bo&&wo>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()})),As(o,"paste",(function(t){Tr(i,t)||Z(t,i)||(i.state.pasteIncoming=!0,n.fastPoll())})),As(o,"cut",e),As(o,"copy",e),As(t.scroller,"paste",(function(e){qe(t,e)||Tr(i,e)||(i.state.pasteIncoming=!0,n.focus())})),As(t.lineSpace,"selectstart",(function(e){qe(t,e)||Ds(e)})),As(o,"compositionstart",(function(){var t=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:i.markText(t,i.getCursor("to"),{className:"CodeMirror-composing"})}})),As(o,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},prepareSelection:function(){var t=this.cm,e=t.display,n=t.doc,i=$t(t);if(t.options.moveInputWithCursor){var r=fe(t,n.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),s=e.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+s.top-o.top)),i.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+s.left-o.left))}return i},showSelection:function(t){var e=this.cm.display;Yr(e.cursorDiv,t.cursors),Yr(e.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},reset:function(t){if(!this.contextMenuPending){var e,n,i=this.cm,r=i.doc;if(i.somethingSelected()){this.prevInput="";var o=r.sel.primary(),s=(e=oa&&(o.to().line-o.from().line>100||(n=i.getSelection()).length>1e3))?"-":n||i.getSelection();this.textarea.value=s,i.state.focused&&Ws(this.textarea),bo&&wo>=9&&(this.hasSelection=s)}else t||(this.prevInput=this.textarea.value="",bo&&wo>=9&&(this.hasSelection=null));this.inaccurateSelection=e}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Mo||qr()!=this.textarea))try{this.textarea.focus()}catch(t){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var t=this;t.pollingFast||t.polling.set(this.cm.options.pollInterval,(function(){t.poll(),t.cm.state.focused&&t.slowPoll()}))},fastPoll:function(){function t(){n.poll()||e?(n.pollingFast=!1,n.slowPoll()):(e=!0,n.polling.set(60,t))}var e=!1,n=this;n.pollingFast=!0,n.polling.set(20,t)},poll:function(){var t=this.cm,e=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||ra(e)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=e.value;if(i==n&&!t.somethingSelected())return!1;if(bo&&wo>=9&&this.hasSelection===i||Ao&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var r=i.charCodeAt(0);if(8203!=r||n||(n="\u200b"),8666==r)return this.reset(),this.cm.execCommand("undo")}for(var o=0,s=Math.min(n.length,i.length);o<s&&n.charCodeAt(o)==i.charCodeAt(o);)++o;var a=this;return Me(t,(function(){K(t,i.slice(o),n.length-o,null,a.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?e.value=a.prevInput="":a.prevInput=i,a.composing&&(a.composing.range.clear(),a.composing.range=t.markText(a.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){bo&&wo>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(t){function e(){if(null!=s.selectionStart){var t=r.somethingSelected(),e="\u200b"+(t?s.value:"");s.value="\u21da",s.value=e,i.prevInput=t?"":"\u200b",s.selectionStart=1,s.selectionEnd=e.length,o.selForContextMenu=r.doc.sel}}function n(){if(i.contextMenuPending=!1,i.wrapper.style.cssText=u,s.style.cssText=c,bo&&wo<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=s.selectionStart){(!bo||bo&&wo<9)&&e();var t=0,n=function(){o.selForContextMenu==r.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&"\u200b"==i.prevInput?Ae(r,us.selectAll)(r):t++<10?o.detectingSelectAll=setTimeout(n,500):o.input.reset()};o.detectingSelectAll=setTimeout(n,200)}}var i=this,r=i.cm,o=r.display,s=i.textarea,a=Ve(r,t),l=o.scroller.scrollTop;if(a&&!ko){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(a)&&Ae(r,Tt)(r.doc,ft(a),Hs);var c=s.style.cssText,u=i.wrapper.style.cssText;i.wrapper.style.cssText="position: absolute";var d=i.wrapper.getBoundingClientRect();if(s.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(t.clientY-d.top-5)+"px; left: "+(t.clientX-d.left-5)+"px; z-index: 1000; background: "+(bo?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",xo)var h=window.scrollY;if(o.input.focus(),xo&&window.scrollTo(null,h),o.input.reset(),r.somethingSelected()||(s.value=i.prevInput=" "),i.contextMenuPending=!0,o.selForContextMenu=r.doc.sel,clearTimeout(o.detectingSelectAll),bo&&wo>=9&&e(),$o){Ms(t);var f=function(){Ps(window,"mouseup",f),setTimeout(n,20)};As(window,"mouseup",f)}else setTimeout(n,50)}},readOnlyChanged:function(t){t||this.reset()},setUneditable:$r,needsContentAttribute:!1},nt.prototype),rt.prototype=Hr({init:function(t){function e(t){if(!Tr(i,t)){if(i.somethingSelected())Bo={lineWise:!1,text:i.getSelections()},"cut"==t.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var e=tt(i);Bo={lineWise:!0,text:e.text},"cut"==t.type&&i.operation((function(){i.setSelections(e.ranges,0,Hs),i.replaceSelection("",null,"cut")}))}if(t.clipboardData&&!Eo)t.preventDefault(),t.clipboardData.clearData(),t.clipboardData.setData("text/plain",Bo.text.join("\n"));else{var n=it(),r=n.firstChild;i.display.lineSpace.insertBefore(n,i.display.lineSpace.firstChild),r.value=Bo.text.join("\n");var o=document.activeElement;Ws(r),setTimeout((function(){i.display.lineSpace.removeChild(n),o.focus()}),50)}}}var n=this,i=n.cm,r=n.div=t.lineDiv;et(r),As(r,"paste",(function(t){Tr(i,t)||Z(t,i)})),As(r,"compositionstart",(function(t){var e=t.data;if(n.composing={sel:i.doc.sel,data:e,startData:e},e){var r=i.doc.sel.primary(),o=i.getLine(r.head.line).indexOf(e,Math.max(0,r.head.ch-e.length));o>-1&&o<=r.head.ch&&(n.composing.sel=ft(No(r.head.line,o),No(r.head.line,o+e.length)))}})),As(r,"compositionupdate",(function(t){n.composing.data=t.data})),As(r,"compositionend",(function(t){var e=n.composing;e&&(t.data==e.startData||/\u200b/.test(t.data)||(e.data=t.data),setTimeout((function(){e.handled||n.applyComposition(e),n.composing==e&&(n.composing=null)}),50))})),As(r,"touchstart",(function(){n.forceCompositionEnd()})),As(r,"input",(function(){n.composing||!i.isReadOnly()&&n.pollContent()||Me(n.cm,(function(){$e(i)}))})),As(r,"copy",e),As(r,"cut",e)},prepareSelection:function(){var t=$t(this.cm,!1);return t.focus=this.cm.state.focused,t},showSelection:function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},showPrimarySelection:function(){var t=window.getSelection(),e=this.cm.doc.sel.primary(),n=at(this.cm,t.anchorNode,t.anchorOffset),i=at(this.cm,t.focusNode,t.focusOffset);if(!n||n.bad||!i||i.bad||0!=zo(X(n,i),e.from())||0!=zo(G(n,i),e.to())){var r=ot(this.cm,e.from()),o=ot(this.cm,e.to());if(r||o){var s=this.cm.display.view,a=t.rangeCount&&t.getRangeAt(0);if(r){if(!o){var l=s[s.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;o={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else r={node:s[0].measure.map[2],offset:0};try{var u=Ys(r.node,r.offset,o.offset,o.node)}catch(t){}u&&(!mo&&this.cm.state.focused?(t.collapse(r.node,r.offset),u.collapsed||t.addRange(u)):(t.removeAllRanges(),t.addRange(u)),a&&null==t.anchorNode?t.addRange(a):mo&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation((function(){t.cm.curOp.selectionChanged=!0}))}),20)},showMultipleSelections:function(t){Yr(this.cm.display.cursorDiv,t.cursors),Yr(this.cm.display.selectionDiv,t.selection)},rememberSelection:function(){var t=window.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},selectionInEditor:function(){var t=window.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return Gs(this.div,e)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}var e=this;this.selectionInEditor()?this.pollSelection():Me(this.cm,(function(){e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,t)},selectionChanged:function(){var t=window.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var t=window.getSelection(),e=this.cm;this.rememberSelection();var n=at(e,t.anchorNode,t.anchorOffset),i=at(e,t.focusNode,t.focusOffset);n&&i&&Me(e,(function(){Tt(e.doc,ft(n,i),Hs),(n.bad||i.bad)&&(e.curOp.selectionChanged=!0)}))}},pollContent:function(){var t,e=this.cm,n=e.display,i=e.doc.sel.primary(),r=i.from(),o=i.to();if(r.line<n.viewFrom||o.line>n.viewTo-1)return!1;if(r.line==n.viewFrom||0==(t=Ne(e,r.line)))var s=er(n.view[0].line),a=n.view[0].node;else s=er(n.view[t].line),a=n.view[t-1].node.nextSibling;var l=Ne(e,o.line);if(l==n.view.length-1)var c=n.viewTo-1,u=n.lineDiv.lastChild;else c=er(n.view[l+1].line)-1,u=n.view[l+1].node.previousSibling;for(var d=e.doc.splitLines(ct(e,a,u,s,c)),h=Zi(e.doc,No(s,0),No(c,Ki(e.doc,c).text.length));d.length>1&&h.length>1;)if(Pr(d)==Pr(h))d.pop(),h.pop(),c--;else{if(d[0]!=h[0])break;d.shift(),h.shift(),s++}for(var f=0,p=0,g=d[0],m=h[0],v=Math.min(g.length,m.length);f<v&&g.charCodeAt(f)==m.charCodeAt(f);)++f;for(var y=Pr(d),b=Pr(h),w=Math.min(y.length-(1==d.length?f:0),b.length-(1==h.length?f:0));p<w&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;d[d.length-1]=y.slice(0,y.length-p),d[0]=d[0].slice(f);var x=No(s,f),C=No(c,h.length?Pr(h).length-p:0);return d.length>1||d[0]||zo(x,C)?(Pn(e.doc,d,x,C,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(t){this.cm.isReadOnly()?Ae(this.cm,$e)(this.cm):t.data&&t.data!=t.startData&&Ae(this.cm,K)(this.cm,t.data,0,t.sel)},setUneditable:function(t){t.contentEditable="false"},onKeyPress:function(t){t.preventDefault(),this.cm.isReadOnly()||Ae(this.cm,K)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0)},readOnlyChanged:function(t){this.div.contentEditable=String("nocursor"!=t)},onContextMenu:$r,resetPosition:$r,needsContentAttribute:!0},rt.prototype),t.inputStyles={textarea:nt,contenteditable:rt},ut.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],i=t.ranges[e];if(0!=zo(n.anchor,i.anchor)||0!=zo(n.head,i.head))return!1}return!0},deepCopy:function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new dt(U(this.ranges[e].anchor),U(this.ranges[e].head));return new ut(t,this.primIndex)},somethingSelected:function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},contains:function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(zo(e,i.from())>=0&&zo(t,i.to())<=0)return n}return-1}},dt.prototype={from:function(){return X(this.anchor,this.head)},to:function(){return G(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var jo,Ro,Wo,Yo={left:0,right:0,top:0,bottom:0},qo=null,Vo=0,Uo=0,Go=0,Xo=null;bo?Xo=-.53:mo?Xo=15:_o?Xo=-.7:So&&(Xo=-1/3);var Qo=function(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}};t.wheelEventPixels=function(t){var e=Qo(t);return e.x*=Xo,e.y*=Xo,e};var Ko=new Ar,Zo=null,Jo=t.changeEnd=function(t){return t.text?No(t.from.line+t.text.length-1,Pr(t.text).length+(1==t.text.length?t.from.ch:0)):t.to};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,e){var n=this.options,i=n[t];n[t]==e&&"mode"!=t||(n[t]=e,es.hasOwnProperty(t)&&Ae(this,es[t])(this,e,i))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Un(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:Oe((function(e,n){var i=e.token?e:t.getMode(this.options,e);if(i.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:i,modeSpec:e,opaque:n&&n.opaque}),this.state.modeGen++,$e(this)})),removeOverlay:Oe((function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var i=e[n].modeSpec;if(i==t||"string"==typeof t&&i.name==t)return e.splice(n,1),this.state.modeGen++,void $e(this)}})),indentLine:Oe((function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),vt(this.doc,t)&&Bn(this,t,e,n)})),indentSelection:Oe((function(t){for(var e=this.doc.sel.ranges,n=-1,i=0;i<e.length;i++){var r=e[i];if(r.empty())r.head.line>n&&(Bn(this,r.head.line,t,!0),n=r.head.line,i==this.doc.sel.primIndex&&Nn(this));else{var o=r.from(),s=r.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<n;++l)Bn(this,l,t);var c=this.doc.sel.ranges;0==o.ch&&e.length==c.length&&c[i].from().ch>0&&Ct(this.doc,i,new dt(o,c[i].to()),Hs)}}})),getTokenAt:function(t,e){return Pi(this,t,e)},getLineTokens:function(t,e){return Pi(this,No(t),e,!0)},getTokenTypeAt:function(t){t=gt(this.doc,t);var e,n=$i(this,Ki(this.doc,t.line)),i=0,r=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var s=i+r>>1;if((s?n[2*s-1]:0)>=o)r=s;else{if(!(n[2*s+1]<o)){e=n[2*s+2];break}i=s+1}}var a=e?e.indexOf("cm-overlay "):-1;return a<0?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var n=[];if(!as.hasOwnProperty(e))return n;var i=as[e],r=this.getModeAt(t);if("string"==typeof r[e])i[r[e]]&&n.push(i[r[e]]);else if(r[e])for(var o=0;o<r[e].length;o++){var s=i[r[e][o]];s&&n.push(s)}else r.helperType&&i[r.helperType]?n.push(i[r.helperType]):i[r.name]&&n.push(i[r.name]);for(o=0;o<i._global.length;o++){var a=i._global[o];a.pred(r,this)&&-1==Lr(n,a.val)&&n.push(a.val)}return n},getStateAfter:function(t,e){var n=this.doc;return Rt(this,(t=pt(n,null==t?n.first+n.size-1:t))+1,e)},cursorCoords:function(t,e){var n=this.doc.sel.primary();return fe(this,null==t?n.head:"object"==typeof t?gt(this.doc,t):t?n.from():n.to(),e||"page")},charCoords:function(t,e){return he(this,gt(this.doc,t),e||"page")},coordsChar:function(t,e){return me(this,(t=de(this,t,e||"page")).left,t.top)},lineAtHeight:function(t,e){return t=de(this,{top:t,left:0},e||"page").top,nr(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var n,i=!1;if("number"==typeof t){var r=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>r&&(t=r,i=!0),n=Ki(this.doc,t)}else n=t;return ue(this,n,{top:0,left:0},e||"page").top+(i?this.doc.height-ir(n):0)},defaultTextHeight:function(){return ye(this.display)},defaultCharWidth:function(){return be(this.display)},setGutterMarker:Oe((function(t,e,n){return jn(this.doc,t,"gutter",(function(t){var i=t.gutterMarkers||(t.gutterMarkers={});return i[e]=n,!n&&Br(i)&&(t.gutterMarkers=null),!0}))})),clearGutter:Oe((function(t){var e=this,n=e.doc,i=n.first;n.iter((function(n){n.gutterMarkers&&n.gutterMarkers[t]&&(n.gutterMarkers[t]=null,Fe(e,i,"gutter"),Br(n.gutterMarkers)&&(n.gutterMarkers=null)),++i}))})),lineInfo:function(t){if("number"==typeof t){if(!vt(this.doc,t))return null;var e=t;if(!(t=Ki(this.doc,t)))return null}else{if(null==(e=er(t)))return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,i,r){var o=this.display,s=(t=fe(this,gt(this.doc,t))).bottom,a=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),o.sizer.appendChild(e),"over"==i)s=t.top;else if("above"==i||"near"==i){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==i||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?s=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=l&&(s=t.bottom),a+e.offsetWidth>c&&(a=c-e.offsetWidth)}e.style.top=s+"px",e.style.left=e.style.right="","right"==r?(a=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),n&&$n(this,a,s,a+e.offsetWidth,s+e.offsetHeight)},triggerOnKeyDown:Oe(hn),triggerOnKeyPress:Oe(gn),triggerOnKeyUp:pn,execCommand:function(t){if(us.hasOwnProperty(t))return us[t].call(null,this)},triggerElectric:Oe((function(t){J(this,t)})),findPosH:function(t,e,n,i){var r=1;e<0&&(r=-1,e=-e);for(var o=0,s=gt(this.doc,t);o<e&&!(s=Wn(this.doc,s,r,n,i)).hitSide;++o);return s},moveH:Oe((function(t,e){var n=this;n.extendSelectionsBy((function(i){return n.display.shift||n.doc.extend||i.empty()?Wn(n.doc,i.head,t,e,n.options.rtlMoveVisually):t<0?i.from():i.to()}),zs)})),deleteH:Oe((function(t,e){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):Rn(this,(function(n){var r=Wn(i,n.head,t,e,!1);return t<0?{from:r,to:n.head}:{from:n.head,to:r}}))})),findPosV:function(t,e,n,i){var r=1,o=i;e<0&&(r=-1,e=-e);for(var s=0,a=gt(this.doc,t);s<e;++s){var l=fe(this,a,"div");if(null==o?o=l.left:l.left=o,(a=Yn(this,l,r,n)).hitSide)break}return a},moveV:Oe((function(t,e){var n=this,i=this.doc,r=[],o=!n.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy((function(s){if(o)return t<0?s.from():s.to();var a=fe(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=Yn(n,a,t,e);return"page"==e&&s==i.sel.primary()&&Hn(n,null,he(n,l,"div").top-a.top),l}),zs),r.length)for(var s=0;s<i.sel.ranges.length;s++)i.sel.ranges[s].goalColumn=r[s]})),findWordAt:function(t){var e=Ki(this.doc,t.line).text,n=t.ch,i=t.ch;if(e){var r=this.getHelper(t,"wordChars");(t.xRel<0||i==e.length)&&n?--n:++i;for(var o=e.charAt(n),s=zr(o,r)?function(t){return zr(t,r)}:/\s/.test(o)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!zr(t)};n>0&&s(e.charAt(n-1));)--n;for(;i<e.length&&s(e.charAt(i));)++i}return new dt(No(t.line,n),No(t.line,i))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ta(this.display.cursorDiv,"CodeMirror-overwrite"):Js(this.display.cursorDiv,"CodeMirror-overwrite"),Ls(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==qr()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Oe((function(t,e){null==t&&null==e||zn(this),null!=t&&(this.curOp.scrollLeft=t),null!=e&&(this.curOp.scrollTop=e)})),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Vt(this)-this.display.barHeight,width:t.scrollWidth-Vt(this)-this.display.barWidth,clientHeight:Gt(this),clientWidth:Ut(this)}},scrollIntoView:Oe((function(t,e){if(null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:No(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line)zn(this),this.curOp.scrollToPos=t;else{var n=Fn(this,Math.min(t.from.left,t.to.left),Math.min(t.from.top,t.to.top)-t.margin,Math.max(t.from.right,t.to.right),Math.max(t.from.bottom,t.to.bottom)+t.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}})),setSize:Oe((function(t,e){function n(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t}var i=this;null!=t&&(i.display.wrapper.style.width=n(t)),null!=e&&(i.display.wrapper.style.height=n(e)),i.options.lineWrapping&&se(this);var r=i.display.viewFrom;i.doc.iter(r,i.display.viewTo,(function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){Fe(i,r,"widget");break}++r})),i.curOp.forceUpdate=!0,Ls(i,"refresh",this)})),operation:function(t){return Me(this,t)},refresh:Oe((function(){var t=this.display.cachedTextHeight;$e(this),this.curOp.forceUpdate=!0,ae(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),u(this),(null==t||Math.abs(t-ye(this.display))>.5)&&s(this),Ls(this,"refresh",this)})),swapDoc:Oe((function(t){var e=this.doc;return e.cm=null,Qi(this,t),ae(this),this.display.input.reset(),this.scrollTo(t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,kr(this,"swapDoc",this,e),e})),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Mr(t);var ts=t.defaults={},es=t.optionHandlers={},ns=t.Init={toString:function(){return"CodeMirror.Init"}};qn("value","",(function(t,e){t.setValue(e)}),!0),qn("mode",null,(function(t,e){t.doc.modeOption=e,n(t)}),!0),qn("indentUnit",2,n,!0),qn("indentWithTabs",!1),qn("smartIndent",!0),qn("tabSize",4,(function(t){i(t),ae(t),$e(t)}),!0),qn("lineSeparator",null,(function(t,e){if(t.doc.lineSep=e,e){var n=[],i=t.doc.first;t.doc.iter((function(t){for(var r=0;;){var o=t.text.indexOf(e,r);if(-1==o)break;r=o+e.length,n.push(No(i,o))}i++}));for(var r=n.length-1;r>=0;r--)Pn(t.doc,e,n[r],No(n[r].line,n[r].ch+e.length))}})),qn("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,(function(e,n,i){e.state.specialChars=new RegExp(n.source+(n.test("\t")?"":"|\t"),"g"),i!=t.Init&&e.refresh()})),qn("specialCharPlaceholder",zi,(function(t){t.refresh()}),!0),qn("electricChars",!0),qn("inputStyle",Mo?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),qn("rtlMoveVisually",!Po),qn("wholeLineUpdateBefore",!0),qn("theme","default",(function(t){a(t),l(t)}),!0),qn("keyMap","default",(function(e,n,i){var r=Un(n),o=i!=t.Init&&Un(i);o&&o.detach&&o.detach(e,r),r.attach&&r.attach(e,o||null)})),qn("extraKeys",null),qn("lineWrapping",!1,r,!0),qn("gutters",[],(function(t){f(t.options),l(t)}),!0),qn("fixedGutter",!0,(function(t,e){t.display.gutters.style.left=e?k(t.display)+"px":"0",t.refresh()}),!0),qn("coverGutterNextToScrollbar",!1,(function(t){y(t)}),!0),qn("scrollbarStyle","native",(function(t){v(t),y(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)}),!0),qn("lineNumbers",!1,(function(t){f(t.options),l(t)}),!0),qn("firstLineNumber",1,l,!0),qn("lineNumberFormatter",(function(t){return t}),l,!0),qn("showCursorWhenSelecting",!1,It,!0),qn("resetSelectionOnContextMenu",!0),qn("lineWiseCopyCut",!0),qn("readOnly",!1,(function(t,e){"nocursor"==e?(yn(t),t.display.input.blur(),t.display.disabled=!0):t.display.disabled=!1,t.display.input.readOnlyChanged(e)})),qn("disableInput",!1,(function(t,e){e||t.display.input.reset()}),!0),qn("dragDrop",!0,We),qn("allowDropFileTypes",null),qn("cursorBlinkRate",530),qn("cursorScrollMargin",0),qn("cursorHeight",1,It,!0),qn("singleCursorHeightPerLine",!0,It,!0),qn("workTime",100),qn("workDelay",100),qn("flattenSpans",!0,i,!0),qn("addModeClass",!1,i,!0),qn("pollInterval",100),qn("undoDepth",200,(function(t,e){t.doc.history.undoDepth=e})),qn("historyEventDelay",1250),qn("viewportMargin",10,(function(t){t.refresh()}),!0),qn("maxHighlightLength",1e4,i,!0),qn("moveInputWithCursor",!0,(function(t,e){e||t.display.input.resetPosition()})),qn("tabindex",null,(function(t,e){t.display.input.getField().tabIndex=e||""})),qn("autofocus",null);var is=t.modes={},rs=t.mimeModes={};t.defineMode=function(e,n){t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),is[e]=n},t.defineMIME=function(t,e){rs[t]=e},t.resolveMode=function(e){if("string"==typeof e&&rs.hasOwnProperty(e))e=rs[e];else if(e&&"string"==typeof e.name&&rs.hasOwnProperty(e.name)){var n=rs[e.name];"string"==typeof n&&(n={name:n}),(e=Fr(n,e)).name=n.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,n){n=t.resolveMode(n);var i=is[n.name];if(!i)return t.getMode(e,"text/plain");var r=i(e,n);if(os.hasOwnProperty(n.name)){var o=os[n.name];for(var s in o)o.hasOwnProperty(s)&&(r.hasOwnProperty(s)&&(r["_"+s]=r[s]),r[s]=o[s])}if(r.name=n.name,n.helperType&&(r.helperType=n.helperType),n.modeProps)for(var s in n.modeProps)r[s]=n.modeProps[s];return r},t.defineMode("null",(function(){return{token:function(t){t.skipToEnd()}}})),t.defineMIME("text/plain","null")
;var os=t.modeExtensions={};t.extendMode=function(t,e){Hr(e,os.hasOwnProperty(t)?os[t]:os[t]={})},t.defineExtension=function(e,n){t.prototype[e]=n},t.defineDocExtension=function(t,e){ks.prototype[t]=e},t.defineOption=qn;var ss=[];t.defineInitHook=function(t){ss.push(t)};var as=t.helpers={};t.registerHelper=function(e,n,i){as.hasOwnProperty(e)||(as[e]=t[e]={_global:[]}),as[e][n]=i},t.registerGlobalHelper=function(e,n,i,r){t.registerHelper(e,n,r),as[e]._global.push({pred:i,val:r})};var ls=t.copyState=function(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var n={};for(var i in e){var r=e[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n},cs=t.startState=function(t,e,n){return!t.startState||t.startState(e,n)};t.innerMode=function(t,e){for(;t.innerMode;){var n=t.innerMode(e);if(!n||n.mode==t)break;e=n.state,t=n.mode}return n||{mode:t,state:e}};var us=t.commands={selectAll:function(t){t.setSelection(No(t.firstLine(),0),No(t.lastLine()),Hs)},singleSelection:function(t){t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Hs)},killLine:function(t){Rn(t,(function(e){if(e.empty()){var n=Ki(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:No(e.head.line+1,0)}:{from:e.head,to:No(e.head.line,n)}}return{from:e.from(),to:e.to()}}))},deleteLine:function(t){Rn(t,(function(e){return{from:No(e.from().line,0),to:gt(t.doc,No(e.to().line+1,0))}}))},delLineLeft:function(t){Rn(t,(function(t){return{from:No(t.from().line,0),to:t.from()}}))},delWrappedLineLeft:function(t){Rn(t,(function(e){var n=t.charCoords(e.head,"div").top+5;return{from:t.coordsChar({left:0,top:n},"div"),to:e.from()}}))},delWrappedLineRight:function(t){Rn(t,(function(e){var n=t.charCoords(e.head,"div").top+5,i=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:i}}))},undo:function(t){t.undo()},redo:function(t){t.redo()},undoSelection:function(t){t.undoSelection()},redoSelection:function(t){t.redoSelection()},goDocStart:function(t){t.extendSelection(No(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(No(t.lastLine()))},goLineStart:function(t){t.extendSelectionsBy((function(e){return oo(t,e.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(t){t.extendSelectionsBy((function(e){return ao(t,e.head)}),{origin:"+move",bias:1})},goLineEnd:function(t){t.extendSelectionsBy((function(e){return so(t,e.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(t){t.extendSelectionsBy((function(e){var n=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")}),zs)},goLineLeft:function(t){t.extendSelectionsBy((function(e){var n=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")}),zs)},goLineLeftSmart:function(t){t.extendSelectionsBy((function(e){var n=t.charCoords(e.head,"div").top+5,i=t.coordsChar({left:0,top:n},"div");return i.ch<t.getLine(i.line).search(/\S/)?ao(t,e.head):i}),zs)},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),i=t.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),s=Bs(t.getLine(o.line),o.ch,i);e.push(Or(i-s%i))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){Me(t,(function(){for(var e=t.listSelections(),n=[],i=0;i<e.length;i++){var r=e[i].head,o=Ki(t.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new No(r.line,r.ch-1)),r.ch>0)r=new No(r.line,r.ch+1),t.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),No(r.line,r.ch-2),r,"+transpose");else if(r.line>t.doc.first){var s=Ki(t.doc,r.line-1).text;s&&t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+s.charAt(s.length-1),No(r.line-1,s.length-1),No(r.line,1),"+transpose")}n.push(new dt(r,r))}t.setSelections(n)}))},newlineAndIndent:function(t){Me(t,(function(){for(var e=t.listSelections().length,n=0;n<e;n++){var i=t.listSelections()[n];t.replaceRange(t.doc.lineSeparator(),i.anchor,i.head,"+input"),t.indentLine(i.from().line+1,null,!0)}Nn(t)}))},openLine:function(t){t.replaceSelection("\n","start")},toggleOverwrite:function(t){t.toggleOverwrite()}},ds=t.keyMap={};ds.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ds.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ds.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},ds.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ds.default=Ao?ds.macDefault:ds.pcDefault,t.normalizeKeyMap=function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete t[n];continue}for(var r=Ir(n.split(" "),Vn),o=0;o<r.length;o++){var s,a;o==r.length-1?(a=r.join(" "),s=i):(a=r.slice(0,o+1).join(" "),s="...");var l=e[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else e[a]=s}delete t[n]}for(var c in e)t[c]=e[c];return t};var hs=t.lookupKey=function(t,e,n,i){var r=(e=Un(e)).call?e.call(t,i):e[t];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return hs(t,e.fallthrough,n,i);for(var o=0;o<e.fallthrough.length;o++){var s=hs(t,e.fallthrough[o],n,i);if(s)return s}}},fs=t.isModifierKey=function(t){var e="string"==typeof t?t:aa[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e},ps=t.keyName=function(t,e){if(ko&&34==t.keyCode&&t.char)return!1;var n=aa[t.keyCode],i=n;return null!=i&&!t.altGraphKey&&(t.altKey&&"Alt"!=n&&(i="Alt-"+i),(Io?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(i="Ctrl-"+i),(Io?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(i="Cmd-"+i),!e&&t.shiftKey&&"Shift"!=n&&(i="Shift-"+i),i)};t.fromTextArea=function(e,n){function i(){e.value=l.getValue()}if((n=n?Hr(n):{}).value=e.value,!n.tabindex&&e.tabIndex&&(n.tabindex=e.tabIndex),!n.placeholder&&e.placeholder&&(n.placeholder=e.placeholder),null==n.autofocus){var r=qr();n.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}if(e.form&&(As(e.form,"submit",i),!n.leaveSubmitMethodAlone)){var o=e.form,s=o.submit;try{var a=o.submit=function(){i(),o.submit=s,o.submit(),o.submit=a}}catch(t){}}n.finishInit=function(t){t.save=i,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,i(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Ps(e.form,"submit",i),"function"==typeof e.form.submit&&(e.form.submit=s))}},e.style.display="none";var l=t((function(t){e.parentNode.insertBefore(t,e.nextSibling)}),n);return l};var gs=t.StringStream=function(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};gs.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var n=e==t;else n=e&&(t.test?t.test(e):t(e));if(n)return++this.pos,e},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Bs(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Bs(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Bs(this.string,null,this.tabSize)-(this.lineStart?Bs(this.string,this.lineStart,this.tabSize):0)},match:function(t,e,n){if("string"!=typeof t){var i=this.string.slice(this.pos).match(t);return i&&i.index>0?null:(i&&!1!==e&&(this.pos+=i[0].length),i)}var r=function(t){return n?t.toLowerCase():t};if(r(this.string.substr(this.pos,t.length))==r(t))return!1!==e&&(this.pos+=t.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}}};var ms=0,vs=t.TextMarker=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++ms};Mr(vs),vs.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&we(t),Er(this,"clear")){var n=this.find();n&&kr(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=ti(s.markedSpans,this);t&&!this.collapsed?Fe(t,er(s),"text"):t&&(null!=a.to&&(r=er(s)),null!=a.from&&(i=er(s))),s.markedSpans=ei(s.markedSpans,a),null==a.from&&this.collapsed&&!Ci(this.doc,s)&&t&&tr(s,ye(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(o=0;o<this.lines.length;++o){var l=yi(this.lines[o]),c=d(l);c>t.display.maxLineLength&&(t.display.maxLine=l,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&$e(t,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Mt(t.doc)),t&&kr(t,"markerCleared",t,this),e&&Ce(t),this.parent&&this.parent.clear()}},vs.prototype.find=function(t,e){var n,i;null==t&&"bookmark"==this.type&&(t=1);for(var r=0;r<this.lines.length;++r){var o=this.lines[r],s=ti(o.markedSpans,this);if(null!=s.from&&(n=No(e?o:er(o),s.from),-1==t))return n;if(null!=s.to&&(i=No(e?o:er(o),s.to),1==t))return i}return n&&{from:n,to:i}},vs.prototype.changed=function(){var t=this.find(-1,!0),e=this,n=this.doc.cm;t&&n&&Me(n,(function(){var i=t.line,r=er(t.line),o=Jt(n,r);if(o&&(oe(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Ci(e.doc,i)&&null!=e.height){var s=e.height;e.height=null;var a=Si(e)-s;a&&tr(i,i.height+a)}}))},vs.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=Lr(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},vs.prototype.detachLine=function(t){if(this.lines.splice(Lr(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}};ms=0;var ys=t.SharedTextMarker=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};Mr(ys),ys.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();kr(this,"clear")}},ys.prototype.find=function(t,e){return this.primary.find(t,e)};var bs=t.LineWidget=function(t,e,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=t,this.node=e};Mr(bs),bs.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,i=er(n);if(null!=i&&e){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(n.widgets=null);var o=Si(this);tr(n,Math.max(0,n.height-o)),t&&Me(t,(function(){ki(t,n,-o),Fe(t,i,"widget")}))}},bs.prototype.changed=function(){var t=this.height,e=this.doc.cm,n=this.line;this.height=null;var i=Si(this)-t;i&&(tr(n,n.height+i),e&&Me(e,(function(){e.curOp.forceUpdate=!0,ki(e,n,i)})))};var ws=t.Line=function(t,e,n){this.text=t,ui(this,e),this.height=n?n(this):1};Mr(ws),ws.prototype.lineNo=function(){return er(this)};var xs={},Cs={};Ui.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,i=t+e;n<i;++n){var r=this.lines[n];this.height-=r.height,Ei(r),kr(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var i=0;i<e.length;++i)e[i].parent=this},iterN:function(t,e,n){for(var i=t+e;t<i;++t)if(n(this.lines[t]))return!0}},Gi.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(t<r){var o=Math.min(e,r-t),s=i.height;if(i.removeInner(t,o),this.height-=s-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(e-=o))break;t=0}else t-=r}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Ui))){var a=[];this.collapse(a),this.children=[new Ui(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(t<=o){if(r.insertInner(t,e,n),r.lines&&r.lines.length>50){for(var s=r.lines.length%25+25,a=s;a<r.lines.length;){var l=new Ui(r.lines.slice(a,a+=25));r.height-=l.height,this.children.splice(++i,0,l),l.parent=this}r.lines=r.lines.slice(0,s),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=new Gi(t.children.splice(t.children.length-5,5));if(t.parent){t.size-=e.size,t.height-=e.height;var n=Lr(t.parent.children,t);t.parent.children.splice(n+1,0,e)}else{var i=new Gi(t.children);i.parent=t,t.children=[i,e],t=i}e.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(t<o){var s=Math.min(e,o-t);if(r.iterN(t,s,n))return!0;if(0==(e-=s))break;t=0}else t-=o}}};var _s=0,ks=t.Doc=function(t,e,n,i){if(!(this instanceof ks))return new ks(t,e,n,i);null==n&&(n=0),Gi.call(this,[new Ui([new ws("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=No(n,0);this.sel=ft(r),this.history=new or(null),this.id=++_s,this.modeOption=e,this.lineSep=i,this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Vi(this,{from:r,to:r,text:t}),Tt(this,ft(r),Hs)};ks.prototype=Fr(Gi.prototype,{constructor:ks,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,i=0;i<e.length;++i)n+=e[i].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Ji(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:Pe((function(t){var e=No(this.first,0),n=this.first+this.size-1;Tn(this,{from:e,to:No(n,Ki(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),Tt(this,ft(e))})),replaceRange:function(t,e,n,i){Pn(this,t,e=gt(this,e),n=n?gt(this,n):e,i)},getRange:function(t,e,n){var i=Zi(this,gt(this,t),gt(this,e));return!1===n?i:i.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(vt(this,t))return Ki(this,t)},getLineNumber:function(t){return er(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Ki(this,t)),yi(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return gt(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Pe((function(t,e,n){_t(this,gt(this,"number"==typeof t?No(t,e||0):t),null,n)})),setSelection:Pe((function(t,e,n){_t(this,gt(this,t),gt(this,e||t),n)})),extendSelection:Pe((function(t,e,n){wt(this,gt(this,t),e&&gt(this,e),n)})),extendSelections:Pe((function(t,e){xt(this,yt(this,t),e)})),extendSelectionsBy:Pe((function(t,e){xt(this,yt(this,Ir(this.sel.ranges,t)),e)})),setSelections:Pe((function(t,e,n){if(t.length){for(var i=0,r=[];i<t.length;i++)r[i]=new dt(gt(this,t[i].anchor),gt(this,t[i].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),Tt(this,ht(r,e),n)}})),addSelection:Pe((function(t,e,n){var i=this.sel.ranges.slice(0);i.push(new dt(gt(this,t),gt(this,e||t))),Tt(this,ht(i,i.length-1),n)})),getSelection:function(t){for(var e,n=this.sel.ranges,i=0;i<n.length;i++){var r=Zi(this,n[i].from(),n[i].to());e=e?e.concat(r):r}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=Zi(this,n[i].from(),n[i].to());!1!==t&&(r=r.join(t||this.lineSeparator())),e[i]=r}return e},replaceSelection:function(t,e,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=t;this.replaceSelections(i,e,n||"+input")},replaceSelections:Pe((function(t,e,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];i[o]={from:s.from(),to:s.to(),text:this.splitLines(t[o]),origin:n}}var a=e&&"end"!=e&&kn(this,i,e);for(o=i.length-1;o>=0;o--)Tn(this,i[o]);a?St(this,a):this.cm&&Nn(this.cm)})),undo:Pe((function(){En(this,"undo")})),redo:Pe((function(){En(this,"redo")})),undoSelection:Pe((function(){En(this,"undo",!0)})),redoSelection:Pe((function(){En(this,"redo",!0)})),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,i=0;i<t.done.length;i++)t.done[i].ranges||++e;for(i=0;i<t.undone.length;i++)t.undone[i].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){this.history=new or(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:mr(this.history.done),undone:mr(this.history.undone)}},setHistory:function(t){var e=this.history=new or(this.history.maxGeneration);e.done=mr(t.done.slice(0),null,!0),e.undone=mr(t.undone.slice(0),null,!0)},addLineClass:Pe((function(t,e,n){return jn(this,t,"gutter"==e?"gutter":"class",(function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[i]){if(Vr(n).test(t[i]))return!1;t[i]+=" "+n}else t[i]=n;return!0}))})),removeLineClass:Pe((function(t,e,n){return jn(this,t,"gutter"==e?"gutter":"class",(function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",r=t[i];if(!r)return!1;if(null==n)t[i]=null;else{var o=r.match(Vr(n));if(!o)return!1;var s=o.index+o[0].length;t[i]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0}))})),addLineWidget:Pe((function(t,e,n){return Ti(this,t,e,n)})),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return Gn(this,gt(this,t),gt(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return Gn(this,t=gt(this,t),t,n,"bookmark")},findMarksAt:function(t){var e=[],n=Ki(this,(t=gt(this,t)).line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=t.ch)&&(null==r.to||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,n){t=gt(this,t),e=gt(this,e);var i=[],r=t.line;return this.iter(t.line,e.line+1,(function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&r==t.line&&t.ch>=l.to||null==l.from&&r!=t.line||null!=l.from&&r==e.line&&l.from>=e.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r})),i},getAllMarks:function(){var t=[];return this.iter((function(e){var n=e.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&t.push(n[i].marker)})),t},posFromIndex:function(t){var e,n=this.first,i=this.lineSeparator().length;return this.iter((function(r){var o=r.text.length+i;if(o>t)return e=t,!0;t-=o,++n})),gt(this,No(n,e))},indexFromPos:function(t){var e=(t=gt(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,(function(t){e+=t.text.length+n})),e},copy:function(t){var e=new ks(Ji(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var i=new ks(Ji(this,e,n),t.mode||this.modeOption,e,this.lineSep);return t.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:t.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Kn(i,Qn(this)),i},unlinkDoc:function(e){if(e instanceof t&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){if(this.linked[n].doc==e){this.linked.splice(n,1),e.unlinkDoc(this),Zn(Qn(this));break}}if(e.history==this.history){var i=[e.id];Xi(e,(function(t){i.push(t.id)}),!0),e.history=new or(null),e.history.done=mr(this.history.done,i),e.history.undone=mr(this.history.undone,i)}},iterLinkedDocs:function(t){Xi(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):ia(t)},lineSeparator:function(){return this.lineSep||"\n"}}),ks.prototype.eachLine=ks.prototype.iter;var Ss="iter insert remove copy getEditor constructor".split(" ");for(var Ts in ks.prototype)ks.prototype.hasOwnProperty(Ts)&&Lr(Ss,Ts)<0&&(t.prototype[Ts]=function(t){return function(){return t.apply(this.doc,arguments)}}(ks.prototype[Ts]));Mr(ks);var Ds=t.e_preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},Es=t.e_stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},Ms=t.e_stop=function(t){Ds(t),Es(t)},As=t.on=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var i=t._handlers||(t._handlers={});(i[e]||(i[e]=[])).push(n)}},Os=[],Ps=t.off=function(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else for(var i=_r(t,e,!1),r=0;r<i.length;++r)if(i[r]==n){i.splice(r,1);break}},Ls=t.signal=function(t,e){var n=_r(t,e,!0);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)},Is=null,$s=30,Fs=t.Pass={toString:function(){return"CodeMirror.Pass"}},Hs={scroll:!1},Ns={origin:"*mouse"},zs={origin:"+move"};Ar.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var Bs=t.countColumn=function(t,e,n,i,r){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var o=i||0,s=r||0;;){var a=t.indexOf("\t",o);if(a<0||a>=e)return s+(e-o);s+=a-o,s+=n-s%n,o=a+1}},js=t.findColumn=function(t,e,n){for(var i=0,r=0;;){var o=t.indexOf("\t",i);-1==o&&(o=t.length);var s=o-i;if(o==t.length||r+s>=e)return i+Math.min(s,e-r);if(r+=o-i,i=o+1,(r+=n-r%n)>=e)return i}},Rs=[""],Ws=function(t){t.select()};Eo?Ws=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:bo&&(Ws=function(t){try{t.select()}catch(t){}});var Ys,qs=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Vs=t.isWordChar=function(t){return/\w/.test(t)||t>"\x80"&&(t.toUpperCase()!=t.toLowerCase()||qs.test(t))},Us=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Ys=document.createRange?function(t,e,n,i){var r=document.createRange();return r.setEnd(i||t,n),r.setStart(t,e),r}:function(t,e,n){var i=document.body.createTextRange();try{i.moveToElementText(t.parentNode)}catch(t){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",e),i};var Gs=t.contains=function(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)};bo&&wo<11&&(qr=function(){try{return document.activeElement}catch(t){return document.body}});var Xs,Qs,Ks,Zs,Js=t.rmClass=function(t,e){var n=t.className,i=Vr(e).exec(n);if(i){var r=n.slice(i.index+i[0].length);t.className=n.slice(0,i.index)+(r?i[1]+r:"")}},ta=t.addClass=function(t,e){var n=t.className;Vr(e).test(n)||(t.className+=(n?" ":"")+e)},ea=!1,na=function(){if(bo&&wo<9)return!1;var t=Rr("div");return"draggable"in t||"dragDrop"in t}(),ia=t.splitLines=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],i=t.length;e<=i;){var r=t.indexOf("\n",e);-1==r&&(r=t.length);var o=t.slice(e,"\r"==t.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),e+=s+1):(n.push(o),e=r+1)}return n}:function(t){return t.split(/\r\n?|\n/)},ra=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},oa="oncopy"in(Ks=Rr("div"))||(Ks.setAttribute("oncopy","return;"),"function"==typeof Ks.oncopy),sa=null,aa=t.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var t=0;t<10;t++)aa[t+48]=aa[t+96]=String(t);for(t=65;t<=90;t++)aa[t]=String.fromCharCode(t);for(t=1;t<=12;t++)aa[t+111]=aa[t+63235]="F"+t}();var la=function(){function t(t){return t<=247?n.charAt(t):1424<=t&&t<=1524?"R":1536<=t&&t<=1773?i.charAt(t-1536):1774<=t&&t<=2220?"r":8192<=t&&t<=8203?"w":8204==t?"b":"L"}function e(t,e,n){this.level=t,this.from=e,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,c="L";return function(n){if(!r.test(n))return!1;for(var i=n.length,u=[],d=0;d<i;++d)u.push(v=t(n.charCodeAt(d)));d=0;for(var h=c;d<i;++d){"m"==(v=u[d])?u[d]=h:h=v}d=0;for(var f=c;d<i;++d){"1"==(v=u[d])&&"r"==f?u[d]="n":s.test(v)&&(f=v,"r"==v&&(u[d]="R"))}for(d=1,h=u[0];d<i-1;++d){"+"==(v=u[d])&&"1"==h&&"1"==u[d+1]?u[d]="1":","!=v||h!=u[d+1]||"1"!=h&&"n"!=h||(u[d]=h),h=v}for(d=0;d<i;++d){if(","==(v=u[d]))u[d]="N";else if("%"==v){for(var p=d+1;p<i&&"%"==u[p];++p);for(var g=d&&"!"==u[d-1]||p<i&&"1"==u[p]?"1":"N",m=d;m<p;++m)u[m]=g;d=p-1}}for(d=0,f=c;d<i;++d){var v=u[d];"L"==f&&"1"==v?u[d]="L":s.test(v)&&(f=v)}for(d=0;d<i;++d)if(o.test(u[d])){for(p=d+1;p<i&&o.test(u[p]);++p);var y="L"==(d?u[d-1]:c),b="L"==(p<i?u[p]:c);for(g=y||b?"L":"R",m=d;m<p;++m)u[m]=g;d=p-1}var w,x=[];for(d=0;d<i;)if(a.test(u[d])){var C=d;for(++d;d<i&&a.test(u[d]);++d);x.push(new e(0,C,d))}else{var _=d,k=x.length;for(++d;d<i&&"L"!=u[d];++d);for(m=_;m<d;)if(l.test(u[m])){_<m&&x.splice(k,0,new e(1,_,m));var S=m;for(++m;m<d&&l.test(u[m]);++m);x.splice(k,0,new e(2,S,m)),_=m}else++m;_<d&&x.splice(k,0,new e(1,_,d))}return 1==x[0].level&&(w=n.match(/^\s+/))&&(x[0].from=w[0].length,x.unshift(new e(0,0,w[0].length))),1==Pr(x).level&&(w=n.match(/\s+$/))&&(Pr(x).to-=w[0].length,x.push(new e(0,i-w[0].length,i))),2==x[0].level&&x.unshift(new e(1,x[0].to,x[0].to)),x[0].level!=Pr(x).level&&x.push(new e(x[0].level,i,i)),x}
}();return t.version="5.16.0",t})),function(t,e){var n=(e.$jhtmlarea={}).browser={};n.msie=!1,n.mozilla=!1,n.safari=!1,n.version=0,navigator.userAgent.match(/MSIE ([0-9]+)\./)?(n.msie=!0,n.version=parseFloat(RegExp.$1)):navigator.userAgent.match(/Trident\/([0-9]+)\./)&&(n.msie=!0,n.version=RegExp.$1,navigator.userAgent.match(/rv:([0-9]+)\./)&&(n.version=parseFloat(RegExp.$1))),navigator.userAgent.match(/Mozilla\/([0-9]+)\./)&&(n.mozilla=!0,0===n.version&&(n.version=parseFloat(RegExp.$1))),navigator.userAgent.match(/Safari ([0-9]+)\./)&&(n.safari=!0,n.version=RegExp.$1,navigator.userAgent.match(/Version\/([0-9]+)\./)&&0===n.version&&(n.version=parseFloat(RegExp.$1))),t.fn.htmlarea=function(t){if(t&&"string"==typeof t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r=i(this[0]),o=r[t];if(o)return o.apply(r,e)}return this.each((function(){i(this,t)}))};var i=e.jHtmlArea=function(t,e){return t.jquery?i(t[0]):t.jhtmlareaObject?t.jhtmlareaObject:new i.fn.init(t,e)};i.fn=i.prototype={jhtmlarea:"0.8",init:function(e,n){if("textarea"===e.nodeName.toLowerCase()){var o=t.extend({},i.defaultOptions,n);e.jhtmlareaObject=this;var s=this.textarea=t(e),a=this.container=t("<div/>").addClass("jHtmlArea").width(s.width()).insertAfter(s),l=this.toolbar=t("<div/>").addClass("ToolBar").appendTo(a);r.initToolBar.call(this,o);var c=this.iframe=t("<iframe/>").height(s.height());c.width(s.width());var u=this.htmlarea=t("<div/>").append(c);a.append(u).append(s.hide()),r.initEditor.call(this,o),r.attachEditorEvents.call(this),c.height(c.height()-l.height()),l.width(s.width()),o.loaded&&o.loaded.call(this)}},dispose:function(){this.textarea.show().insertAfter(this.container),this.container.remove(),this.textarea[0].jhtmlareaObject=null},execCommand:function(t,e,n){this.iframe[0].contentWindow.focus(),this.editor.execCommand(t,e||!1,n||null),this.updateTextArea()},ec:function(t,e,n){this.execCommand(t,e,n)},queryCommandValue:function(t){return this.iframe[0].contentWindow.focus(),this.editor.queryCommandValue(t)},qc:function(t){return this.queryCommandValue(t)},getSelectedHTML:function(){if(n.msie)return this.getRange().htmlText;var e=this.getRange().cloneContents();return t("<p/>").append(t(e)).html()},getSelection:function(){return!0===n.msie&&n.version<11?this.editor.selection:this.iframe[0].contentDocument.defaultView.getSelection()},getRange:function(){var t=this.getSelection();return t?t.getRangeAt?t.getRangeAt(0):t.createRange():null},html:function(t){if(void 0===t)return this.toHtmlString();this.textarea.val(t),this.updateHtmlArea()},pasteHTML:function(e){this.iframe[0].contentWindow.focus();var i=this.getRange();n.msie?i.pasteHTML(e):n.mozilla?(i.deleteContents(),i.insertNode(t(0!=e.indexOf("<")?t("<span/>").append(e):e)[0])):(i.deleteContents(),i.insertNode(t(this.iframe[0].contentWindow.document.createElement("span")).append(t(0!=e.indexOf("<")?"<span>"+e+"</span>":e))[0])),i.collapse(!1),i.select()},cut:function(){this.ec("cut")},copy:function(){this.ec("copy")},paste:function(){this.ec("paste")},bold:function(){this.ec("bold")},italic:function(){this.ec("italic")},underline:function(){this.ec("underline")},strikeThrough:function(){this.ec("strikethrough")},image:function(t){!0!==n.msie||t?this.ec("insertImage",!1,t||prompt("Image URL:","http://")):this.ec("insertImage",!0)},removeFormat:function(){this.ec("removeFormat",!1,[]),this.unlink()},link:function(){!0===n.msie?this.ec("createLink",!0):this.ec("createLink",!1,prompt("Link URL:","http://"))},unlink:function(){this.ec("unlink",!1,[])},orderedList:function(){this.ec("insertorderedlist")},unorderedList:function(){this.ec("insertunorderedlist")},superscript:function(){this.ec("superscript")},subscript:function(){this.ec("subscript")},p:function(){this.formatBlock("<p>")},h1:function(){this.heading(1)},h2:function(){this.heading(2)},h3:function(){this.heading(3)},h4:function(){this.heading(4)},h5:function(){this.heading(5)},h6:function(){this.heading(6)},heading:function(t){this.formatBlock(!0===n.msie?"Heading "+t:"h"+t)},indent:function(){this.ec("indent")},outdent:function(){this.ec("outdent")},insertHorizontalRule:function(){this.ec("insertHorizontalRule",!1,"ht")},justifyLeft:function(){this.ec("justifyLeft")},justifyCenter:function(){this.ec("justifyCenter")},justifyRight:function(){this.ec("justifyRight")},increaseFontSize:function(){!0===n.msie?this.ec("fontSize",!1,this.qc("fontSize")+1):n.safari?this.getRange().surroundContents(t(this.iframe[0].contentWindow.document.createElement("span")).css("font-size","larger")[0]):this.ec("increaseFontSize",!1,"big")},decreaseFontSize:function(){!0===n.msie?this.ec("fontSize",!1,this.qc("fontSize")-1):n.safari?this.getRange().surroundContents(t(this.iframe[0].contentWindow.document.createElement("span")).css("font-size","smaller")[0]):this.ec("decreaseFontSize",!1,"small")},forecolor:function(t){this.ec("foreColor",!1,void 0!==t?t:prompt("Enter HTML Color:","#"))},formatBlock:function(t){this.ec("formatblock",!1,t||null)},showHTMLView:function(){this.updateTextArea(),this.textarea.show(),this.htmlarea.hide(),t("ul li:not(li:has(a.html))",this.toolbar).hide(),t("ul:not(:has(:visible))",this.toolbar).hide(),t("ul li a.html",this.toolbar).addClass("highlighted")},hideHTMLView:function(){this.updateHtmlArea(),this.textarea.hide(),this.htmlarea.show(),t("ul",this.toolbar).show(),t("ul li",this.toolbar).show().find("a.html").removeClass("highlighted")},toggleHTMLView:function(){this.textarea.is(":hidden")?this.showHTMLView():this.hideHTMLView()},toHtmlString:function(){return this.editor.body.innerHTML},toString:function(){return this.editor.body.innerText},updateTextArea:function(){this.textarea.val(this.toHtmlString())},updateHtmlArea:function(){this.editor.body.innerHTML=this.textarea.val()}},i.fn.init.prototype=i.fn,i.defaultOptions={toolbar:[["html"],["bold","italic","underline","strikethrough","|","subscript","superscript"],["increasefontsize","decreasefontsize"],["orderedlist","unorderedlist"],["indent","outdent"],["justifyleft","justifycenter","justifyright"],["link","unlink","image","horizontalrule"],["p","h1","h2","h3","h4","h5","h6"],["cut","copy","paste"]],css:null,toolbarText:{bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strike-Through",cut:"Cut",copy:"Copy",paste:"Paste",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",p:"Paragraph",indent:"Indent",outdent:"Outdent",horizontalrule:"Insert Horizontal Rule",justifyleft:"Left Justify",justifycenter:"Center Justify",justifyright:"Right Justify",increasefontsize:"Increase Font Size",decreasefontsize:"Decrease Font Size",forecolor:"Text Color",link:"Insert Link",unlink:"Remove Link",image:"Insert Image",orderedlist:"Insert Ordered List",unorderedlist:"Insert Unordered List",subscript:"Subscript",superscript:"Superscript",html:"Show/Hide HTML Source View"}};var r={toolbarButtons:{strikethrough:"strikeThrough",orderedlist:"orderedList",unorderedlist:"unorderedList",horizontalrule:"insertHorizontalRule",justifyleft:"justifyLeft",justifycenter:"justifyCenter",justifyright:"justifyRight",increasefontsize:"increaseFontSize",decreasefontsize:"decreaseFontSize",html:function(){this.toggleHTMLView()}},initEditor:function(t){var e=this.editor=this.iframe[0].contentWindow.document;if(e.designMode="on",e.open(),e.write(this.textarea.val()),e.close(),t.css){var n=e.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=t.css,e.getElementsByTagName("head")[0].appendChild(n)}},initToolBar:function(e){function n(n){for(var s=t("<ul/>").appendTo(i.toolbar),a=0;a<n.length;a++){var l=n[a];if("string"===(typeof l).toLowerCase())if("|"===l)s.append(t('<li class="separator"/>'));else{var c=function(t){var e=r.toolbarButtons[t]||t;return"function"===(typeof e).toLowerCase()?function(t){e.call(this,t)}:function(){this[e](),this.editor.body.focus()}}(l.toLowerCase()),u=e.toolbarText[l.toLowerCase()];s.append(o(l.toLowerCase(),u||l,c))}else s.append(o(l.css,l.text,l.action))}}var i=this,o=function(e,n,r){return t("<li/>").append(t("<a href='javascript:void(0);'/>").addClass(e).attr("title",n).click((function(){r.call(i,t(this))})))};if(0!==e.toolbar.length&&r.isArray(e.toolbar[0]))for(var s=0;s<e.toolbar.length;s++)n(e.toolbar[s]);else n(e.toolbar)},attachEditorEvents:function(){var n=this,i=function(){n.updateHtmlArea()};this.textarea.click(i).keyup(i).keydown(i).mousedown(i).blur(i);var r=function(){n.updateTextArea()};if(t(this.editor.body).click(r).keyup(r).keydown(r).mousedown(r).blur(r),t("form").submit((function(){n.toggleHTMLView(),n.toggleHTMLView()})),e.__doPostBack){var o=__doPostBack;e.__doPostBack=function(){return n&&n.toggleHTMLView&&(n.toggleHTMLView(),n.toggleHTMLView()),o.apply(e,arguments)}}},isArray:function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&"function"==typeof t.splice&&!t.propertyIsEnumerable("length")}}}(jQuery,window),function(t){if(jHtmlArea){var e=jHtmlArea.fn.forecolor;jHtmlArea.fn.forecolor=function(n){if(n)e.call(this,n);else{var i=this,r=this.getRange();jHtmlAreaColorPickerMenu(t(".forecolor",this.toolbar),{colorChosen:function(t){!0===$jhtmlarea.browser.msie&&$jhtmlarea.browser.version<11?r.execCommand("ForeColor",!1,t):i.forecolor(t)}})}}}var n=window.jHtmlAreaColorPickerMenu=function(t,e){return new jHtmlAreaColorPickerMenu.fn.init(t,e)};n.fn=n.prototype={jhtmlareacolorpickermenu:"0.8",init:function(e,i){var r=t.extend({},n.defaultOptions,i),o=this,s=this.owner=t(e),a=s.position();n.instance&&n.instance.hide(),jHtmlAreaColorPickerMenu.instance=this;for(var l=this.picker=t("<div/>").css({position:"absolute",left:a.left+r.offsetLeft,top:a.top+s.height()+r.offsetTop,"z-index":r["z-index"]}).addClass("jHtmlAreaColorPickerMenu"),c=0;c<r.colors.length;c++){var u=r.colors[c];t("<div/>").css("background-color",u).appendTo(l).click(function(t){return function(){r.colorChosen&&r.colorChosen.call(this,t),o.hide()}}(u))}t("<div/>").html("<div></div>Automatic").addClass("automatic").appendTo(l).click((function(){r.colorChosen&&r.colorChosen.call(this,null),o.hide()}));var d=!1;l.appendTo(s.parent()).show().mouseout((function(){d=!0,o.currentTimeout=window.setTimeout((function(){!0===d&&o.hide()}),1e3)})).mouseover((function(){o.currentTimeout&&(window.clearTimeout(o.currentTimeout),o.currentTimeout=null),d=!1}))},hide:function(){this.picker.hide(),this.picker.remove()}},n.fn.init.prototype=n.fn,n.defaultOptions={"z-index":0,offsetTop:0,offsetLeft:0,colors:["#ffffff","#cccccc","#c0c0c0","#999999","#666666","#333333","#000000","#ffcccc","#ff6666","#ff0000","#cc0000","#990000","#660000","#330000","#ffcc99","#ff9966","#ff9900","#ff6600","#cc6600","#993300","#663300","#ffff99","#ffff66","#ffcc66","#ffcc33","#cc9933","#996633","#663333","#ffffcc","#ffff33","#ffff00","#ffcc00","#999900","#666600","#333300","#99ff99","#66ff99","#33ff33","#33cc00","#009900","#006600","#003300","#99FFFF","#33FFFF","#66CCCC","#00CCCC","#339999","#336666","#003333","#CCFFFF","#66FFFF","#33CCFF","#3366FF","#3333FF","#000099","#000066","#CCCCFF","#9999FF","#6666CC","#6633FF","#6600CC","#333399","#330099","#FFCCFF","#FF99FF","#CC66CC","#CC33CC","#993399","#663366","#330033"],colorChosen:null}}(jQuery),function(){function t(t){"use strict";var e={omitExtraWLInCodeBlocks:{default:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{default:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{default:!1,describe:"Specify a prefix to generated header ids",type:"string"},headerLevelStart:{default:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{default:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{default:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},literalMidWordUnderscores:{default:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},strikethrough:{default:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{default:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{default:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{default:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{default:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{default:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"}};if(!1===t)return JSON.parse(JSON.stringify(e));var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i].default);return n}function e(t,e){"use strict";var n=e?"Error in "+e+" extension->":"Error in unnamed extension",r={valid:!0,error:""};i.helper.isArray(t)||(t=[t]);for(var o=0;o<t.length;++o){var s=n+" sub-extension "+o+": ",a=t[o];if("object"!=typeof a)return r.valid=!1,r.error=s+"must be an object, but "+typeof a+" given",r;if(!i.helper.isString(a.type))return r.valid=!1,r.error=s+'property "type" must be a string, but '+typeof a.type+" given",r;var l=a.type=a.type.toLowerCase();if("language"===l&&(l=a.type="lang"),"html"===l&&(l=a.type="output"),"lang"!==l&&"output"!==l)return r.valid=!1,r.error=s+"type "+l+' is not recognized. Valid values: "lang" or "output"',r;if(a.filter){if("function"!=typeof a.filter)return r.valid=!1,r.error=s+'"filter" must be a function, but '+typeof a.filter+" given",r}else{if(!a.regex)return r.valid=!1,r.error=s+'extensions must define either a "regex" property or a "filter" method',r;if(i.helper.isString(a.regex)&&(a.regex=new RegExp(a.regex,"g")),!a.regex instanceof RegExp)return r.valid=!1,r.error=s+'"regex" property must either be a string or a RegExp object, but '+typeof a.regex+" given",r;if(i.helper.isUndefined(a.replace))return r.valid=!1,r.error=s+'"regex" extensions must implement a replace string or function',r}if(i.helper.isUndefined(a.filter)&&i.helper.isUndefined(a.regex))return r.valid=!1,r.error=s+"output extensions must define a filter property",r}return r}function n(t,e){"use strict";return"~E"+e.charCodeAt(0)+"E"}var i={},r={},o={},s=t(!0),a={github:{omitExtraWLInCodeBlocks:!0,prefixHeaderId:"user-content-",simplifiedAutoLink:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0},vanilla:t(!0)};i.helper={},i.extensions={},i.setOption=function(t,e){"use strict";return s[t]=e,this},i.getOption=function(t){"use strict";return s[t]},i.getOptions=function(){"use strict";return s},i.resetOptions=function(){"use strict";s=t(!0)},i.setFlavor=function(t){"use strict";if(a.hasOwnProperty(t)){var e=a[t];for(var n in e)e.hasOwnProperty(n)&&(s[n]=e[n])}},i.getDefaultOptions=function(e){"use strict";return t(e)},i.subParser=function(t,e){"use strict";if(i.helper.isString(t)){if(void 0===e){if(r.hasOwnProperty(t))return r[t];throw Error("SubParser named "+t+" not registered!")}r[t]=e}},i.extension=function(t,n){"use strict";if(!i.helper.isString(t))throw Error("Extension 'name' must be a string");if(t=i.helper.stdExtName(t),i.helper.isUndefined(n)){if(!o.hasOwnProperty(t))throw Error("Extension named "+t+" is not registered!");return o[t]}"function"==typeof n&&(n=n()),i.helper.isArray(n)||(n=[n]);var r=e(n,t);if(!r.valid)throw Error(r.error);o[t]=n},i.getAllExtensions=function(){"use strict";return o},i.removeExtension=function(t){"use strict";delete o[t]},i.resetExtensions=function(){"use strict";o={}},i.validateExtension=function(t){"use strict";var n=e(t,null);return!!n.valid||(console.warn(n.error),!1)},i.hasOwnProperty("helper")||(i.helper={}),i.helper.isString=function(t){"use strict";return"string"==typeof t||t instanceof String},i.helper.forEach=function(t,e){"use strict";if("function"==typeof t.forEach)t.forEach(e);else for(var n=0;n<t.length;n++)e(t[n],n,t)},i.helper.isArray=function(t){"use strict";return t.constructor===Array},i.helper.isUndefined=function(t){"use strict";return void 0===t},i.helper.stdExtName=function(t){"use strict";return t.replace(/[_-]||\s/g,"").toLowerCase()},i.helper.escapeCharactersCallback=n,i.helper.escapeCharacters=function(t,e,i){"use strict";var r="(["+e.replace(/([\[\]\\])/g,"\\$1")+"])";i&&(r="\\\\"+r);var o=new RegExp(r,"g");return t=t.replace(o,n)},i.helper.isUndefined(console)&&(console={warn:function(t){"use strict";alert(t)},log:function(t){"use strict";alert(t)}}),i.Converter=function(t){"use strict";function n(){for(var e in t=t||{},s)s.hasOwnProperty(e)&&(u[e]=s[e]);if("object"!=typeof t)throw Error("Converter expects the passed parameter to be an object, but "+typeof t+" was passed instead.");for(var n in t)t.hasOwnProperty(n)&&(u[n]=t[n]);u.extensions&&i.helper.forEach(u.extensions,l)}function l(t,n){if(n=n||null,i.helper.isString(t)){if(n=t=i.helper.stdExtName(t),i.extensions[t])return console.warn("DEPRECATION WARNING: "+t+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void c(i.extensions[t],t);if(i.helper.isUndefined(o[t]))throw Error('Extension "'+t+'" could not be loaded. It was either not found or is not a valid extension.');t=o[t]}"function"==typeof t&&(t=t()),i.helper.isArray(t)||(t=[t]);var r=e(t,n);if(!r.valid)throw Error(r.error);for(var s=0;s<t.length;++s)switch(t[s].type){case"lang":d.push(t[s]);break;case"output":h.push(t[s]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function c(t,n){"function"==typeof t&&(t=t(new i.Converter)),i.helper.isArray(t)||(t=[t]);var r=e(t,n);if(!r.valid)throw Error(r.error);for(var o=0;o<t.length;++o)switch(t[o].type){case"lang":d.push(t[o]);break;case"output":h.push(t[o]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}var u={},d=[],h=[],f=["githubCodeBlocks","hashHTMLBlocks","stripLinkDefinitions","blockGamut","unescapeSpecialChars"];n(),this.makeHtml=function(t){if(!t)return t;var e={gHtmlBlocks:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:d,outputModifiers:h,converter:this};t="\n\n"+(t=(t=(t=(t=t.replace(/~/g,"~T")).replace(/\$/g,"~D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n"))+"\n\n",t=i.subParser("detab")(t,u,e),t=i.subParser("stripBlankLines")(t,u,e),i.helper.forEach(d,(function(n){t=i.subParser("runExtension")(n,t,u,e)}));for(var n=0;n<f.length;++n){var o=f[n];t=r[o](t,u,e)}return t=(t=t.replace(/~D/g,"$$")).replace(/~T/g,"~"),i.helper.forEach(h,(function(n){t=i.subParser("runExtension")(n,t,u,e)})),t},this.setOption=function(t,e){u[t]=e},this.getOption=function(t){return u[t]},this.getOptions=function(){return u},this.addExtension=function(t,e){l(t,e=e||null)},this.useExtension=function(t){l(t)},this.setFlavor=function(t){if(a.hasOwnProperty(t)){var e=a[t];for(var n in e)e.hasOwnProperty(n)&&(u[n]=e[n])}},this.removeExtension=function(t){i.helper.isArray(t)||(t=[t]);for(var e=0;e<t.length;++e){for(var n=t[e],r=0;r<d.length;++r)d[r]===n&&d[r].splice(r,1);for(var o=0;o<h.length;++r)h[o]===n&&h[o].splice(r,1)}},this.getAllExtensions=function(){return{language:d,output:h}}},i.subParser("anchors",(function(t,e,n){"use strict";var r=function(t,e,r,o,s,a,l,c){i.helper.isUndefined(c)&&(c=""),t=e;var u=r,d=o.toLowerCase(),h=s,f=c;if(!h)if(d||(d=u.toLowerCase().replace(/ ?\n/g," ")),h="#"+d,i.helper.isUndefined(n.gUrls[d])){if(!(t.search(/\(\s*\)$/m)>-1))return t;h=""}else h=n.gUrls[d],i.helper.isUndefined(n.gTitles[d])||(f=n.gTitles[d]);var p='<a href="'+(h=i.helper.escapeCharacters(h,"*_",!1))+'"';return""!==f&&null!==f&&(f=f.replace(/"/g,"&quot;"),p+=' title="'+(f=i.helper.escapeCharacters(f,"*_",!1))+'"'),p+=">"+u+"</a>"};return t=(t=(t=t.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,r)).replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,r)).replace(/(\[([^\[\]]+)\])()()()()()/g,r)})),i.subParser("autoLinks",(function(t,e){"use strict";function n(t,e){var n=i.subParser("unescapeSpecialChars")(e);return i.subParser("encodeEmailAddress")(n)}var r=/\b(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+)(?=\s|$)(?!["<>])/gi,o=/<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)>/gi,s=/\b(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)\b/gi,a=/<(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi;return t=(t=t.replace(o,'<a href="$1">$1</a>')).replace(a,n),e.simplifiedAutoLink&&(t=(t=t.replace(r,'<a href="$1">$1</a>')).replace(s,n)),t})),i.subParser("blockGamut",(function(t,e,n){"use strict";t=i.subParser("blockQuotes")(t,e,n),t=i.subParser("headers")(t,e,n);var r=i.subParser("hashBlock")("<hr />",e,n);return t=(t=(t=t.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,r)).replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,r)).replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,r),t=i.subParser("lists")(t,e,n),t=i.subParser("codeBlocks")(t,e,n),t=i.subParser("tables")(t,e,n),t=i.subParser("hashHTMLBlocks")(t,e,n),t=i.subParser("paragraphs")(t,e,n)})),i.subParser("blockQuotes",(function(t,e,n){"use strict";return t=t.replace(/((^[ \t]{0,3}>[ \t]?.+\n(.+\n)*\n*)+)/gm,(function(t,r){var o=r;return o=(o=(o=o.replace(/^[ \t]*>[ \t]?/gm,"~0")).replace(/~0/g,"")).replace(/^[ \t]+$/gm,""),o=i.subParser("githubCodeBlocks")(o,e,n),o=(o=(o=i.subParser("blockGamut")(o,e,n)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,(function(t,e){var n=e;return n=(n=n.replace(/^  /gm,"~0")).replace(/~0/g,"")})),i.subParser("hashBlock")("<blockquote>\n"+o+"\n</blockquote>",e,n)}))})),i.subParser("codeBlocks",(function(t,e,n){"use strict";var r=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g;return t=(t=(t+="~0").replace(r,(function(t,r,o){var s=r,a=o,l="\n";return s=i.subParser("outdent")(s),s=i.subParser("encodeCode")(s),s=(s=(s=i.subParser("detab")(s)).replace(/^\n+/g,"")).replace(/\n+$/g,""),e.omitExtraWLInCodeBlocks&&(l=""),s="<pre><code>"+s+l+"</code></pre>",i.subParser("hashBlock")(s,e,n)+a}))).replace(/~0/,"")})),i.subParser("codeSpans",(function(t){"use strict";return t=(t=t.replace(/(<code[^><]*?>)([^]*?)<\/code>/g,(function(t,e,n){return n=(n=n.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),e+(n=i.subParser("encodeCode")(n))+"</code>"}))).replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,(function(t,e,n,r){var o=r;return o=(o=o.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),e+"<code>"+(o=i.subParser("encodeCode")(o))+"</code>"}))})),i.subParser("detab",(function(t){"use strict";return t=(t=(t=(t=(t=t.replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"~A~B")).replace(/~B(.+?)~A/g,(function(t,e){for(var n=e,i=4-n.length%4,r=0;r<i;r++)n+=" ";return n}))).replace(/~A/g,"    ")).replace(/~B/g,"")})),i.subParser("encodeAmpsAndAngles",(function(t){"use strict";return t=(t=t.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?\$!])/gi,"&lt;")})),i.subParser("encodeBackslashEscapes",(function(t){"use strict";return t=(t=t.replace(/\\(\\)/g,i.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+-.!])/g,i.helper.escapeCharactersCallback)})),i.subParser("encodeCode",(function(t){"use strict";return t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),t=i.helper.escapeCharacters(t,"*_{}[]\\",!1)})),i.subParser("encodeEmailAddress",(function(t){"use strict";var e=[function(t){return"&#"+t.charCodeAt(0)+";"},function(t){return"&#x"+t.charCodeAt(0).toString(16)+";"},function(t){return t}];return t=(t='<a href="'+(t=(t="mailto:"+t).replace(/./g,(function(t){if("@"===t)t=e[Math.floor(2*Math.random())](t);else if(":"!==t){var n=Math.random();t=n>.9?e[2](t):n>.45?e[1](t):e[0](t)}return t})))+'">'+t+"</a>").replace(/">.+:/g,'">')})),i.subParser("escapeSpecialCharsWithinTagAttributes",(function(t){"use strict";var e=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return t=t.replace(e,(function(t){var e=t.replace(/(.)<\/?code>(?=.)/g,"$1`");return e=i.helper.escapeCharacters(e,"\\`*_",!1)}))})),i.subParser("githubCodeBlocks",(function(t,e,n){"use strict";return e.ghCodeBlocks?t=(t=(t+="~0").replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,(function(t,r,o){var s=e.omitExtraWLInCodeBlocks?"":"\n";return o=i.subParser("encodeCode")(o),o="<pre><code"+(r?' class="'+r+" language-"+r+'"':"")+">"+(o=(o=(o=i.subParser("detab")(o)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+s+"</code></pre>",i.subParser("hashBlock")(o,e,n)}))).replace(/~0/,""):t})),i.subParser("hashBlock",(function(t,e,n){"use strict";return t=t.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(n.gHtmlBlocks.push(t)-1)+"K\n\n"})),i.subParser("hashElement",(function(t,e,n){"use strict";return function(t,e){var i=e;return i=(i=(i=i.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),i="\n\n~K"+(n.gHtmlBlocks.push(i)-1)+"K\n\n"}})),i.subParser("hashHTMLBlocks",(function(t,e,n){"use strict";return t=(t=(t=(t=(t=(t=(t=t.replace(/\n/g,"\n\n")).replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,i.subParser("hashElement")(t,e,n))).replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside|address|audio|canvas|figure|hgroup|output|video)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,i.subParser("hashElement")(t,e,n))).replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,i.subParser("hashElement")(t,e,n))).replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,i.subParser("hashElement")(t,e,n))).replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,i.subParser("hashElement")(t,e,n))).replace(/\n\n/g,"\n")})),i.subParser("headers",(function(t,e,n){"use strict";function r(t){var e,r=t.replace(/[^\w]/g,"").toLowerCase();return n.hashLinkCounts[r]?e=r+"-"+n.hashLinkCounts[r]++:(e=r,n.hashLinkCounts[r]=1),!0===o&&(o="section"),i.helper.isString(o)?o+e:e}var o=e.prefixHeaderId,s=isNaN(parseInt(e.headerLevelStart))?1:parseInt(e.headerLevelStart),a=e.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,l=e.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;return t=(t=(t=t.replace(a,(function(t,o){var a=i.subParser("spanGamut")(o,e,n),l=e.noHeaderId?"":' id="'+r(o)+'"',c="<h"+s+l+">"+a+"</h"+s+">";return i.subParser("hashBlock")(c,e,n)}))).replace(l,(function(t,o){var a=i.subParser("spanGamut")(o,e,n),l=e.noHeaderId?"":' id="'+r(o)+'"',c=s+1,u="<h"+c+l+">"+a+"</h"+c+">";return i.subParser("hashBlock")(u,e,n)}))).replace(/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm,(function(t,o,a){var l=i.subParser("spanGamut")(a,e,n),c=e.noHeaderId?"":' id="'+r(a)+'"',u=s-1+o.length,d="<h"+u+c+">"+l+"</h"+u+">";return i.subParser("hashBlock")(d,e,n)}))})),i.subParser("images",(function(t,e,n){"use strict";function r(t,e,r,o,s,a,l,c){var u=n.gUrls,d=n.gTitles,h=n.gDimensions;if(r=r.toLowerCase(),c||(c=""),""===o||null===o){if(""!==r&&null!==r||(r=e.toLowerCase().replace(/ ?\n/g," ")),o="#"+r,i.helper.isUndefined(u[r]))return t;o=u[r],i.helper.isUndefined(d[r])||(c=d[r]),i.helper.isUndefined(h[r])||(s=h[r].width,a=h[r].height)}e=e.replace(/"/g,"&quot;"),e=i.helper.escapeCharacters(e,"*_",!1);var f='<img src="'+(o=i.helper.escapeCharacters(o,"*_",!1))+'" alt="'+e+'"';return c&&(c=c.replace(/"/g,"&quot;"),f+=' title="'+(c=i.helper.escapeCharacters(c,"*_",!1))+'"'),s&&a&&(f+=' width="'+(s="*"===s?"auto":s)+'"',f+=' height="'+(a="*"===a?"auto":a)+'"'),f+=" />"}var o=/!\[(.*?)]\s?\([ \t]*()<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(['"])(.*?)\6[ \t]*)?\)/g,s=/!\[(.*?)][ ]?(?:\n[ ]*)?\[(.*?)]()()()()()/g;return t=(t=t.replace(s,r)).replace(o,r)})),i.subParser("italicsAndBold",(function(t,e){"use strict";return t=e.literalMidWordUnderscores?(t=(t=(t=t.replace(/(^|\s|>|\b)__(?=\S)([^]+?)__(?=\b|<|\s|$)/gm,"$1<strong>$2</strong>")).replace(/(^|\s|>|\b)_(?=\S)([^]+?)_(?=\b|<|\s|$)/gm,"$1<em>$2</em>")).replace(/\*\*(?=\S)([^]+?)\*\*/g,"<strong>$1</strong>")).replace(/\*(?=\S)([^]+?)\*/g,"<em>$1</em>"):(t=t.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>")).replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")})),i.subParser("lists",(function(t,e,n){"use strict";function r(t,r){n.gListLevel++,t=t.replace(/\n{2,}$/,"\n"),t+="~0";var o=/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+((\[(x| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,s=/\n[ \t]*\n(?!~0)/.test(t);return t=(t=t.replace(o,(function(t,r,o,a,l,c,u){u=u&&""!==u.trim();var d=i.subParser("outdent")(l,e,n),h="";return c&&e.tasklists&&(h=' class="task-list-item" style="list-style-type: none;"',d=d.replace(/^[ \t]*\[(x| )?]/m,(function(){var t='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return u&&(t+=" checked"),t+=">"}))),r||d.search(/\n{2,}/)>-1?(d=i.subParser("githubCodeBlocks")(d,e,n),d=i.subParser("blockGamut")(d,e,n)):(d=(d=i.subParser("lists")(d,e,n)).replace(/\n$/,""),d=s?i.subParser("paragraphs")(d,e,n):i.subParser("spanGamut")(d,e,n)),d="\n<li"+h+">"+d+"</li>\n"}))).replace(/~0/g,""),n.gListLevel--,r&&(t=t.replace(/\s+$/,"")),t}function o(t,e,n){var i="ul"===e?/^ {0,2}\d+\.[ \t]/gm:/^ {0,2}[*+-][ \t]/gm,o=[],s="";if(-1!==t.search(i)){!function t(o){var a=o.search(i);-1!==a?(s+="\n\n<"+e+">"+r(o.slice(0,a),!!n)+"</"+e+">\n\n",i="ul"===(e="ul"===e?"ol":"ul")?/^ {0,2}\d+\.[ \t]/gm:/^ {0,2}[*+-][ \t]/gm,t(o.slice(a))):s+="\n\n<"+e+">"+r(o,!!n)+"</"+e+">\n\n"}(t);for(var a=0;a<o.length;++a);}else s="\n\n<"+e+">"+r(t,!!n)+"</"+e+">\n\n";return s}t+="~0";var s=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return n.gListLevel?t=t.replace(s,(function(t,e,n){return o(e,n.search(/[*+-]/g)>-1?"ul":"ol",!0)})):(s=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,t=t.replace(s,(function(t,e,n,i){return o(n,i.search(/[*+-]/g)>-1?"ul":"ol")}))),t=t.replace(/~0/,"")})),i.subParser("outdent",(function(t){"use strict";return t=(t=t.replace(/^(\t|[ ]{1,4})/gm,"~0")).replace(/~0/g,"")})),i.subParser("paragraphs",(function(t,e,n){"use strict";for(var r=(t=(t=t.replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),o=[],s=r.length,a=0;a<s;a++){var l=r[a];l.search(/~K(\d+)K/g)>=0?o.push(l):l.search(/\S/)>=0&&(l=(l=i.subParser("spanGamut")(l,e,n)).replace(/^([ \t]*)/g,"<p>"),l+="</p>",o.push(l))}for(s=o.length,a=0;a<s;a++)for(;o[a].search(/~K(\d+)K/)>=0;){var c=n.gHtmlBlocks[RegExp.$1];c=c.replace(/\$/g,"$$$$"),o[a]=o[a].replace(/~K\d+K/,c)}return o.join("\n\n")})),i.subParser("runExtension",(function(t,e,n,i){"use strict";if(t.filter)e=t.filter(e,i.converter,n);else if(t.regex){var r=t.regex;!r instanceof RegExp&&(r=new RegExp(r,"g")),e=e.replace(r,t.replace)}return e})),i.subParser("spanGamut",(function(t,e,n){"use strict";return t=i.subParser("codeSpans")(t,e,n),t=i.subParser("escapeSpecialCharsWithinTagAttributes")(t,e,n),t=i.subParser("encodeBackslashEscapes")(t,e,n),t=i.subParser("images")(t,e,n),t=i.subParser("anchors")(t,e,n),t=i.subParser("autoLinks")(t,e,n),t=i.subParser("encodeAmpsAndAngles")(t,e,n),t=i.subParser("italicsAndBold")(t,e,n),t=(t=i.subParser("strikethrough")(t,e,n)).replace(/  +\n/g," <br />\n")})),i.subParser("strikethrough",(function(t,e){"use strict";return e.strikethrough&&(t=t.replace(/(?:~T){2}([^~]+)(?:~T){2}/g,"<del>$1</del>")),t})),i.subParser("stripBlankLines",(function(t){"use strict";return t.replace(/^[ \t]+$/gm,"")})),i.subParser("stripLinkDefinitions",(function(t,e,n){"use strict";var r=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=~0))/gm;return t=(t=(t+="~0").replace(r,(function(t,r,o,s,a,l,c){return r=r.toLowerCase(),n.gUrls[r]=i.subParser("encodeAmpsAndAngles")(o),l?l+c:(c&&(n.gTitles[r]=c.replace(/"|'/g,"&quot;")),e.parseImgDimensions&&s&&a&&(n.gDimensions[r]={width:s,height:a}),"")}))).replace(/~0/,"")})),i.subParser("tables",(function(t,e,n){"use strict";var r=function(){var t,r={};return r.th=function(t,r){var o="";return""===(t=t.trim())?"":(e.tableHeaderId&&(o=' id="'+t.replace(/ /g,"_").toLowerCase()+'"'),t=i.subParser("spanGamut")(t,e,n),"<th"+o+(r=r&&""!==r.trim()?' style="'+r+'"':"")+">"+t+"</th>")},r.td=function(t,r){var o=i.subParser("spanGamut")(t.trim(),e,n);return"<td"+(r=r&&""!==r.trim()?' style="'+r+'"':"")+">"+o+"</td>"},r.ths=function(){for(var t="",e=0,n=[].slice.apply(arguments[0]),i=[].slice.apply(arguments[1]);e<n.length;e+=1)t+=r.th(n[e],i[e])+"\n";return t},r.tds=function(){for(var t="",e=0,n=[].slice.apply(arguments[0]),i=[].slice.apply(arguments[1]);e<n.length;e+=1)t+=r.td(n[e],i[e])+"\n";return t},r.thead=function(){var t,e=[].slice.apply(arguments[0]),n=[].slice.apply(arguments[1]);return t="<thead>\n",t+="<tr>\n",t+=r.ths.apply(this,[e,n]),
t+="</tr>\n",t+="</thead>\n"},r.tr=function(){var t,e=[].slice.apply(arguments[0]),n=[].slice.apply(arguments[1]);return t="<tr>\n",t+=r.tds.apply(this,[e,n]),t+="</tr>\n"},t=function(t){for(var e,n,i=0,o=t.split("\n"),s=[];i<o.length;i+=1){if((e=o[i]).trim().match(/^[|].*[|]$/)){e=e.trim();var a=[],l=o[i+1].trim(),c=[],u=0;if(l.match(/^[|][-=|: ]+[|]$/))for(c=l.substring(1,l.length-1).split("|"),u=0;u<c.length;++u)c[u]=c[u].trim(),c[u].match(/^[:][-=| ]+[:]$/)?c[u]="text-align:center;":c[u].match(/^[-=| ]+[:]$/)?c[u]="text-align:right;":c[u].match(/^[:][-=| ]+$/)?c[u]="text-align:left;":c[u]="";if(a.push("<table>"),n=e.substring(1,e.length-1).split("|"),0===c.length)for(u=0;u<n.length;++u)c.push("text-align:left");if(a.push(r.thead.apply(this,[n,c])),(e=o[++i]).trim().match(/^[|][-=|: ]+[|]$/)){for(e=o[++i],a.push("<tbody>");e.trim().match(/^[|].*[|]$/);)e=e.trim(),a.push(r.tr.apply(this,[e.substring(1,e.length-1).split("|"),c])),e=o[++i];a.push("</tbody>"),a.push("</table>"),s.push(a.join("\n"));continue}e=o[--i]}s.push(e)}return s.join("\n")},{parse:t}};return e.tables?r().parse(t):t})),i.subParser("unescapeSpecialChars",(function(t){"use strict";return t=t.replace(/~E(\d+)E/g,(function(t,e){var n=parseInt(e);return String.fromCharCode(n)}))}));var l=this;"undefined"!=typeof module&&module.exports?module.exports=i:"function"==typeof define&&define.amd?define("showdown",(function(){"use strict";return i})):l.showdown=i}.call(this);class Emitter{on(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this}emit(t,...e){this._callbacks=this._callbacks||{};let n=this._callbacks[t];if(n)for(let t of n)t.apply(this,e);return this}off(t,e){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;let n=this._callbacks[t];if(!n)return this;if(1===arguments.length)return delete this._callbacks[t],this;for(let t=0;t<n.length;t++){if(n[t]===e){n.splice(t,1);break}}return this}}class Dropzone extends Emitter{static initClass(){this.prototype.Emitter=Emitter,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init(){},params(t,e,n){if(n)return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}},accept:(t,e)=>e(),chunksUploaded:function(t,e){e()},fallback(){let t;this.element.className=`${this.element.className} dz-browser-not-supported`;for(let e of this.element.getElementsByTagName("div"))if(/(^| )dz-message($| )/.test(e.className)){t=e,e.className="dz-message";break}t||(t=Dropzone.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t));let e=t.getElementsByTagName("span")[0];return e&&(null!=e.textContent?e.textContent=this.options.dictFallbackMessage:null!=e.innerText&&(e.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize(t,e,n,i){let r={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},o=t.width/t.height;null==e&&null==n?(e=r.srcWidth,n=r.srcHeight):null==e?e=n*o:null==n&&(n=e/o);let s=(e=Math.min(e,r.srcWidth))/(n=Math.min(n,r.srcHeight));if(r.srcWidth>e||r.srcHeight>n)if("crop"===i)o>s?(r.srcHeight=t.height,r.srcWidth=r.srcHeight*s):(r.srcWidth=t.width,r.srcHeight=r.srcWidth/s);else{if("contain"!==i)throw new Error(`Unknown resizeMethod '${i}'`);o>s?n=e/o:e=n*o}return r.srcX=(t.width-r.srcWidth)/2,r.srcY=(t.height-r.srcHeight)/2,r.trgWidth=e,r.trgHeight=n,r},transformFile(t,e){return(this.options.resizeWidth||this.options.resizeHeight)&&t.type.match(/image.*/)?this.resizeImage(t,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,e):e(t)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop(t){return this.element.classList.remove("dz-drag-hover")},dragstart(t){},dragend(t){return this.element.classList.remove("dz-drag-hover")},dragenter(t){return this.element.classList.add("dz-drag-hover")},dragover(t){return this.element.classList.add("dz-drag-hover")},dragleave(t){return this.element.classList.remove("dz-drag-hover")},paste(t){},reset(){return this.element.classList.remove("dz-started")},addedfile(t){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(var e of(t.previewElement=Dropzone.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),t.previewElement.querySelectorAll("[data-dz-name]")))e.textContent=t.name;for(e of t.previewElement.querySelectorAll("[data-dz-size]"))e.innerHTML=this.filesize(t.size);this.options.addRemoveLinks&&(t._removeLink=Dropzone.createElement(`<a class="dz-remove" href="javascript:undefined;" data-dz-remove>${this.options.dictRemoveFile}</a>`),t.previewElement.appendChild(t._removeLink));let n=e=>(e.preventDefault(),e.stopPropagation(),t.status===Dropzone.UPLOADING?Dropzone.confirm(this.options.dictCancelUploadConfirmation,(()=>this.removeFile(t))):this.options.dictRemoveFileConfirmation?Dropzone.confirm(this.options.dictRemoveFileConfirmation,(()=>this.removeFile(t))):this.removeFile(t));for(let e of t.previewElement.querySelectorAll("[data-dz-remove]"))e.addEventListener("click",n)}},removedfile(t){return null!=t.previewElement&&null!=t.previewElement.parentNode&&t.previewElement.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail(t,e){if(t.previewElement){t.previewElement.classList.remove("dz-file-preview");for(let n of t.previewElement.querySelectorAll("[data-dz-thumbnail]"))n.alt=t.name,n.src=e;return setTimeout((()=>t.previewElement.classList.add("dz-image-preview")),1)}},error(t,e){if(t.previewElement){t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error);for(let n of t.previewElement.querySelectorAll("[data-dz-errormessage]"))n.textContent=e}},errormultiple(){},processing(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple(){},uploadprogress(t,e,n){if(t.previewElement)for(let n of t.previewElement.querySelectorAll("[data-dz-uploadprogress]"))"PROGRESS"===n.nodeName?n.value=e:n.style.width=`${e}%`},totaluploadprogress(){},sending(){},sendingmultiple(){},success(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple(){},canceled(t){return this.emit("error",t,this.options.dictUploadCanceled)},canceledmultiple(){},complete(t){if(t._removeLink&&(t._removeLink.innerHTML=this.options.dictRemoveFile),t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple(){},maxfilesexceeded(){},maxfilesreached(){},queuecomplete(){},addedfiles(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}static extend(t,...e){for(let n of e)for(let e in n){let i=n[e];t[e]=i}return t}constructor(t,e){let n,i;if(super(),this.element=t,this.version=Dropzone.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");Dropzone.instances.push(this),this.element.dropzone=this;let r=null!=(i=Dropzone.optionsForElement(this.element))?i:{};if(this.options=Dropzone.extend({},this.defaultOptions,r,null!=e?e:{}),this.options.forceFallback||!Dropzone.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(this.options.uploadMultiple&&this.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),null!=this.options.renameFilename&&(this.options.renameFile=t=>this.options.renameFilename.call(this,t.name,t)),this.options.method=this.options.method.toUpperCase(),(n=this.getExistingFallback())&&n.parentNode&&n.parentNode.removeChild(n),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=Dropzone.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=Dropzone.getElements(this.options.clickable,"clickable")),this.init()}getAcceptedFiles(){return this.files.filter((t=>t.accepted)).map((t=>t))}getRejectedFiles(){return this.files.filter((t=>!t.accepted)).map((t=>t))}getFilesWithStatus(t){return this.files.filter((e=>e.status===t)).map((t=>t))}getQueuedFiles(){return this.getFilesWithStatus(Dropzone.QUEUED)}getUploadingFiles(){return this.getFilesWithStatus(Dropzone.UPLOADING)}getAddedFiles(){return this.getFilesWithStatus(Dropzone.ADDED)}getActiveFiles(){return this.files.filter((t=>t.status===Dropzone.UPLOADING||t.status===Dropzone.QUEUED)).map((t=>t))}init(){if("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(Dropzone.createElement(`<div class="dz-default dz-message"><span>${this.options.dictDefaultMessage}</span></div>`)),this.clickableElements.length){let t=()=>(this.hiddenFileInput&&this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=document.createElement("input"),this.hiddenFileInput.setAttribute("type","file"),(null===this.options.maxFiles||this.options.maxFiles>1)&&this.hiddenFileInput.setAttribute("multiple","multiple"),this.hiddenFileInput.className="dz-hidden-input",this.hiddenFileInput.setAttribute("name",this.options.paramName),null!==this.options.acceptedFiles&&this.hiddenFileInput.setAttribute("accept",this.options.acceptedFiles),null!==this.options.capture&&this.hiddenFileInput.setAttribute("capture",this.options.capture),this.hiddenFileInput.style.visibility="hidden",this.hiddenFileInput.style.position="absolute",this.hiddenFileInput.style.top="0",this.hiddenFileInput.style.left="0",this.hiddenFileInput.style.height="0",this.hiddenFileInput.style.width="0",Dropzone.getElement(this.options.hiddenInputContainer,"hiddenInputContainer").appendChild(this.hiddenFileInput),this.hiddenFileInput.addEventListener("change",(()=>{let{files:e}=this.hiddenFileInput;if(e.length)for(let t of e)this.addFile(t);return this.emit("addedfiles",e),t()})));t()}this.URL=null!==window.URL?window.URL:window.webkitURL;for(let t of this.events)this.on(t,this.options[t]);this.on("uploadprogress",(()=>this.updateTotalUploadProgress())),this.on("removedfile",(()=>this.updateTotalUploadProgress())),this.on("canceled",(t=>this.emit("complete",t))),this.on("complete",(()=>{if(0===this.getAddedFiles().length&&0===this.getUploadingFiles().length&&0===this.getQueuedFiles().length)return setTimeout((()=>this.emit("queuecomplete")),0)}));let t=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:t=>this.emit("dragstart",t),dragenter:e=>(t(e),this.emit("dragenter",e)),dragover:e=>{let n;try{n=e.dataTransfer.effectAllowed}catch(t){}return e.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",t(e),this.emit("dragover",e)},dragleave:t=>this.emit("dragleave",t),drop:e=>(t(e),this.drop(e)),dragend:t=>this.emit("dragend",t)}}],this.clickableElements.forEach((t=>this.listeners.push({element:t,events:{click:e=>((t!==this.element||e.target===this.element||Dropzone.elementInside(e.target,this.element.querySelector(".dz-message")))&&this.hiddenFileInput.click(),!0)}}))),this.enable(),this.options.init.call(this)}destroy(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,Dropzone.instances.splice(Dropzone.instances.indexOf(this),1)}updateTotalUploadProgress(){let t,e=0,n=0;if(this.getActiveFiles().length){for(let t of this.getActiveFiles())e+=t.upload.bytesSent,n+=t.upload.total;t=100*e/n}else t=100;return this.emit("totaluploadprogress",t,n,e)}_getParamName(t){return"function"==typeof this.options.paramName?this.options.paramName(t):`${this.options.paramName}${this.options.uploadMultiple?`[${t}]`:""}`}_renameFile(t){return"function"!=typeof this.options.renameFile?t.name:this.options.renameFile(t)}getFallbackForm(){let t,e;if(t=this.getExistingFallback())return t;let n='<div class="dz-fallback">';this.options.dictFallbackText&&(n+=`<p>${this.options.dictFallbackText}</p>`),n+=`<input type="file" name="${this._getParamName(0)}" ${this.options.uploadMultiple?'multiple="multiple"':void 0} /><input type="submit" value="Upload!"></div>`;let i=Dropzone.createElement(n);return"FORM"!==this.element.tagName?(e=Dropzone.createElement(`<form action="${this.options.url}" enctype="multipart/form-data" method="${this.options.method}"></form>`),e.appendChild(i)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=e?e:i}getExistingFallback(){let t=function(t){for(let e of t)if(/(^| )fallback($| )/.test(e.className))return e};for(let n of["div","form"]){var e;if(e=t(this.element.getElementsByTagName(n)))return e}}setupEventListeners(){return this.listeners.map((t=>(()=>{let e=[];for(let n in t.events){let i=t.events[n];e.push(t.element.addEventListener(n,i,!1))}return e})()))}removeEventListeners(){return this.listeners.map((t=>(()=>{let e=[];for(let n in t.events){let i=t.events[n];e.push(t.element.removeEventListener(n,i,!1))}return e})()))}disable(){return this.clickableElements.forEach((t=>t.classList.remove("dz-clickable"))),this.removeEventListeners(),this.disabled=!0,this.files.map((t=>this.cancelUpload(t)))}enable(){return delete this.disabled,this.clickableElements.forEach((t=>t.classList.add("dz-clickable"))),this.setupEventListeners()}filesize(t){let e=0,n="b";if(t>0){let i=["tb","gb","mb","kb","b"];for(let r=0;r<i.length;r++){let o=i[r];if(t>=Math.pow(this.options.filesizeBase,4-r)/10){e=t/Math.pow(this.options.filesizeBase,4-r),n=o;break}}e=Math.round(10*e)/10}return`<strong>${e}</strong> ${this.options.dictFileSizeUnits[n]}`}_updateMaxFilesReachedClass(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}drop(t){if(!t.dataTransfer)return;this.emit("drop",t);let e=[];for(let n=0;n<t.dataTransfer.files.length;n++)e[n]=t.dataTransfer.files[n];if(this.emit("addedfiles",e),e.length){let{items:n}=t.dataTransfer;n&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(e)}}paste(t){if(null==__guard__(null!=t?t.clipboardData:void 0,(t=>t.items)))return;this.emit("paste",t);let{items:e}=t.clipboardData;return e.length?this._addFilesFromItems(e):void 0}handleFiles(t){for(let e of t)this.addFile(e)}_addFilesFromItems(t){return(()=>{let e=[];for(let i of t){var n;null!=i.webkitGetAsEntry&&(n=i.webkitGetAsEntry())?n.isFile?e.push(this.addFile(i.getAsFile())):n.isDirectory?e.push(this._addFilesFromDirectory(n,n.name)):e.push(void 0):null!=i.getAsFile&&(null==i.kind||"file"===i.kind)?e.push(this.addFile(i.getAsFile())):e.push(void 0)}return e})()}_addFilesFromDirectory(t,e){let n=t.createReader(),i=t=>__guardMethod__(console,"log",(e=>e.log(t)));var r=()=>n.readEntries((t=>{if(t.length>0){for(let n of t)n.isFile?n.file((t=>{if(!this.options.ignoreHiddenFiles||"."!==t.name.substring(0,1))return t.fullPath=`${e}/${t.name}`,this.addFile(t)})):n.isDirectory&&this._addFilesFromDirectory(n,`${e}/${n.name}`);r()}return null}),i);return r()}accept(t,e){return this.options.maxFilesize&&t.size>1024*this.options.maxFilesize*1024?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):Dropzone.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)}addFile(t){return t.upload={uuid:Dropzone.uuidv4(),progress:0,total:t.size,bytesSent:0,filename:this._renameFile(t),chunked:this.options.chunking&&(this.options.forceChunking||t.size>this.options.chunkSize),totalChunkCount:Math.ceil(t.size/this.options.chunkSize)},this.files.push(t),t.status=Dropzone.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,(e=>(e?(t.accepted=!1,this._errorProcessing([t],e)):(t.accepted=!0,this.options.autoQueue&&this.enqueueFile(t)),this._updateMaxFilesReachedClass())))}enqueueFiles(t){for(let e of t)this.enqueueFile(e);return null}enqueueFile(t){if(t.status!==Dropzone.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=Dropzone.QUEUED,this.options.autoProcessQueue)return setTimeout((()=>this.processQueue()),0)}_enqueueThumbnail(t){if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(t),setTimeout((()=>this._processThumbnailQueue()),0)}_processThumbnailQueue(){if(this._processingThumbnail||0===this._thumbnailQueue.length)return;this._processingThumbnail=!0;let t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,(e=>(this.emit("thumbnail",t,e),this._processingThumbnail=!1,this._processThumbnailQueue())))}removeFile(t){if(t.status===Dropzone.UPLOADING&&this.cancelUpload(t),this.files=without(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")}removeAllFiles(t){null==t&&(t=!1);for(let e of this.files.slice())(e.status!==Dropzone.UPLOADING||t)&&this.removeFile(e);return null}resizeImage(t,e,n,i,r){return this.createThumbnail(t,e,n,i,!0,((e,n)=>{if(null==n)return r(t);{let{resizeMimeType:e}=this.options;null==e&&(e=t.type);let i=n.toDataURL(e,this.options.resizeQuality);return"image/jpeg"!==e&&"image/jpg"!==e||(i=ExifRestore.restore(t.dataURL,i)),r(Dropzone.dataURItoBlob(i))}}))}createThumbnail(t,e,n,i,r,o){let s=new FileReader;return s.onload=()=>{if(t.dataURL=s.result,"image/svg+xml"!==t.type)return this.createThumbnailFromUrl(t,e,n,i,r,o);null!=o&&o(s.result)},s.readAsDataURL(t)}createThumbnailFromUrl(t,e,n,i,r,o,s){let a=document.createElement("img");return s&&(a.crossOrigin=s),a.onload=()=>{let s=t=>t(1);return"undefined"!=typeof EXIF&&null!==EXIF&&r&&(s=t=>EXIF.getData(a,(function(){return t(EXIF.getTag(this,"Orientation"))}))),s((r=>{t.width=a.width,t.height=a.height;let s=this.options.resize.call(this,t,e,n,i),l=document.createElement("canvas"),c=l.getContext("2d");switch(l.width=s.trgWidth,l.height=s.trgHeight,r>4&&(l.width=s.trgHeight,l.height=s.trgWidth),r){case 2:c.translate(l.width,0),c.scale(-1,1);break;case 3:c.translate(l.width,l.height),c.rotate(Math.PI);break;case 4:c.translate(0,l.height),c.scale(1,-1);break;case 5:c.rotate(.5*Math.PI),c.scale(1,-1);break;case 6:c.rotate(.5*Math.PI),c.translate(0,-l.width);break;case 7:c.rotate(.5*Math.PI),c.translate(l.height,-l.width),c.scale(-1,1);break;case 8:c.rotate(-.5*Math.PI),c.translate(-l.height,0)}drawImageIOSFix(c,a,null!=s.srcX?s.srcX:0,null!=s.srcY?s.srcY:0,s.srcWidth,s.srcHeight,null!=s.trgX?s.trgX:0,null!=s.trgY?s.trgY:0,s.trgWidth,s.trgHeight);let u=l.toDataURL("image/png");if(null!=o)return o(u,l)}))},null!=o&&(a.onerror=o),a.src=t.dataURL}processQueue(){let{parallelUploads:t}=this.options,e=this.getUploadingFiles().length,n=e;if(e>=t)return;let i=this.getQueuedFiles();if(i.length>0){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,t-e));for(;n<t;){if(!i.length)return;this.processFile(i.shift()),n++}}}processFile(t){return this.processFiles([t])}processFiles(t){for(let e of t)e.processing=!0,e.status=Dropzone.UPLOADING,this.emit("processing",e);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)}_getFilesWithXhr(t){return this.files.filter((e=>e.xhr===t)).map((t=>t))}cancelUpload(t){if(t.status===Dropzone.UPLOADING){let e=this._getFilesWithXhr(t.xhr);for(let t of e)t.status=Dropzone.CANCELED;void 0!==t.xhr&&t.xhr.abort();for(let t of e)this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",e)}else t.status!==Dropzone.ADDED&&t.status!==Dropzone.QUEUED||(t.status=Dropzone.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()}resolveOption(t,...e){return"function"==typeof t?t.apply(this,e):t}uploadFile(t){return this.uploadFiles([t])}uploadFiles(t){this._transformFiles(t,(e=>{if(t[0].upload.chunked){let n=t[0],i=e[0],r=0;n.upload.chunks=[];let o=()=>{let e=0;for(;void 0!==n.upload.chunks[e];)e++;if(e>=n.upload.totalChunkCount)return;r++;let o=e*this.options.chunkSize,s=Math.min(o+this.options.chunkSize,n.size),a={name:this._getParamName(0),data:i.webkitSlice?i.webkitSlice(o,s):i.slice(o,s),filename:n.upload.filename,chunkIndex:e};n.upload.chunks[e]={file:n,index:e,dataBlock:a,status:Dropzone.UPLOADING,progress:0,retries:0},this._uploadData(t,[a])};if(n.upload.finishedChunkUpload=e=>{let i=!0;e.status=Dropzone.SUCCESS,e.dataBlock=null,e.xhr=null;for(let t=0;t<n.upload.totalChunkCount;t++){if(void 0===n.upload.chunks[t])return o();n.upload.chunks[t].status!==Dropzone.SUCCESS&&(i=!1)}i&&this.options.chunksUploaded(n,(()=>{this._finished(t,"",null)}))},this.options.parallelChunkUploads)for(let t=0;t<n.upload.totalChunkCount;t++)o();else o()}else{let n=[];for(let i=0;i<t.length;i++)n[i]={name:this._getParamName(i),data:e[i],filename:t[i].upload.filename};this._uploadData(t,n)}}))}_getChunk(t,e){for(let n=0;n<t.upload.totalChunkCount;n++)if(void 0!==t.upload.chunks[n]&&t.upload.chunks[n].xhr===e)return t.upload.chunks[n]}_uploadData(t,e){let n=new XMLHttpRequest;for(let e of t)e.xhr=n;t[0].upload.chunked&&(t[0].upload.chunks[e[0].chunkIndex].xhr=n);let i=this.resolveOption(this.options.method,t),r=this.resolveOption(this.options.url,t);n.open(i,r,!0),n.timeout=this.resolveOption(this.options.timeout,t),n.withCredentials=!!this.options.withCredentials,n.onload=e=>{this._finishedUploading(t,n,e)},n.ontimeout=()=>{this._handleUploadError(t,n,`Request timedout after ${this.options.timeout} seconds`)},n.onerror=()=>{this._handleUploadError(t,n)},(null!=n.upload?n.upload:n).onprogress=e=>this._updateFilesUploadProgress(t,n,e);let o={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&Dropzone.extend(o,this.options.headers);for(let t in o){let e=o[t];e&&n.setRequestHeader(t,e)}let s=new FormData;if(this.options.params){let e=this.options.params;"function"==typeof e&&(e=e.call(this,t,n,t[0].upload.chunked?this._getChunk(t[0],n):null));for(let t in e){let n=e[t];s.append(t,n)}}for(let e of t)this.emit("sending",e,n,s);this.options.uploadMultiple&&this.emit("sendingmultiple",t,n,s),this._addFormElementData(s);for(let t=0;t<e.length;t++){let n=e[t];s.append(n.name,n.data,n.filename)}this.submitRequest(n,s,t)}_transformFiles(t,e){let n=[],i=0;for(let r=0;r<t.length;r++)this.options.transformFile.call(this,t[r],(o=>{n[r]=o,++i===t.length&&e(n)}))}_addFormElementData(t){if("FORM"===this.element.tagName)for(let e of this.element.querySelectorAll("input, textarea, select, button")){let n=e.getAttribute("name"),i=e.getAttribute("type");if(i&&(i=i.toLowerCase()),null!=n)if("SELECT"===e.tagName&&e.hasAttribute("multiple"))for(let i of e.options)i.selected&&t.append(n,i.value);else(!i||"checkbox"!==i&&"radio"!==i||e.checked)&&t.append(n,e.value)}}_updateFilesUploadProgress(t,e,n){let i;if(void 0!==n){if(i=100*n.loaded/n.total,t[0].upload.chunked){let r=t[0],o=this._getChunk(r,e);o.progress=i,o.total=n.total,o.bytesSent=n.loaded;r.upload.progress=0,r.upload.total=0,r.upload.bytesSent=0;for(let t=0;t<r.upload.totalChunkCount;t++)void 0!==r.upload.chunks[t]&&void 0!==r.upload.chunks[t].progress&&(r.upload.progress+=r.upload.chunks[t].progress,r.upload.total+=r.upload.chunks[t].total,r.upload.bytesSent+=r.upload.chunks[t].bytesSent);r.upload.progress=r.upload.progress/r.upload.totalChunkCount}else for(let e of t)e.upload.progress=i,e.upload.total=n.total,e.upload.bytesSent=n.loaded;for(let e of t)this.emit("uploadprogress",e,e.upload.progress,e.upload.bytesSent)}else{let e=!0;i=100;for(let n of t)100===n.upload.progress&&n.upload.bytesSent===n.upload.total||(e=!1),n.upload.progress=i,n.upload.bytesSent=n.upload.total;if(e)return;for(let e of t)this.emit("uploadprogress",e,i,e.upload.bytesSent)}}_finishedUploading(t,e,n){let i;if(t[0].status!==Dropzone.CANCELED&&4===e.readyState){if("arraybuffer"!==e.responseType&&"blob"!==e.responseType&&(i=e.responseText,e.getResponseHeader("content-type")&&~e.getResponseHeader("content-type").indexOf("application/json")))try{i=JSON.parse(i)}catch(t){n=t,i="Invalid JSON response from server."}this._updateFilesUploadProgress(t),200<=e.status&&e.status<300?t[0].upload.chunked?t[0].upload.finishedChunkUpload(this._getChunk(t[0],e)):this._finished(t,i,n):this._handleUploadError(t,e,i)}}_handleUploadError(t,e,n){if(t[0].status!==Dropzone.CANCELED){if(t[0].upload.chunked&&this.options.retryChunks){let n=this._getChunk(t[0],e);if(n.retries++<this.options.retryChunksLimit)return void this._uploadData(t,[n.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}for(let i of t)this._errorProcessing(t,n||this.options.dictResponseError.replace("{{statusCode}}",e.status),e)}}submitRequest(t,e,n){t.send(e)}_finished(t,e,n){for(let i of t)i.status=Dropzone.SUCCESS,this.emit("success",i,e,n),this.emit("complete",i);if(this.options.uploadMultiple&&(this.emit("successmultiple",t,e,n),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}_errorProcessing(t,e,n){for(let i of t)i.status=Dropzone.ERROR,this.emit("error",i,e,n),this.emit("complete",i);if(this.options.uploadMultiple&&(this.emit("errormultiple",t,e,n),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}static uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){let e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}}Dropzone.initClass(),Dropzone.version="5.5.0",Dropzone.options={},Dropzone.optionsForElement=function(t){return t.getAttribute("id")?Dropzone.options[camelize(t.getAttribute("id"))]:void 0},Dropzone.instances=[],Dropzone.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),
null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},Dropzone.autoDiscover=!0,Dropzone.discover=function(){let t;if(document.querySelectorAll)t=document.querySelectorAll(".dropzone");else{t=[];let e=e=>(()=>{let n=[];for(let i of e)/(^| )dropzone($| )/.test(i.className)?n.push(t.push(i)):n.push(void 0);return n})();e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))}return(()=>{let e=[];for(let n of t)!1!==Dropzone.optionsForElement(n)?e.push(new Dropzone(n)):e.push(void 0);return e})()},Dropzone.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],Dropzone.isBrowserSupported=function(){let t=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(let e of Dropzone.blacklistedBrowsers)e.test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},Dropzone.dataURItoBlob=function(t){let e=atob(t.split(",")[1]),n=t.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(e.length),r=new Uint8Array(i);for(let t=0,n=e.length,i=0<=n;i?t<=n:t>=n;i?t++:t--)r[t]=e.charCodeAt(t);return new Blob([i],{type:n})};const without=(t,e)=>t.filter((t=>t!==e)).map((t=>t)),camelize=t=>t.replace(/[\-_](\w)/g,(t=>t.charAt(1).toUpperCase()));Dropzone.createElement=function(t){let e=document.createElement("div");return e.innerHTML=t,e.childNodes[0]},Dropzone.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},Dropzone.getElement=function(t,e){let n;if("string"==typeof t?n=document.querySelector(t):null!=t.nodeType&&(n=t),null==n)throw new Error(`Invalid \`${e}\` option provided. Please provide a CSS selector or a plain HTML element.`);return n},Dropzone.getElements=function(t,e){let n,i;if(t instanceof Array){i=[];try{for(n of t)i.push(this.getElement(n,e))}catch(t){i=null}}else if("string"==typeof t)for(n of(i=[],document.querySelectorAll(t)))i.push(n);else null!=t.nodeType&&(i=[t]);if(null==i||!i.length)throw new Error(`Invalid \`${e}\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`);return i},Dropzone.confirm=function(t,e,n){return window.confirm(t)?e():null!=n?n():void 0},Dropzone.isValidFile=function(t,e){if(!e)return!0;e=e.split(",");let n=t.type,i=n.replace(/\/.*$/,"");for(let r of e)if(r=r.trim(),"."===r.charAt(0)){if(-1!==t.name.toLowerCase().indexOf(r.toLowerCase(),t.name.length-r.length))return!0}else if(/\/\*$/.test(r)){if(i===r.replace(/\/.*$/,""))return!0}else if(n===r)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each((function(){return new Dropzone(this,t)}))}),"undefined"!=typeof module&&null!==module?module.exports=Dropzone:window.Dropzone=Dropzone,Dropzone.ADDED="added",Dropzone.QUEUED="queued",Dropzone.ACCEPTED=Dropzone.QUEUED,Dropzone.UPLOADING="uploading",Dropzone.PROCESSING=Dropzone.UPLOADING,Dropzone.CANCELED="canceled",Dropzone.ERROR="error",Dropzone.SUCCESS="success";let detectVerticalSquash=function(t){t.naturalWidth;let e=t.naturalHeight,n=document.createElement("canvas");n.width=1,n.height=e;let i=n.getContext("2d");i.drawImage(t,0,0);let{data:r}=i.getImageData(1,0,1,e),o=0,s=e,a=e;for(;a>o;){0===r[4*(a-1)+3]?s=a:o=a,a=s+o>>1}let l=a/e;return 0===l?1:l};var drawImageIOSFix=function(t,e,n,i,r,o,s,a,l,c){let u=detectVerticalSquash(e);return t.drawImage(e,n,i,r,o,s,a,l,c/u)};class ExifRestore{static initClass(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}static encode64(t){let e,n,i,r,o,s="",a="",l="",c=0;for(;e=t[c++],n=t[c++],a=t[c++],i=e>>2,r=(3&e)<<4|n>>4,o=(15&n)<<2|a>>6,l=63&a,isNaN(n)?o=l=64:isNaN(a)&&(l=64),s=s+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l),e=n=a="",i=r=o=l="",c<t.length;);return s}static restore(t,e){if(!t.match("data:image/jpeg;base64,"))return e;let n=this.decode64(t.replace("data:image/jpeg;base64,","")),i=this.slice2Segments(n),r=this.exifManipulation(e,i);return`data:image/jpeg;base64,${this.encode64(r)}`}static exifManipulation(t,e){let n=this.getExifArray(e),i=this.insertExif(t,n);return new Uint8Array(i)}static getExifArray(t){let e,n=0;for(;n<t.length;){if(e=t[n],255===e[0]&225===e[1])return e;n++}return[]}static insertExif(t,e){let n=t.replace("data:image/jpeg;base64,",""),i=this.decode64(n),r=i.indexOf(255,3),o=i.slice(0,r),s=i.slice(r),a=o;return a=a.concat(e),a=a.concat(s),a}static slice2Segments(t){let e=0,n=[];for(;;){if(255===t[e]&218===t[e+1])break;if(255===t[e]&216===t[e+1])e+=2;else{let i=e+(256*t[e+2]+t[e+3])+2,r=t.slice(e,i);n.push(r),e=i}if(e>t.length)break}return n}static decode64(t){let e,n,i,r,o,s="",a="",l=0,c=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(t)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");i=this.KEY_STR.indexOf(t.charAt(l++)),r=this.KEY_STR.indexOf(t.charAt(l++)),o=this.KEY_STR.indexOf(t.charAt(l++)),a=this.KEY_STR.indexOf(t.charAt(l++)),e=i<<2|r>>4,n=(15&r)<<4|o>>2,s=(3&o)<<6|a,c.push(e),64!==o&&c.push(n),64!==a&&c.push(s),e=n=s="",i=r=o=a="",l<t.length;);return c}}ExifRestore.initClass();let contentLoaded=function(t,e){let n=!1,i=!0,r=t.document,o=r.documentElement,s=r.addEventListener?"addEventListener":"attachEvent",a=r.addEventListener?"removeEventListener":"detachEvent",l=r.addEventListener?"":"on";var c=function(i){if("readystatechange"!==i.type||"complete"===r.readyState)return("load"===i.type?t:r)[a](l+i.type,c,!1),!n&&(n=!0)?e.call(t,i.type||i):void 0},u=function(){try{o.doScroll("left")}catch(t){return void setTimeout(u,50)}return c("poll")};if("complete"!==r.readyState){if(r.createEventObject&&o.doScroll){try{i=!t.frameElement}catch(t){}i&&u()}return r[s](l+"DOMContentLoaded",c,!1),r[s](l+"readystatechange",c,!1),t[s](l+"load",c,!1)}};Dropzone._autoDiscoverFunction=function(){if(Dropzone.autoDiscover)return Dropzone.discover()},contentLoaded(window,Dropzone._autoDiscoverFunction),Dropzone.autoDiscover=!1,CodeMirror.defineMode("markdown",(function(t,e){function n(t,e,n){return e.f=e.inline=n,n(t,e)}function i(t,e,n){return e.f=e.block=n,n(t,e)}function r(t){return t.linkTitle=!1,t.em=!1,t.strong=!1,t.quote=!1,m||t.f!=s||(t.f=u,t.block=o),null}function o(t,r){if(!1!==r.list&&r.indentationDiff>=0?(r.indentationDiff<4&&(r.indentation-=r.indentationDiff),r.list=null):r.list=!1,r.indentationDiff>=4)return r.indentation-=4,t.skipToEnd(),k;if(t.eatSpace())return null;if("#"===t.peek()||x&&t.match(z))r.header=!0;else if(t.eat(">"))r.indentation++,r.quote=!0;else{if("["===t.peek())return n(t,r,h);if(t.match(F,!0))return D;if(t.match(H,!0)||t.match(N,!0))r.indentation+=4,r.list=!0;else if(e.fencedCodeBlocks&&t.match(/^```([\w+#]*)/,!0))return r.localMode=b(RegExp.$1),r.localMode&&(r.localState=r.localMode.startState()),i(t,r,a),k}return n(t,r,r.inline)}function s(t,e){var n=v.token(t,e.htmlState);return m&&"tag"===n&&"openTag"!==e.htmlState.type&&!e.htmlState.context&&(e.f=u,e.block=o),e.md_inside&&-1!=t.current().indexOf(">")&&(e.f=u,e.block=o,e.htmlState.context=void 0),n}function a(t,e){return t.sol()&&t.match(/^```/,!0)?(e.localMode=e.localState=null,e.f=u,e.block=o,k):e.localMode?e.localMode.token(t,e.localState):(t.skipToEnd(),k)}function l(t){var e=[];return t.strong?e.push(t.em?$:I):t.em&&e.push(L),t.linkText&&e.push(O),t.code&&e.push(k),t.header&&e.push(_),t.quote&&e.push(S),!1!==t.list&&e.push(T),e.length?e.join(" "):null}function c(t,e){if(t.match(B,!0))return l(e)}function u(t,r){var o=r.text(t,r);if(void 0!==o)return o;if(r.list)return r.list=null,T;var a=t.next();if("\\"===a)return t.next(),l(r);if(r.linkTitle){r.linkTitle=!1;var c=a;"("===a&&(c=")");var u="^\\s*(?:[^"+(c=(c+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+c;if(t.match(new RegExp(u),!0))return P}if("`"===a){var h=l(r),f=t.pos;t.eatWhile("`");var p=1+t.pos-f;return r.code?p===w?(r.code=!1,h):l(r):(w=p,r.code=!0,l(r))}if(r.code)return l(r);if("!"===a&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.match(/\[[^\]]*\]/),r.inline=r.f=d,E;if("["===a&&t.match(/.*\](\(| ?\[)/,!1))return r.linkText=!0,l(r);if("]"===a&&r.linkText){var m=l(r);return r.linkText=!1,r.inline=r.f=d,m}if("<"===a&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!0))return n(t,r,g(M,">"));if("<"===a&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!0))return n(t,r,g(A,">"));if("<"===a&&t.match(/^\w/,!1)){if(-1!=t.string.indexOf(">")){var v=t.string.substring(1,t.string.indexOf(">"));/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(v)&&(r.md_inside=!0)}return t.backUp(1),i(t,r,s)}if("<"===a&&t.match(/^\/\w*?>/))return r.md_inside=!1,"tag";var y=!1;if(!e.underscoresBreakWords&&"_"===a&&"_"!==t.peek()&&t.match(/(\w)/,!1)){var b=t.pos-2;if(b>=0){var x=t.string.charAt(b);"_"!==x&&x.match(/(\w)/,!1)&&(y=!0)}}h=l(r);if("*"===a||"_"===a&&!y){if(r.strong===a&&t.eat(a))return r.strong=!1,h;if(!r.strong&&t.eat(a))return r.strong=a,l(r);if(r.em===a)return r.em=!1,h;if(!r.em)return r.em=a,l(r)}else if(" "===a&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return l(r);t.backUp(1)}return l(r)}function d(t,e){if(t.eatSpace())return null;var i=t.next();return"("===i||"["===i?n(t,e,g(P,"("===i?")":"]")):"error"}function h(t,e){return t.match(/^[^\]]*\]:/,!0)?(e.f=f,O):n(t,e,u)}function f(t,e){return t.eatSpace()?null:(t.match(/^[^\s]+/,!0),void 0===t.peek()?e.linkTitle=!0:t.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),e.f=e.inline=u,P)}function p(t){return j[t]||(t=(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),j[t]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+t+")")),j[t]}function g(t,e,n){return n=n||u,function(i,r){return i.match(p(e)),r.inline=r.f=n,t}}var m=CodeMirror.mimeModes.hasOwnProperty("text/html"),v=CodeMirror.getMode(t,m?"text/html":"text/plain"),y={html:"htmlmixed",js:"javascript",json:"application/json",c:"text/x-csrc","c++":"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp","c#":"text/x-csharp",scala:"text/x-scala"},b=function(){var e,n={},i={},r=[];for(var o in CodeMirror.modes)CodeMirror.modes.propertyIsEnumerable(o)&&r.push(o);for(e=0;e<r.length;e++)n[r[e]]=r[e];var s=[];for(var o in CodeMirror.mimeModes)CodeMirror.mimeModes.propertyIsEnumerable(o)&&s.push({mime:o,mode:CodeMirror.mimeModes[o]});for(e=0;e<s.length;e++)i[s[e].mime]=s[e].mime;for(var a in y)(y[a]in n||y[a]in i)&&(n[a]=y[a]);return function(e){return n[e]?CodeMirror.getMode(t,n[e]):null}}();void 0===e.underscoresBreakWords&&(e.underscoresBreakWords=!0),void 0===e.fencedCodeBlocks&&(e.fencedCodeBlocks=!1);var w=0,x=!1,C=!1,_="header",k="comment",S="quote",T="string",D="hr",E="tag",M="link",A="link",O="link",P="string",L="em",I="strong",$="emstrong",F=/^([*\-=_])(?:\s*\1){2,}\s*$/,H=/^[*\-+]\s+/,N=/^[0-9]+\.\s+/,z=/^(?:\={1,}|-{1,})$/,B=/^[^!\[\]*_\\<>` "'(]+/,j=[];return{startState:function(){return x=!1,C=!1,{f:o,block:o,htmlState:CodeMirror.startState(v),indentation:0,inline:u,text:c,linkText:!1,linkTitle:!1,em:!1,strong:!1,header:!1,list:!1,quote:!1}},copyState:function(t){return{f:t.f,block:t.block,htmlState:CodeMirror.copyState(v,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?CodeMirror.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,linkTitle:t.linkTitle,em:t.em,strong:t.strong,header:t.header,list:t.list,quote:t.quote,md_inside:t.md_inside}},token:function(t,e){if(t.sol()){if(t.match(/^\s*$/,!0))return x=!1,r(e);C&&(x=!0,C=!1),C=!0,e.header=!1,e.code=!1,e.f=e.block;var n=t.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,i=4*Math.floor((n-e.indentation)/4);i>4&&(i=4);var o=e.indentation+i;if(e.indentationDiff=o-e.indentation,e.indentation=o,n>0)return null}return e.f(t,e)},blankLine:r,getType:l}}),"xml"),CodeMirror.defineMIME("text/x-markdown","markdown"),function(t){"use strict";t((function(){t("[role=markdowneditor]").each((function(e,n){makeeditor(t(n))}))}))}(jQuery,showdown,CodeMirror),function(){this.ghostscroll=function(t,e){return $(t).scroll((function(){return synchronize_scroll(this,e)})),$(e).scroll((function(){return synchronize_scroll(this,t)})),$(t).on("scrollstop",(function(){return stopsyncscroll(this)})),$(e).on("scrollstop",(function(){return stopsyncscroll(this)}))},this.synchronize_scroll=function(t,e){var n,i;if(!(t=$(t)).data("ignore_scroll"))return n=t.scrollTop()/(t.prop("scrollHeight")-t.prop("offsetHeight"))*((i=$(e)).prop("scrollHeight")-i.prop("offsetHeight")),i.data("ignore_scroll",!0),i.scrollTop(Math.round(n)),i.scroll()},this.equalize=function(t,e){return t=$(t),e=$(e),$(e).height(t.height()),$(e).trigger("resize")},this.stopsyncscroll=function(t){return(t=$(t)).data("ignore_scroll",!1)}}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}((function(t){var e=t.event.dispatch||t.event.handle,n=t.event.special,i="D"+ +new Date,r="D"+(+new Date+1);n.scrollstart={setup:function(r){var o,s=t.extend({latency:n.scrollstop.latency},r),a=function(t){var n=this,i=arguments;o?clearTimeout(o):(t.type="scrollstart",e.apply(n,i)),o=setTimeout((function(){o=null}),s.latency)};t(this).bind("scroll",a).data(i,a)},teardown:function(){t(this).unbind("scroll",t(this).data(i))}},n.scrollstop={latency:250,setup:function(i){var o,s=t.extend({latency:n.scrollstop.latency},i),a=function(t){var n=this,i=arguments;o&&clearTimeout(o),o=setTimeout((function(){o=null,t.type="scrollstop",e.apply(n,i)}),s.latency)};t(this).bind("scroll",a).data(r,a)},teardown:function(){t(this).unbind("scroll",t(this).data(r))}}})),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}((function(t){"use strict";function e(e,n){var i,r,o,s,a,c=t('<div class="minicolors" />'),u=t.minicolors.defaults;if(!e.data("minicolors-initialized")){if(n=t.extend(!0,{},u,n),c.addClass("minicolors-theme-"+n.theme).toggleClass("minicolors-with-opacity",n.opacity),void 0!==n.position&&t.each(n.position.split(" "),(function(){c.addClass("minicolors-position-"+this)})),i="rgb"===n.format?n.opacity?"25":"20":n.keywords?"11":"7",e.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",n).prop("size",i).wrap(c).after('<div class="minicolors-panel minicolors-slider-'+n.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),n.inline||(e.after('<span class="minicolors-swatch minicolors-sprite minicolors-input-swatch"><span class="minicolors-swatch-color"></span></span>'),e.next(".minicolors-input-swatch").on("click",(function(t){t.preventDefault(),e.focus()}))),(s=e.parent().find(".minicolors-panel")).on("selectstart",(function(){return!1})).end(),n.swatches&&0!==n.swatches.length)for(s.addClass("minicolors-with-swatches"),r=t('<ul class="minicolors-swatches"></ul>').appendTo(s),a=0;a<n.swatches.length;++a)o=v(o=n.swatches[a])?p(o,!0):S(f(o,!0)),t('<li class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></li>').appendTo(r).data("swatch-color",n.swatches[a]).find(".minicolors-swatch-color").css({backgroundColor:x(o),opacity:o.a}),n.swatches[a]=o;n.inline&&e.parent().addClass("minicolors-inline"),l(e,!1),e.data("minicolors-initialized",!0)}}function n(t){var e=t.parent();t.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),e.before(t).remove()}function i(t){var e=t.parent(),n=e.find(".minicolors-panel"),i=t.data("minicolors-settings");!t.data("minicolors-initialized")||t.prop("disabled")||e.hasClass("minicolors-inline")||e.hasClass("minicolors-focus")||(r(),e.addClass("minicolors-focus"),n.stop(!0,!0).fadeIn(i.showSpeed,(function(){i.show&&i.show.call(t.get(0))})))}function r(){t(".minicolors-focus").each((function(){var e=t(this),n=e.find(".minicolors-input"),i=e.find(".minicolors-panel"),r=n.data("minicolors-settings");i.fadeOut(r.hideSpeed,(function(){r.hide&&r.hide.call(n.get(0)),e.removeClass("minicolors-focus")}))}))}function o(t,e,n){var i,r,o,a,l=t.parents(".minicolors").find(".minicolors-input"),c=l.data("minicolors-settings"),u=t.find("[class$=-picker]"),d=t.offset().left,h=t.offset().top,f=Math.round(e.pageX-d),p=Math.round(e.pageY-h),g=n?c.animationSpeed:0;e.originalEvent.changedTouches&&(f=e.originalEvent.changedTouches[0].pageX-d,p=e.originalEvent.changedTouches[0].pageY-h),f<0&&(f=0),p<0&&(p=0),f>t.width()&&(f=t.width()),p>t.height()&&(p=t.height()),t.parent().is(".minicolors-slider-wheel")&&u.parent().is(".minicolors-grid")&&(i=75-f,r=75-p,o=Math.sqrt(i*i+r*r),(a=Math.atan2(r,i))<0&&(a+=2*Math.PI),o>75&&(o=75,f=75-75*Math.cos(a),p=75-75*Math.sin(a)),f=Math.round(f),p=Math.round(p)),t.is(".minicolors-grid")?u.stop(!0).animate({top:p+"px",left:f+"px"},g,c.animationEasing,(function(){s(l,t)})):u.stop(!0).animate({top:p+"px"},g,c.animationEasing,(function(){s(l,t)}))}function s(t,e){function n(t,e){var n,i;return t.length&&e?(n=t.offset().left,i=t.offset().top,{x:n-e.offset().left+t.outerWidth()/2,y:i-e.offset().top+t.outerHeight()/2}):null}var i,r,o,s,l,u,d,h=t.val(),f=t.attr("data-opacity"),p=t.parent(),g=t.data("minicolors-settings"),v=p.find(".minicolors-input-swatch"),y=p.find(".minicolors-grid"),b=p.find(".minicolors-slider"),w=p.find(".minicolors-opacity-slider"),x=y.find("[class$=-picker]"),_=b.find("[class$=-picker]"),k=w.find("[class$=-picker]"),S=n(x,y),T=n(_,b),D=n(k,w);if(e.is(".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider")){switch(g.control){case"wheel":s=y.width()/2-S.x,l=y.height()/2-S.y,u=Math.sqrt(s*s+l*l),(d=Math.atan2(l,s))<0&&(d+=2*Math.PI),u>75&&(u=75,S.x=69-75*Math.cos(d),S.y=69-75*Math.sin(d)),r=m(u/.75,0,100),h=C({h:i=m(180*d/Math.PI,0,360),s:r,b:o=m(100-Math.floor(T.y*(100/b.height())),0,100)}),b.css("backgroundColor",C({h:i,s:r,b:100}));break;case"saturation":h=C({h:i=m(parseInt(S.x*(360/y.width()),10),0,360),s:r=m(100-Math.floor(T.y*(100/b.height())),0,100),b:o=m(100-Math.floor(S.y*(100/y.height())),0,100)}),b.css("backgroundColor",C({h:i,s:100,b:o})),p.find(".minicolors-grid-inner").css("opacity",r/100);break;case"brightness":h=C({h:i=m(parseInt(S.x*(360/y.width()),10),0,360),s:r=m(100-Math.floor(S.y*(100/y.height())),0,100),b:o=m(100-Math.floor(T.y*(100/b.height())),0,100)}),b.css("backgroundColor",C({h:i,s:r,b:100})),p.find(".minicolors-grid-inner").css("opacity",1-o/100);break;default:h=C({h:i=m(360-parseInt(T.y*(360/b.height()),10),0,360),s:r=m(Math.floor(S.x*(100/y.width())),0,100),b:o=m(100-Math.floor(S.y*(100/y.height())),0,100)}),y.css("backgroundColor",C({h:i,s:100,b:100}))}a(t,h,f=g.opacity?parseFloat(1-D.y/w.height()).toFixed(2):1)}else v.find("span").css({backgroundColor:h,opacity:f}),c(t,h,f)}function a(t,e,n){var i,r=t.parent(),o=t.data("minicolors-settings"),s=r.find(".minicolors-input-swatch");o.opacity&&t.attr("data-opacity",n),"rgb"===o.format?(i=v(e)?p(e,!0):S(f(e,!0)),n=""===t.attr("data-opacity")?1:m(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),!isNaN(n)&&o.opacity||(n=1),e=t.minicolors("rgbObject").a<=1&&i&&o.opacity?"rgba("+i.r+", "+i.g+", "+i.b+", "+parseFloat(n)+")":"rgb("+i.r+", "+i.g+", "+i.b+")"):(v(e)&&(e=w(e)),e=h(e,o.letterCase)),t.val(e),s.find("span").css({backgroundColor:e,opacity:n}),c(t,e,n)}function l(e,n){var i,r,o,s,a,l,u,d,b,x,k=e.parent(),S=e.data("minicolors-settings"),T=k.find(".minicolors-input-swatch"),D=k.find(".minicolors-grid"),E=k.find(".minicolors-slider"),M=k.find(".minicolors-opacity-slider"),A=D.find("[class$=-picker]"),O=E.find("[class$=-picker]"),P=M.find("[class$=-picker]");switch(v(e.val())?(i=w(e.val()),(a=m(parseFloat(y(e.val())).toFixed(2),0,1))&&e.attr("data-opacity",a)):i=h(f(e.val(),!0),S.letterCase),i||(i=h(g(S.defaultValue,!0),S.letterCase)),r=_(i),s=S.keywords?t.map(S.keywords.split(","),(function(e){return t.trim(e.toLowerCase())})):[],l=""!==e.val()&&t.inArray(e.val().toLowerCase(),s)>-1?h(e.val()):v(e.val())?p(e.val()):i,n||e.val(l),S.opacity&&(o=""===e.attr("data-opacity")?1:m(parseFloat(e.attr("data-opacity")).toFixed(2),0,1),isNaN(o)&&(o=1),e.attr("data-opacity",o),T.find("span").css("opacity",o),d=m(M.height()-M.height()*o,0,M.height()),P.css("top",d+"px")),"transparent"===e.val().toLowerCase()&&T.find("span").css("opacity",0),T.find("span").css("backgroundColor",i),S.control){case"wheel":b=m(Math.ceil(.75*r.s),0,D.height()/2),x=r.h*Math.PI/180,u=m(75-Math.cos(x)*b,0,D.width()),d=m(75-Math.sin(x)*b,0,D.height()),A.css({top:d+"px",left:u+"px"}),d=150-r.b/(100/D.height()),""===i&&(d=0),O.css("top",d+"px"),E.css("backgroundColor",C({h:r.h,s:r.s,b:100}));break;case"saturation":u=m(5*r.h/12,0,150),d=m(D.height()-Math.ceil(r.b/(100/D.height())),0,D.height()),A.css({top:d+"px",left:u+"px"}),d=m(E.height()-r.s*(E.height()/100),0,E.height()),O.css("top",d+"px"),E.css("backgroundColor",C({h:r.h,s:100,b:r.b})),k.find(".minicolors-grid-inner").css("opacity",r.s/100);break;case"brightness":u=m(5*r.h/12,0,150),d=m(D.height()-Math.ceil(r.s/(100/D.height())),0,D.height()),A.css({top:d+"px",left:u+"px"}),d=m(E.height()-r.b*(E.height()/100),0,E.height()),O.css("top",d+"px"),E.css("backgroundColor",C({h:r.h,s:r.s,b:100})),k.find(".minicolors-grid-inner").css("opacity",1-r.b/100);break;default:u=m(Math.ceil(r.s/(100/D.width())),0,D.width()),d=m(D.height()-Math.ceil(r.b/(100/D.height())),0,D.height()),A.css({top:d+"px",left:u+"px"}),d=m(E.height()-r.h/(360/E.height()),0,E.height()),O.css("top",d+"px"),D.css("backgroundColor",C({h:r.h,s:100,b:100}))}e.data("minicolors-initialized")&&c(e,l,o)}function c(t,e,n){var i,r,o,s=t.data("minicolors-settings"),a=t.data("minicolors-lastChange");if(!a||a.value!==e||a.opacity!==n){if(t.data("minicolors-lastChange",{value:e,opacity:n}),s.swatches&&0!==s.swatches.length){for(i=v(e)?p(e,!0):S(e),r=-1,o=0;o<s.swatches.length;++o)if(i.r===s.swatches[o].r&&i.g===s.swatches[o].g&&i.b===s.swatches[o].b&&i.a===s.swatches[o].a){r=o;break}t.parent().find(".minicolors-swatches .minicolors-swatch").removeClass("selected"),-1!==r&&t.parent().find(".minicolors-swatches .minicolors-swatch").eq(o).addClass("selected")}s.change&&(s.changeDelay?(clearTimeout(t.data("minicolors-changeTimeout")),t.data("minicolors-changeTimeout",setTimeout((function(){s.change.call(t.get(0),e,n)}),s.changeDelay))):s.change.call(t.get(0),e,n)),t.trigger("change").trigger("input")}}function u(e){var n,i=t(e).attr("data-opacity");v(t(e).val())?n=p(t(e).val(),!0):n=S(f(t(e).val(),!0));return n?(void 0!==i&&t.extend(n,{a:parseFloat(i)}),n):null}function d(e,n){var i,r=t(e).attr("data-opacity");v(t(e).val())?i=p(t(e).val(),!0):i=S(f(t(e).val(),!0));return i?(void 0===r&&(r=1),n?"rgba("+i.r+", "+i.g+", "+i.b+", "+parseFloat(r)+")":"rgb("+i.r+", "+i.g+", "+i.b+")"):null}function h(t,e){return"uppercase"===e?t.toUpperCase():t.toLowerCase()}function f(t,e){return(t=t.replace(/^#/g,"")).match(/^[A-F0-9]{3,6}/gi)?3!==t.length&&6!==t.length?"":(3===t.length&&e&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),"#"+t):""}function p(t,e){var n=t.replace(/[^\d,.]/g,"").split(",");return n[0]=m(parseInt(n[0],10),0,255),n[1]=m(parseInt(n[1],10),0,255),n[2]=m(parseInt(n[2],10),0,255),n[3]&&(n[3]=m(parseFloat(n[3],10),0,1)),e?n[3]?{r:n[0],g:n[1],b:n[2],a:n[3]}:{r:n[0],g:n[1],b:n[2]}:void 0!==n[3]&&n[3]<=1?"rgba("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+")":"rgb("+n[0]+", "+n[1]+", "+n[2]+")"}function g(t,e){return v(t)?p(t):f(t,e)}function m(t,e,n){return t<e&&(t=e),t>n&&(t=n),t}function v(t){var e=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return!(!e||4!==e.length)}function y(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i))&&6===t.length?t[4]:"1"}function b(t){var e={},n=Math.round(t.h),i=Math.round(255*t.s/100),r=Math.round(255*t.b/100);if(0===i)e.r=e.g=e.b=r;else{var o=r,s=(255-i)*r/255,a=n%60*(o-s)/60;360===n&&(n=0),n<60?(e.r=o,e.b=s,e.g=s+a):n<120?(e.g=o,e.b=s,e.r=o-a):n<180?(e.g=o,e.r=s,e.b=s+a):n<240?(e.b=o,e.r=s,e.g=o-a):n<300?(e.b=o,e.g=s,e.r=s+a):n<360?(e.r=o,e.g=s,e.b=o-a):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}}function w(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}function x(e){var n=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return t.each(n,(function(t,e){1===e.length&&(n[t]="0"+e)})),"#"+n.join("")}function C(t){return x(b(t))}function _(t){var e=k(S(t));return 0===e.s&&(e.h=360),e}function k(t){var e={h:0,s:0,b:0},n=Math.min(t.r,t.g,t.b),i=Math.max(t.r,t.g,t.b),r=i-n;return e.b=i,e.s=0!==i?255*r/i:0,0!==e.s?t.r===i?e.h=(t.g-t.b)/r:t.g===i?e.h=2+(t.b-t.r)/r:e.h=4+(t.r-t.g)/r:e.h=-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e}function S(t){return{r:(t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16))>>16,g:(65280&t)>>8,b:255&t}}t.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",format:"hex",hide:null,hideSpeed:100,inline:!1,keywords:"",letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default",swatches:[]}},t.extend(t.fn,{minicolors:function(o,s){switch(o){case"destroy":return t(this).each((function(){n(t(this))})),t(this);case"hide":return r(),t(this);case"opacity":return void 0===s?t(this).attr("data-opacity"):(t(this).each((function(){l(t(this).attr("data-opacity",s))})),t(this));case"rgbObject":return u(t(this),"rgbaObject"===o);case"rgbString":case"rgbaString":return d(t(this),"rgbaString"===o);case"settings":return void 0===s?t(this).data("minicolors-settings"):(t(this).each((function(){var e=t(this).data("minicolors-settings")||{};n(t(this)),t(this).minicolors(t.extend(!0,e,s))})),t(this));case"show":return i(t(this).eq(0)),t(this);case"value":return void 0===s?t(this).val():(t(this).each((function(){"object"==typeof s&&"null"!==s?(s.opacity&&t(this).attr("data-opacity",m(s.opacity,0,1)),s.color&&t(this).val(s.color)):t(this).val(s),l(t(this))})),t(this));default:return"create"!==o&&(s=o),t(this).each((function(){e(t(this),s)})),t(this)}}}),t([document]).on("mousedown.minicolors touchstart.minicolors",(function(e){t(e.target).parents().add(e.target).hasClass("minicolors")||r()})).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",(function(e){var n=t(this);e.preventDefault(),t(e.delegateTarget).data("minicolors-target",n),o(n,e,!0)})).on("mousemove.minicolors touchmove.minicolors",(function(e){var n=t(e.delegateTarget).data("minicolors-target");n&&o(n,e)})).on("mouseup.minicolors touchend.minicolors",(function(){t(this).removeData("minicolors-target")})).on("click.minicolors",".minicolors-swatches li",(function(e){e.preventDefault();var n=t(this),i=n.parents(".minicolors").find(".minicolors-input"),r=n.data("swatch-color");a(i,r,y(r)),l(i)})).on("mousedown.minicolors touchstart.minicolors",".minicolors-input-swatch",(function(e){var n=t(this).parent().find(".minicolors-input");e.preventDefault(),i(n)})).on("focus.minicolors",".minicolors-input",(function(){var e=t(this);e.data("minicolors-initialized")&&i(e)})).on("blur.minicolors",".minicolors-input",(function(){var e,n,i,r,o,s=t(this),a=s.data("minicolors-settings");s.data("minicolors-initialized")&&(e=a.keywords?t.map(a.keywords.split(","),(function(e){return t.trim(e.toLowerCase())})):[],o=""!==s.val()&&t.inArray(s.val().toLowerCase(),e)>-1?s.val():null===(i=v(s.val())?p(s.val(),!0):(n=f(s.val(),!0))?S(n):null)?a.defaultValue:"rgb"===a.format?a.opacity?p("rgba("+i.r+","+i.g+","+i.b+","+s.attr("data-opacity")+")"):p("rgb("+i.r+","+i.g+","+i.b+")"):x(i),r=a.opacity?s.attr("data-opacity"):1,"transparent"===o.toLowerCase()&&(r=0),s.closest(".minicolors").find(".minicolors-input-swatch > span").css("opacity",r),s.val(o),""===s.val()&&s.val(g(a.defaultValue,!0)),s.val(h(s.val(),a.letterCase)))})).on("keydown.minicolors",".minicolors-input",(function(e){var n=t(this);if(n.data("minicolors-initialized"))switch(e.keyCode){case 9:r();break;case 13:case 27:r(),n.blur()}})).on("keyup.minicolors",".minicolors-input",(function(){var e=t(this);e.data("minicolors-initialized")&&l(e,!0)})).on("paste.minicolors",".minicolors-input",(function(){var e=t(this);e.data("minicolors-initialized")&&setTimeout((function(){l(e,!0)}),1)}))})),function(t){"use strict";var e,n={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},i=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],r=t('<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>').data("autosize",!0)[0];r.style.lineHeight="99px","99px"===t(r).css("lineHeight")&&i.push("lineHeight"),r.style.lineHeight="",t.fn.autosize=function(o){return this.length?(o=t.extend({},n,o||{}),r.parentNode!==document.body&&t(document.body).append(r),this.each((function(){function n(){var e,n=!!window.getComputedStyle&&window.getComputedStyle(h,null);n?(0!==(e=h.getBoundingClientRect().width)&&"number"==typeof e||(e=parseInt(n.width,10)),t.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],(function(t,i){e-=parseInt(n[i],10)}))):e=f.width(),r.style.width=Math.max(e,0)+"px"}function s(){var s={};if(e=h,r.className=o.className,r.id=o.id,c=parseInt(f.css("maxHeight"),10),t.each(i,(function(t,e){s[e]=f.css(e)})),t(r).css(s).attr("wrap",f.attr("wrap")),n(),window.chrome){var a=h.style.width;h.style.width="0px";h.offsetWidth;h.style.width=a}}function a(){var t,i;e!==h?s():n(),!h.value&&o.placeholder?r.value=(f.attr("placeholder")||"")+o.append:r.value=h.value+o.append,r.style.overflowY=h.style.overflowY,i=parseInt(h.style.height,10),r.scrollTop=0,r.scrollTop=9e4,t=r.scrollTop,c&&t>c?(h.style.overflowY="scroll",t=c):(h.style.overflowY="hidden",t<u&&(t=u)),i!==(t+=p)&&(h.style.height=t+"px",g&&o.callback.call(h,h))}function l(){clearTimeout(d),d=setTimeout((function(){var t=f.width();t!==v&&(v=t,a())}),parseInt(o.resizeDelay,10))}var c,u,d,h=this,f=t(h),p=0,g=t.isFunction(o.callback),m={height:h.style.height,overflow:h.style.overflow,overflowY:h.style.overflowY,wordWrap:h.style.wordWrap,resize:h.style.resize},v=f.width(),y=f.css("resize");f.data("autosize")||(f.data("autosize",!0),"border-box"!==f.css("box-sizing")&&"border-box"!==f.css("-moz-box-sizing")&&"border-box"!==f.css("-webkit-box-sizing")||(p=f.outerHeight()-f.height()),u=Math.max(parseInt(f.css("minHeight"),10)-p||0,f.height()),f.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===y?f.css("resize","none"):"both"===y&&f.css("resize","horizontal"),"onpropertychange"in h?"oninput"in h?f.on("input.autosize keyup.autosize",a):f.on("propertychange.autosize",(function(){"value"===event.propertyName&&a()})):f.on("input.autosize",a),!1!==o.resizeDelay&&t(window).on("resize.autosize",l),f.on("autosize.resize",a),f.on("autosize.resizeIncludeStyle",(function(){e=null,a()})),f.on("autosize.destroy",(function(){e=null,clearTimeout(d),t(window).off("resize",l),f.off("autosize").off(".autosize").css(m).removeData("autosize")})),a())}))):this}}(window.jQuery||window.$),BestInPlaceEditor.prototype={activate:function(){"use strict";var t;if(this.isPlaceHolder())t="";else if(this.original_content)t=this.original_content;else switch(this.formType){case"input":case"number":case"textarea":case"date":if(this.display_raw)t=this.element.html().replace(/&amp;/gi,"&");else{var e=this.element.data("bipValue");t=void 0===e?"":"string"==typeof e?this.element.data("bipValue").replace(/&amp;/gi,"&"):this.element.data("bipValue")}break;case"select":t=this.element.html()}this.oldValue=this.isPlaceHolder()?"":this.element.html(),this.display_value=t,
jQuery(this.activator).unbind("click",this.clickHandler),this.activateForm(),this.element.trigger(jQuery.Event("best_in_place:activate"))},abort:function(){"use strict";this.activateText(this.oldValue),jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:abort")),this.element.trigger(jQuery.Event("best_in_place:deactivate"))},abortIfConfirm:function(){"use strict";this.useConfirm?confirm(BestInPlaceEditor.defaults.locales[""].confirmMessage)&&this.abort():this.abort()},update:function(){"use strict";this.element.trigger(jQuery.Event("best_in_place:before-update"));var t=this,e=this.getValue();if(this.formType in{input:1,textarea:1,date:1}&&e===this.oldValue)return this.abort(),!0;switch(t.ajax({type:this.requestMethod(),dataType:t.ajaxDataType,data:t.requestData(),success:function(e,n,i){t.loadSuccessCallback(e,n,i)},error:function(e,n){t.loadErrorCallback(e,n)}}),this.formType){case"select":this.previousCollectionValue=e,$.each(this.values,(function(n,i){String(i[0])===String(e)&&t.element.html(i[1])}));break;case"checkbox":$.each(this.values,(function(n,i){String(i[0])===String(e)&&t.element.html(i[1])})),e?(t.element.removeClass(t.element.data("bip-false-class")),t.element.addClass(t.element.data("bip-true-class"))):(t.element.removeClass(t.element.data("bip-true-class")),t.element.addClass(t.element.data("bip-false-class")));break;default:""!==e?this.display_raw?t.element.html(e):t.element.text(e):t.element.html(this.placeHolder)}t.element.data("bipValue",e),t.element.attr("data-bip-value",e),t.element.trigger(jQuery.Event("best_in_place:update"))},activateForm:function(){"use strict";alert(BestInPlaceEditor.defaults.locales[""].uninitializedForm)},activateText:function(t){"use strict";this.element.html(t),this.isPlaceHolder()&&this.element.html(this.placeHolder)},initOptions:function(){"use strict";var t=this;t.element.parents().each((function(){var e=jQuery(this);t.url=t.url||e.data("bipUrl"),t.activator=t.activator||e.data("bipActivator"),t.okButton=t.okButton||e.data("bipOkButton"),t.okButtonClass=t.okButtonClass||e.data("bipOkButtonClass"),t.cancelButton=t.cancelButton||e.data("bipCancelButton"),t.cancelButtonClass=t.cancelButtonClass||e.data("bipCancelButtonClass"),t.skipBlur=t.skipBlur||e.data("bipSkipBlur")})),t.url=t.element.data("bipUrl")||t.url||document.location.pathname,t.collection=t.element.data("bipCollection")||t.collection,t.formType=t.element.data("bipType")||"input",t.objectName=t.element.data("bipObject")||t.objectName,t.attributeName=t.element.data("bipAttribute")||t.attributeName,t.activator=t.element.data("bipActivator")||t.element,t.okButton=t.element.data("bipOkButton")||t.okButton,t.okButtonClass=t.element.data("bipOkButtonClass")||t.okButtonClass||BestInPlaceEditor.defaults.okButtonClass,t.cancelButton=t.element.data("bipCancelButton")||t.cancelButton,t.cancelButtonClass=t.element.data("bipCancelButtonClass")||t.cancelButtonClass||BestInPlaceEditor.defaults.cancelButtonClass,t.skipBlur=t.element.data("bipSkipBlur")||t.skipBlur||BestInPlaceEditor.defaults.skipBlur,null==t.element.data("bipPlaceholder")?t.placeHolder=BestInPlaceEditor.defaults.locales[""].placeHolder:t.placeHolder=t.element.data("bipPlaceholder"),t.inner_class=t.element.data("bipInnerClass"),t.html_attrs=t.element.data("bipHtmlAttrs"),t.original_content=t.element.data("bipOriginalContent")||t.original_content,t.display_raw=t.element.data("bip-raw"),t.useConfirm=t.element.data("bip-confirm"),t.ajaxDataType=t.element.data("bipAjaxDataType")||BestInPlaceEditor.defaults.ajaxDataType,"select"!==t.formType&&"checkbox"!==t.formType||(t.values=t.collection,t.collectionValue=t.element.data("bipValue")||t.collectionValue)},bindForm:function(){"use strict";this.activateForm=BestInPlaceEditor.forms[this.formType].activateForm,this.getValue=BestInPlaceEditor.forms[this.formType].getValue},initPlaceHolder:function(){"use strict";""===this.element.html()&&(this.element.addClass("bip-placeholder"),this.element.html(this.placeHolder))},isPlaceHolder:function(){"use strict";return""===this.element.html()||this.element.html()===this.placeHolder},getValue:function(){"use strict";alert(BestInPlaceEditor.defaults.locales[""].uninitializedForm)},sanitizeValue:function(t){"use strict";return jQuery.trim(t)},requestMethod:function(){"use strict";return this.isNewObject?"post":BestInPlaceEditor.defaults.ajaxMethod},requestData:function(){"use strict";var t=jQuery("meta[name=csrf-token]").attr("content"),e=jQuery("meta[name=csrf-param]").attr("content"),n={};return n._method=this.requestMethod(),n[this.objectName]=this.dataExtraPayload||{},n[this.objectName][this.attributeName]=this.getValue(),void 0!==e&&void 0!==t&&(n[e]=t),jQuery.param(n)},ajax:function(t){"use strict";return t.url=this.url,"text"==t.dataType&&(t.beforeSend=function(t){t.setRequestHeader("Accept","application/json")}),jQuery.ajax(t)},loadSuccessCallback:function(t,e,n){"use strict";if("script"!=this.ajaxDataType){if(t=jQuery.trim(t),this.display_raw?this.original_content=this.element.html():this.original_content=this.element.text(),t&&""!==t){var i=jQuery.parseJSON(t);null!==i&&i.hasOwnProperty("display_as")&&(this.element.data("bip-original-content",this.element.text()),this.element.html(i.display_as)),this.isNewObject&&i&&i[this.objectName]&&i[this.objectName].id&&(this.isNewObject=!1,this.url+="/"+i[this.objectName].id)}this.element.toggleClass("bip-placeholder",this.isPlaceHolder()),this.element.trigger(jQuery.Event("best_in_place:success"),[t,e,n]),this.element.trigger(jQuery.Event("ajax:success"),[t,e,n]),jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:deactivate")),null!==this.collectionValue&&"select"===this.formType&&(this.collectionValue=this.previousCollectionValue,this.previousCollectionValue=null)}},loadErrorCallback:function(t,e){"use strict";this.activateText(this.oldValue),this.element.trigger(jQuery.Event("best_in_place:error"),[t,e]),this.element.trigger(jQuery.Event("ajax:error"),t,e),jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:deactivate"))},clickHandler:function(t){"use strict";t.preventDefault(),t.data.editor.activate()},setHtmlAttributes:function(){"use strict";var t=this.element.find(this.formType);if(this.html_attrs){var e=this.html_attrs;$.each(e,(function(e,n){t.attr(e,n)}))}},placeButtons:function(t,e){"use strict";var n=$("<div class='bip-buttons'>");e.okButton&&n.append(jQuery(document.createElement("button")).attr("type","submit").attr("class",e.okButtonClass).html(e.okButton)),e.cancelButton&&n.append(jQuery(document.createElement("button")).attr("type","button").attr("class",e.cancelButtonClass).html(e.cancelButton)),(e.okButton||e.cancelButton)&&t.append(n)}},BestInPlaceEditor.forms={input:{activateForm:function(){"use strict";var t=jQuery(document.createElement("form")).addClass("form_in_place").attr("action","javascript:void(0);"),e=jQuery(document.createElement("input")).attr("type","text").attr("name",this.attributeName).val(this.display_value);this.inner_class&&e.addClass(this.inner_class),t.append(e),this.placeButtons(t,this),this.element.html(t),this.setHtmlAttributes(),this.element.find("input[type='text']")[0].select(),this.element.find("form").bind("submit",{editor:this},BestInPlaceEditor.forms.input.submitHandler),this.cancelButton&&this.element.find("button[type='button']").bind("click",{editor:this},BestInPlaceEditor.forms.input.cancelButtonHandler),this.okButton||this.element.find("input[type='text']").bind("blur",{editor:this},BestInPlaceEditor.forms.input.inputBlurHandler),this.element.find("input[type='text']").bind("keyup",{editor:this},BestInPlaceEditor.forms.input.keyupHandler),this.blurTimer=null,this.userClicked=!1},getValue:function(){"use strict";return this.sanitizeValue(this.element.find("input").val())},inputBlurHandler:function(t){"use strict";t.data.editor.okButton?t.data.editor.blurTimer=setTimeout((function(){t.data.editor.userClicked||t.data.editor.abort()}),500):t.data.editor.cancelButton?t.data.editor.blurTimer=setTimeout((function(){t.data.editor.userClicked||t.data.editor.update()}),500):t.data.editor.update()},submitHandler:function(t){"use strict";t.data.editor.userClicked=!0,clearTimeout(t.data.editor.blurTimer),t.data.editor.update()},cancelButtonHandler:function(t){"use strict";t.data.editor.userClicked=!0,clearTimeout(t.data.editor.blurTimer),t.data.editor.abort(),t.stopPropagation()},keyupHandler:function(t){"use strict";27===t.keyCode&&(t.data.editor.abort(),t.stopImmediatePropagation())}},number:{activateForm:function(){"use strict";var t=jQuery(document.createElement("form")).addClass("form_in_place").attr("action","javascript:void(0);"),e=jQuery(document.createElement("input")).attr("type","number").attr("step","any").attr("name",this.attributeName).val(this.display_value);this.inner_class&&e.addClass(this.inner_class),t.append(e),this.placeButtons(t,this),this.element.html(t),this.setHtmlAttributes(),this.element.find("input[type='number']")[0].select(),this.element.find("form").bind("submit",{editor:this},BestInPlaceEditor.forms.input.submitHandler),this.cancelButton&&this.element.find("button[type='button']").bind("click",{editor:this},BestInPlaceEditor.forms.input.cancelButtonHandler),this.okButton||this.element.find("input[type='number']").bind("blur",{editor:this},BestInPlaceEditor.forms.input.inputBlurHandler),this.element.find("input[type='number']").bind("keyup",{editor:this},BestInPlaceEditor.forms.input.keyupHandler),this.blurTimer=null,this.userClicked=!1},getValue:function(){"use strict";return this.sanitizeValue(this.element.find("input").val())}},date:{activateForm:function(){"use strict";var t=jQuery(document.createElement("form")).addClass("form_in_place").attr("action","javascript:void(0);"),e=jQuery(document.createElement("input")).attr("type","date").attr("name",this.attributeName).val(this.display_value);this.inner_class&&e.addClass(this.inner_class),t.append(e),this.placeButtons(t,this),this.element.html(t),this.setHtmlAttributes(),this.element.find("input[type='date']")[0].select(),this.element.find("form").bind("submit",{editor:this},BestInPlaceEditor.forms.input.submitHandler),this.cancelButton&&this.element.find("button[type='button']").bind("click",{editor:this},BestInPlaceEditor.forms.input.cancelButtonHandler),this.okButton||this.element.find("input[type='date']").bind("blur",{editor:this},BestInPlaceEditor.forms.input.inputBlurHandler),this.element.find("input[type='date']").bind("keyup",{editor:this},BestInPlaceEditor.forms.input.keyupHandler),this.blurTimer=null,this.userClicked=!1},getValue:function(){"use strict";return this.sanitizeValue(this.element.find("input").val())}},select:{activateForm:function(){"use strict";var t,e,n=jQuery(document.createElement("form")).attr("action","javascript:void(0)").attr("style","display:inline"),i=jQuery(document.createElement("select")).attr("class",null!==this.inner_class?this.inner_class:""),r=this.collectionValue,o=this.values;$.each(o,(function(n,o){t=o[0],e=o[1];var s=jQuery(document.createElement("option")).val(t).html(e);r&&String(t)===String(r)&&s.attr("selected","selected"),i.append(s)})),n.append(i),this.element.html(n),this.setHtmlAttributes(),this.element.find("select").bind("change",{editor:this},BestInPlaceEditor.forms.select.blurHandler),this.element.find("select").bind("blur",{editor:this},BestInPlaceEditor.forms.select.blurHandler),this.element.find("select").bind("keyup",{editor:this},BestInPlaceEditor.forms.select.keyupHandler),this.element.find("select")[0].focus();try{var s=document.createEvent("MouseEvents");s.initMouseEvent("mousedown",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.element.find("select")[0].dispatchEvent(s)}catch(s){}},getValue:function(){"use strict";return this.sanitizeValue(this.element.find("select").val())},blurHandler:function(t){"use strict";t.data.editor.update()},keyupHandler:function(t){"use strict";27===t.keyCode&&t.data.editor.abort()}},checkbox:{activateForm:function(){"use strict";this.collectionValue=!this.getValue(),this.setHtmlAttributes(),this.update()},getValue:function(){"use strict";return this.collectionValue}},textarea:{activateForm:function(){"use strict";var t=this.element.css("width"),e=this.element.css("height"),n=jQuery(document.createElement("form")).addClass("form_in_place").addClass("textarea").attr("action","javascript:void(0);"),i=jQuery(document.createElement("textarea")).attr("name",this.attributeName).val(this.sanitizeValue(this.display_value));null!==this.inner_class&&i.addClass(this.inner_class),n.append(i),this.placeButtons(n,this),this.element.html(n),this.setHtmlAttributes(),jQuery(this.element.find("textarea")[0]).css({"min-width":t,"min-height":e}),jQuery(this.element.find("textarea")[0]).autosize(),this.element.find("textarea")[0].focus(),this.element.find("form").bind("submit",{editor:this},BestInPlaceEditor.forms.textarea.submitHandler),this.cancelButton&&this.element.find("button[type='button']").bind("click",{editor:this},BestInPlaceEditor.forms.textarea.cancelButtonHandler),this.skipBlur||this.element.find("textarea").bind("blur",{editor:this},BestInPlaceEditor.forms.textarea.blurHandler),this.element.find("textarea").bind("keyup",{editor:this},BestInPlaceEditor.forms.textarea.keyupHandler),this.blurTimer=null,this.userClicked=!1},getValue:function(){"use strict";return this.sanitizeValue(this.element.find("textarea").val())},blurHandler:function(t){"use strict";t.data.editor.okButton?t.data.editor.blurTimer=setTimeout((function(){t.data.editor.userClicked||t.data.editor.abortIfConfirm()}),500):t.data.editor.cancelButton?t.data.editor.blurTimer=setTimeout((function(){t.data.editor.userClicked||t.data.editor.update()}),500):t.data.editor.update()},submitHandler:function(t){"use strict";t.data.editor.userClicked=!0,clearTimeout(t.data.editor.blurTimer),t.data.editor.update()},cancelButtonHandler:function(t){"use strict";t.data.editor.userClicked=!0,clearTimeout(t.data.editor.blurTimer),t.data.editor.abortIfConfirm(),t.stopPropagation()},keyupHandler:function(t){"use strict";27===t.keyCode&&t.data.editor.abortIfConfirm()}}},BestInPlaceEditor.defaults={locales:{},ajaxMethod:"put",ajaxDataType:"text",okButtonClass:"",cancelButtonClass:"",skipBlur:!1},BestInPlaceEditor.defaults.locales[""]={confirmMessage:"Are you sure you want to discard your changes?",uninitializedForm:"The form was not properly initialized. getValue is unbound",placeHolder:"-"},jQuery.fn.best_in_place=function(){"use strict";function t(t){if(!t.data("bestInPlaceEditor"))return t.data("bestInPlaceEditor",new BestInPlaceEditor(t)),!0}return jQuery(this.context).delegate(this.selector,"click",(function(){var e=jQuery(this);t(e)&&e.click()})),this.each((function(){t(jQuery(this))})),this},function(){var t;t=function(t,e,n,i){return null==n&&(n=""),null==i&&(i=200),n&&$(n).toggle(),$(t).toggleClass("fa-caret-right fa-caret-down"),$(e).slideToggle(i)},this.bind_togglit=function(){return $("[data-togglit]").unbind("click.togglit"),$("[data-togglit]").bind("click.togglit",(function(){return t($(this).children(".toggler").first(),$(this).data("togglit"),$(this).data("container")),!1}))},this.togglit_all_hide=function(t){return null==t&&(t=document),$(t).find("[data-togglit]").map((function(){return $($(this).data("togglit")).hide()}))},this.togglit_all_show=function(t){return null==t&&(t=document),$(t).find("[data-togglit]").map((function(){return $($(this).data("togglit")).show()}))},$(document).ready((function(){return bind_togglit()}))}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(n),n}:t(jQuery)}((function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;return function(){var t,n,i;e&&e.requirejs||(e?n=e:e={},function(e){function r(t,e){return x.call(t,e)}function o(t,e){var n,i,r,o,s,a,l,c,u,d,h,f=e&&e.split("/"),p=b.map,g=p&&p["*"]||{};if(t){for(s=(t=t.split("/")).length-1,b.nodeIdCompat&&_.test(t[s])&&(t[s]=t[s].replace(_,"")),"."===t[0].charAt(0)&&f&&(t=f.slice(0,f.length-1).concat(t)),u=0;u<t.length;u++)if("."===(h=t[u]))t.splice(u,1),u-=1;else if(".."===h){if(0===u||1===u&&".."===t[2]||".."===t[u-1])continue;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}if((f||g)&&p){for(u=(n=t.split("/")).length;u>0;u-=1){if(i=n.slice(0,u).join("/"),f)for(d=f.length;d>0;d-=1)if((r=p[f.slice(0,d).join("/")])&&(r=r[i])){o=r,a=u;break}if(o)break;!l&&g&&g[i]&&(l=g[i],c=u)}!o&&l&&(o=l,a=c),o&&(n.splice(0,a,o),t=n.join("/"))}return t}function s(t,n){return function(){var i=C.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),p.apply(e,i.concat([t,n]))}}function a(t){return function(e){return o(e,t)}}function l(t){return function(e){v[t]=e}}function c(t){if(r(y,t)){var n=y[t];delete y[t],w[t]=!0,f.apply(e,n)}if(!r(v,t)&&!r(w,t))throw new Error("No "+t);return v[t]}function u(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function d(t){return t?u(t):[]}function h(t){return function(){return b&&b.config&&b.config[t]||{}}}var f,p,g,m,v={},y={},b={},w={},x=Object.prototype.hasOwnProperty,C=[].slice,_=/\.js$/;g=function(t,e){var n,i=u(t),r=i[0],s=e[1];return t=i[1],r&&(n=c(r=o(r,s))),r?t=n&&n.normalize?n.normalize(t,a(s)):o(t,s):(r=(i=u(t=o(t,s)))[0],t=i[1],r&&(n=c(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:n}},m={require:function(t){return s(t)},exports:function(t){var e=v[t];return void 0!==e?e:v[t]={}},module:function(t){return{id:t,uri:"",exports:v[t],config:h(t)}}},f=function(t,n,i,o){var a,u,h,f,p,b,x,C=[],_=typeof i;if(b=d(o=o||t),"undefined"===_||"function"===_){for(n=!n.length&&i.length?["require","exports","module"]:n,p=0;p<n.length;p+=1)if("require"===(u=(f=g(n[p],b)).f))C[p]=m.require(t);else if("exports"===u)C[p]=m.exports(t),x=!0;else if("module"===u)a=C[p]=m.module(t);else if(r(v,u)||r(y,u)||r(w,u))C[p]=c(u);else{if(!f.p)throw new Error(t+" missing "+u);f.p.load(f.n,s(o,!0),l(u),{}),C[p]=v[u]}h=i?i.apply(v[t],C):void 0,t&&(a&&a.exports!==e&&a.exports!==v[t]?v[t]=a.exports:h===e&&x||(v[t]=h))}else t&&(v[t]=i)},t=n=p=function(t,n,i,r,o){if("string"==typeof t)return m[t]?m[t](n):c(g(t,d(n)).f);if(!t.splice){if((b=t).deps&&p(b.deps,b.callback),!n)return;n.splice?(t=n,n=i,i=null):t=e}return n=n||function(){},"function"==typeof i&&(i=r,r=o),r?f(e,t,n,i):setTimeout((function(){f(e,t,n,i)}),4),p},p.config=function(t){return p(t)},t._defined=v,(i=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),r(v,t)||r(y,t)||(y[t]=[t,e,n])}).amd={jQuery:!0}}(),e.requirejs=t,e.require=n,e.define=i)}(),e.define("almond",(function(){})),e.define("jquery",[],(function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e})),e.define("select2/utils",["jquery"],(function(t){function e(t){var e=t.prototype,n=[];for(var i in e){"function"==typeof e[i]&&("constructor"!==i&&n.push(i))}return n}var n={Extend:function(t,e){function n(){this.constructor=t}var i={}.hasOwnProperty;for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},Decorate:function(t,n){function i(){var e=Array.prototype.unshift,i=n.prototype.constructor.length,r=t.prototype.constructor;i>0&&(e.call(arguments,t.prototype.constructor),r=n.prototype.constructor),r.apply(this,arguments)}function r(){this.constructor=i}var o=e(n),s=e(t);n.displayName=t.displayName,i.prototype=new r;for(var a=0;a<s.length;a++){var l=s[a];i.prototype[l]=t.prototype[l]}for(var c=function(t){var e=function(){};t in i.prototype&&(e=i.prototype[t]);var r=n.prototype[t];return function(){return Array.prototype.unshift.call(arguments,e),r.apply(this,arguments)}},u=0;u<o.length;u++){var d=o[u];i.prototype[d]=c(d)}return i}},i=function(){this.listeners={}};return i.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},i.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=t,t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(t,e){for(var n=0,i=t.length;n<i;n++)t[n].apply(this,e)},n.Observable=i,n.generateChars=function(t){for(var e="",n=0;n<t;n++){e+=Math.floor(36*Math.random()).toString(36)}return e},n.bind=function(t,e){return function(){t.apply(e,arguments)}},n._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var r=0;r<n.length;r++){var o=n[r];(o=o.substring(0,1).toLowerCase()+o.substring(1))in i||(i[o]={}),r==n.length-1&&(i[o]=t[e]),i=i[o]}delete t[e]}}return t},n.hasScroll=function(e,n){var i=t(n),r=n.style.overflowX,o=n.style.overflowY;return(r!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===r||"scroll"===o||(i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth))},n.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,(function(t){return e[t]}))},n.appendMany=function(e,n){if("1.7"===t.fn.jquery.substr(0,3)){var i=t();t.map(n,(function(t){i=i.add(t)})),n=i}e.append(n)},n})),e.define("select2/results",["jquery","./utils"],(function(t,e){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=t('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(e.message);i.append(n(r(e.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=t.results[n],r=this.option(i);e.push(r)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(t,e){e.find(".select2-results").append(t)},n.prototype.sort=function(t){return this.options.get("sorter")(t)},n.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");e.length>0?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var e=this;this.data.current((function(n){var i=t.map(n,(function(t){return t.id.toString()}));e.$results.find(".select2-results__option[aria-selected]").each((function(){var e=t(this),n=t.data(this,"data"),r=""+n.id;null!=n.element&&n.element.selected||null==n.element&&t.inArray(r,i)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")}))}))},n.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},n=this.option(e);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(e){var n=document.createElement("li");n.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};for(var r in e.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==e.id&&delete i["aria-selected"],null!=e._resultId&&(n.id=e._resultId),e.title&&(n.title=e.title),e.children&&(i.role="group",i["aria-label"]=e.text,delete i["aria-selected"]),i){var o=i[r];n.setAttribute(r,o)}if(e.children){var s=t(n),a=document.createElement("strong");a.className="select2-results__group";t(a);this.template(e,a);for(var l=[],c=0;c<e.children.length;c++){var u=e.children[c],d=this.option(u);l.push(d)}var h=t("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});h.append(l),s.append(a),s.append(h)}else this.template(e,n);return t.data(n,"data",e),n},n.prototype.bind=function(e){var n=this,i=e.id+"-results";this.$results.attr("id",i),e.on("results:all",(function(t){n.clear(),n.append(t.data),e.isOpen()&&(n.setClasses(),n.highlightFirstItem())})),e.on("results:append",(function(t){n.append(t.data),e.isOpen()&&n.setClasses()})),e.on("query",(function(t){n.hideMessages(),n.showLoading(t)})),e.on("select",(function(){e.isOpen()&&(n.setClasses(),n.highlightFirstItem())})),e.on("unselect",(function(){e.isOpen()&&(n.setClasses(),n.highlightFirstItem())})),e.on("open",(function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()})),e.on("close",(function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")})),e.on("results:toggle",(function(){var t=n.getHighlightedResults();0!==t.length&&t.trigger("mouseup")})),e.on("results:select",(function(){var t=n.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?n.trigger("close",{}):n.trigger("select",{data:e})}})),e.on("results:previous",(function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t);if(0!==i){var r=i-1;0===t.length&&(r=0);var o=e.eq(r);o.trigger("mouseenter");var s=n.$results.offset().top,a=o.offset().top,l=n.$results.scrollTop()+(a-s);0===r?n.$results.scrollTop(0):a-s<0&&n.$results.scrollTop(l)}})),e.on("results:next",(function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t)+1;if(!(i>=e.length)){var r=e.eq(i);r.trigger("mouseenter");var o=n.$results.offset().top+n.$results.outerHeight(!1),s=r.offset().top+r.outerHeight(!1),a=n.$results.scrollTop()+s-o;0===i?n.$results.scrollTop(0):s>o&&n.$results.scrollTop(a)}})),e.on("results:focus",(function(t){t.element.addClass("select2-results__option--highlighted")})),e.on("results:message",(function(t){n.displayMessage(t)})),t.fn.mousewheel&&this.$results.on("mousewheel",(function(t){var e=n.$results.scrollTop(),i=n.$results.get(0).scrollHeight-e+t.deltaY,r=t.deltaY>0&&e-t.deltaY<=0,o=t.deltaY<0&&i<=n.$results.height();r?(n.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):o&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),t.preventDefault(),t.stopPropagation())})),this.$results.on("mouseup",".select2-results__option[aria-selected]",(function(e){var i=t(this),r=i.data("data");"true"!==i.attr("aria-selected")?n.trigger("select",{originalEvent:e,data:r}):n.options.get("multiple")?n.trigger("unselect",{originalEvent:e,data:r}):n.trigger("close",{})})),this.$results.on("mouseenter",".select2-results__option[aria-selected]",(function(){var e=t(this).data("data");n.getHighlightedResults().removeClass("select2-results__option--highlighted"),n.trigger("results:focus",{data:e,element:t(this)})}))},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),n=this.$results.offset().top,i=t.offset().top,r=this.$results.scrollTop()+(i-n),o=i-n;r-=2*t.outerHeight(!1),e<=2?this.$results.scrollTop(0):(o>this.$results.outerHeight()||o<0)&&this.$results.scrollTop(r)}},n.prototype.template=function(e,n){var i=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),o=i(e,n);null==o?n.style.display="none":"string"==typeof o?n.innerHTML=r(o):t(n).append(o)},n})),e.define("select2/keys",[],(function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}})),e.define("select2/selection/base",["jquery","../utils","../keys"],(function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},i.prototype.bind=function(t){var e=this,i=(t.id,t.id+"-results");this.container=t,this.$selection.on("focus",(function(t){e.trigger("focus",t)})),this.$selection.on("blur",(function(t){e._handleBlur(t)})),this.$selection.on("keydown",(function(t){e.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()})),t.on("results:focus",(function(t){e.$selection.attr("aria-activedescendant",t.data._resultId)})),t.on("selection:update",(function(t){e.update(t.data)})),t.on("open",(function(){e.$selection.attr("aria-expanded","true"),e.$selection.attr("aria-owns",i),e._attachCloseHandler(t)})),t.on("close",(function(){e.$selection.attr("aria-expanded","false"),e.$selection.removeAttr("aria-activedescendant"),e.$selection.removeAttr("aria-owns"),e.$selection.focus(),e._detachCloseHandler(t)})),t.on("enable",(function(){e.$selection.attr("tabindex",e._tabindex)})),t.on("disable",(function(){e.$selection.attr("tabindex","-1")}))},i.prototype._handleBlur=function(e){var n=this;window.setTimeout((function(){document.activeElement==n.$selection[0]||t.contains(n.$selection[0],document.activeElement)||n.trigger("blur",e)}),1)},i.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,(function(e){var n=t(e.target).closest(".select2");t(".select2.select2-container--open").each((function(){var e=t(this);this!=n[0]&&e.data("element").select2("close")}))}))},i.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},i.prototype.position=function(t,e){e.find(".selection").append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.")},i})),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],(function(t,e,n){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},i.prototype.bind=function(t,e){var n=this;i.__super__.bind.apply(this,arguments);var r=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",r),this.$selection.attr("aria-labelledby",r),this.$selection.on("mousedown",(function(t){1===t.which&&n.trigger("toggle",{originalEvent:t})})),this.$selection.on("focus",(function(){})),this.$selection.on("blur",(function(){})),t.on("focus",(function(){t.isOpen()||n.$selection.focus()})),t.on("selection:update",(function(t){n.update(t.data)}))},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},i.prototype.selectionContainer=function(){return t("<span></span>")},i.prototype.update=function(t){if(0!==t.length){var e=t[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(e,n);n.empty().append(i),n.prop("title",e.title||e.text)}else this.clear()},i})),e.define("select2/selection/multiple",["jquery","./base","../utils"],(function(t,e,n){function i(t,e){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){
var t=i.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},i.prototype.bind=function(e,n){var r=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",(function(t){r.trigger("toggle",{originalEvent:t})})),this.$selection.on("click",".select2-selection__choice__remove",(function(e){if(!r.options.get("disabled")){var n=t(this).parent().data("data");r.trigger("unselect",{originalEvent:e,data:n})}}))},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},i.prototype.selectionContainer=function(){return t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},i.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=0;i<t.length;i++){var r=t[i],o=this.selectionContainer(),s=this.display(r,o);o.append(s),o.prop("title",r.title||r.text),o.data("data",r),e.push(o)}var a=this.$selection.find(".select2-selection__rendered");n.appendMany(a,e)}},i})),e.define("select2/selection/placeholder",["../utils"],(function(){function t(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id;if(e.length>1||n)return t.call(this,e);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},t})),e.define("select2/selection/allowClear",["jquery","../keys"],(function(t,e){function n(){}return n.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",(function(t){i._handleClear(t)})),e.on("keypress",(function(t){i._handleKeyboardClear(t,e)}))},n.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();for(var i=n.data("data"),r=0;r<i.length;r++){var o={data:i[r]};if(this.trigger("unselect",o),o.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(t,n,i){i.isOpen()||n.which!=e.DELETE&&n.which!=e.BACKSPACE||this._handleClear(n)},n.prototype.update=function(e,n){if(e.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var i=t('<span class="select2-selection__clear">&times;</span>');i.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(i)}},n})),e.define("select2/selection/search",["jquery","../utils","../keys"],(function(t,e,n){function i(t,e,n){t.call(this,e,n)}return i.prototype.render=function(e){var n=this.$element.attr("id")+"-search__field",i=t('<li class="select2-search select2-search--inline"><input id="'+n+'" class="select2-search__field"  type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=i,this.$search=i.find("input");var r=e.call(this);return this._transferTabIndex(),r},i.prototype.bind=function(t,e,i){var r=this;t.call(this,e,i),e.on("open",(function(){r.$search.trigger("focus")})),e.on("close",(function(){r.$search.val(""),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")})),e.on("enable",(function(){r.$search.prop("disabled",!1),r._transferTabIndex()})),e.on("disable",(function(){r.$search.prop("disabled",!0)})),e.on("focus",(function(){r.$search.trigger("focus")})),e.on("results:focus",(function(t){r.$search.attr("aria-activedescendant",t.id)})),this.$selection.on("focusin",".select2-search--inline",(function(t){r.trigger("focus",t)})),this.$selection.on("focusout",".select2-search--inline",(function(t){r._handleBlur(t)})),this.$selection.on("keydown",".select2-search--inline",(function(t){if(t.stopPropagation(),r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented(),t.which===n.BACKSPACE&&""===r.$search.val()){var e=r.$searchContainer.prev(".select2-selection__choice");if(e.length>0){var i=e.data("data");r.searchRemoveChoice(i),t.preventDefault()}}}));var o=document.documentMode,s=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",(function(){s?r.$selection.off("input.search input.searchcheck"):r.$selection.off("keyup.search")})),this.$selection.on("keyup.search input.search",".select2-search--inline",(function(t){if(s&&"input"===t.type)r.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=n.SHIFT&&e!=n.CTRL&&e!=n.ALT&&e!=n.TAB&&r.handleSearch(t)}}))},i.prototype._transferTabIndex=function(){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},i.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";""!==this.$search.attr("placeholder")?t=this.$selection.find(".select2-selection__rendered").innerWidth():t=.75*(this.$search.val().length+1)+"em";this.$search.css("width",t)},i})),e.define("select2/selection/eventRelay",["jquery"],(function(t){function e(){}return e.prototype.bind=function(e,n,i){var r=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting"],s=["opening","closing","selecting","unselecting"];e.call(this,n,i),n.on("*",(function(e,n){if(-1!==t.inArray(e,o)){n=n||{};var i=t.Event("select2:"+e,{params:n});r.$element.trigger(i),-1!==t.inArray(e,s)&&(n.prevented=i.isDefaultPrevented())}}))},e})),e.define("select2/translation",["jquery","require"],(function(t,e){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var i=e(t);n._cache[t]=i}return new n(n._cache[t])},n})),e.define("select2/diacritics",[],(function(){return{"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"}})),e.define("select2/data/base",["../utils"],(function(t){function e(){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,n){var i=e.id+"-result-";return i+=t.generateChars(4),null!=n.id?i+="-"+n.id.toString():i+="-"+t.generateChars(4),i},e})),e.define("select2/data/select",["./base","../utils","jquery"],(function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var e=[],i=this;this.$element.find(":selected").each((function(){var t=n(this),r=i.item(t);e.push(r)})),t(e)},i.prototype.select=function(t){var e=this;if(t.selected=!0,n(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current((function(i){var r=[];(t=[t]).push.apply(t,i);for(var o=0;o<t.length;o++){var s=t[o].id;-1===n.inArray(s,r)&&r.push(s)}e.$element.val(r),e.$element.trigger("change")}));else{var i=t.id;this.$element.val(i),this.$element.trigger("change")}},i.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple")){if(t.selected=!1,n(t.element).is("option"))return t.element.selected=!1,void this.$element.trigger("change");this.current((function(i){for(var r=[],o=0;o<i.length;o++){var s=i[o].id;s!==t.id&&-1===n.inArray(s,r)&&r.push(s)}e.$element.val(r),e.$element.trigger("change")}))}},i.prototype.bind=function(t){var e=this;this.container=t,t.on("select",(function(t){e.select(t.data)})),t.on("unselect",(function(t){e.unselect(t.data)}))},i.prototype.destroy=function(){this.$element.find("*").each((function(){n.removeData(this,"data")}))},i.prototype.query=function(t,e){var i=[],r=this;this.$element.children().each((function(){var e=n(this);if(e.is("option")||e.is("optgroup")){var o=r.item(e),s=r.matches(t,o);null!==s&&i.push(s)}})),e({results:i})},i.prototype.addOptions=function(t){e.appendMany(this.$element,t)},i.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup")).label=t.text:void 0!==(e=document.createElement("option")).textContent?e.textContent=t.text:e.innerText=t.text,void 0!==t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var i=n(e),r=this._normalizeItem(t);return r.element=e,n.data(e,"data",r),i},i.prototype.item=function(t){var e={};if(null!=(e=n.data(t[0],"data")))return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var i=t.children("option"),r=[],o=0;o<i.length;o++){var s=n(i[o]),a=this.item(s);r.push(a)}e.children=r}return(e=this._normalizeItem(e)).element=t[0],n.data(t[0],"data",e),e},i.prototype._normalizeItem=function(t){n.isPlainObject(t)||(t={id:t,text:t});var e={selected:!1,disabled:!1};return null!=(t=n.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),n.extend({},e,t)},i.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},i})),e.define("select2/data/array",["./select","../utils","jquery"],(function(t,e,n){function i(t,e){var n=e.get("data")||[];i.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(n))}return e.Extend(i,t),i.prototype.select=function(t){var e=this.$element.find("option").filter((function(e,n){return n.value==t.id.toString()}));0===e.length&&(e=this.option(t),this.addOptions(e)),i.__super__.select.call(this,t)},i.prototype.convertToOptions=function(t){function i(t){return function(){return n(this).val()==t.id}}for(var r=this,o=this.$element.find("option"),s=o.map((function(){return r.item(n(this)).id})).get(),a=[],l=0;l<t.length;l++){var c=this._normalizeItem(t[l]);if(n.inArray(c.id,s)>=0){var u=o.filter(i(c)),d=this.item(u),h=n.extend(!0,{},c,d),f=this.option(h);u.replaceWith(f)}else{var p=this.option(c);if(c.children){var g=this.convertToOptions(c.children);e.appendMany(p,g)}a.push(p)}}return a},i})),e.define("select2/data/ajax",["./array","../utils","jquery"],(function(t,e,n){function i(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype._applyDefaults=function(t){var e={data:function(t){return n.extend({},t,{q:t.term})},transport:function(t,e,i){var r=n.ajax(t);return r.then(e),r.fail(i),r}};return n.extend({},e,t,!0)},i.prototype.processResults=function(t){return t},i.prototype.query=function(t,e){function i(){var i=o.transport(o,(function(i){var o=r.processResults(i,t);r.options.get("debug")&&window.console&&console.error&&(o&&o.results&&n.isArray(o.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(o)}),(function(){i.status&&"0"===i.status||r.trigger("results:message",{message:"errorLoading"})}));r._request=i}var r=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof o.url&&(o.url=o.url.call(this.$element,t)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},i})),e.define("select2/data/tags",["jquery"],(function(t){function e(e,n,i){var r=i.get("tags"),o=i.get("createTag");void 0!==o&&(this.createTag=o);var s=i.get("insertTag");if(void 0!==s&&(this.insertTag=s),e.call(this,n,i),t.isArray(r))for(var a=0;a<r.length;a++){var l=r[a],c=this._normalizeItem(l),u=this.option(c);this.$element.append(u)}}return e.prototype.query=function(t,e,n){function i(t,o){for(var s=t.results,a=0;a<s.length;a++){var l=s[a],c=null!=l.children&&!i({results:l.children},!0);if((l.text||"").toUpperCase()===(e.term||"").toUpperCase()||c)return!o&&(t.data=s,void n(t))}if(o)return!0;var u=r.createTag(e);if(null!=u){var d=r.option(u);d.attr("data-select2-tag",!0),r.addOptions([d]),r.insertTag(s,u)}t.results=s,n(t)}var r=this;this._removeOldTags(),null!=e.term&&null==e.page?t.call(this,e,i):t.call(this,e,n)},e.prototype.createTag=function(e,n){var i=t.trim(n.term);return""===i?null:{id:i,text:i}},e.prototype.insertTag=function(t,e,n){e.unshift(n)},e.prototype._removeOldTags=function(){this._lastTag;this.$element.find("option[data-select2-tag]").each((function(){this.selected||t(this).remove()}))},e})),e.define("select2/data/tokenizer",["jquery"],(function(t){function e(t,e,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),t.call(this,e,n)}return e.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,n,i){function r(e){var n=s._normalizeItem(e);if(!s.$element.find("option").filter((function(){return t(this).val()===n.id})).length){var i=s.option(n);i.attr("data-select2-tag",!0),s._removeOldTags(),s.addOptions([i])}o(n)}function o(t){s.trigger("select",{data:t})}var s=this;n.term=n.term||"";var a=this.tokenizer(n,this.options,r);a.term!==n.term&&(this.$search.length&&(this.$search.val(a.term),this.$search.focus()),n.term=a.term),e.call(this,n,i)},e.prototype.tokenizer=function(e,n,i,r){for(var o=i.get("tokenSeparators")||[],s=n.term,a=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};a<s.length;){var c=s[a];if(-1!==t.inArray(c,o)){var u=s.substr(0,a),d=l(t.extend({},n,{term:u}));null!=d?(r(d),s=s.substr(a+1)||"",a=0):a++}else a++}return{term:s}},e})),e.define("select2/data/minimumInputLength",[],(function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",e.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t})),e.define("select2/data/maximumInputLength",[],(function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t})),e.define("select2/data/maximumSelectionLength",[],(function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){var i=this;this.current((function(r){var o=null!=r?r.length:0;i.maximumSelectionLength>0&&o>=i.maximumSelectionLength?i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):t.call(i,e,n)}))},t})),e.define("select2/dropdown",["jquery","./utils"],(function(t,e){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},n.prototype.bind=function(){},n.prototype.position=function(){},n.prototype.destroy=function(){this.$dropdown.remove()},n})),e.define("select2/dropdown/search",["jquery","../utils"],(function(t){function e(){}return e.prototype.render=function(e){var n=e.call(this),i=this.$element.attr("id")+"-search__field",r=t('<span class="select2-search select2-search--dropdown"><input id="'+i+'" class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=r,this.$search=r.find("input"),n.prepend(r),n},e.prototype.bind=function(e,n,i){var r=this;e.call(this,n,i),this.$search.on("keydown",(function(t){r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented()})),this.$search.on("input",(function(){t(this).off("keyup")})),this.$search.on("keyup input",(function(t){r.handleSearch(t)})),n.on("open",(function(){r.$search.attr("tabindex",0),r.$search.focus(),window.setTimeout((function(){r.$search.focus()}),0)})),n.on("close",(function(){r.$search.attr("tabindex",-1),r.$search.val("")})),n.on("focus",(function(){n.isOpen()||r.$search.focus()})),n.on("results:all",(function(t){null!=t.query.term&&""!==t.query.term||(r.showSearch(t)?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide"))}))},e.prototype.handleSearch=function(){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},e.prototype.showSearch=function(){return!0},e})),e.define("select2/dropdown/hidePlaceholder",[],(function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;i>=0;i--){var r=e[i];this.placeholder.id===r.id&&n.splice(i,1)}return n},t})),e.define("select2/dropdown/infiniteScroll",["jquery"],(function(t){function e(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,n,i){var r=this;e.call(this,n,i),n.on("query",(function(t){r.lastParams=t,r.loading=!0})),n.on("query:append",(function(t){r.lastParams=t,r.loading=!0})),this.$results.on("scroll",(function(){var e=t.contains(document.documentElement,r.$loadingMore[0]);!r.loading&&e&&(r.$results.offset().top+r.$results.outerHeight(!1)+50>=r.$loadingMore.offset().top+r.$loadingMore.outerHeight(!1)&&r.loadMore())}))},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return e.html(n(this.lastParams)),e},e})),e.define("select2/dropdown/attachBody",["jquery","../utils"],(function(t,e){function n(e,n,i){this.$dropdownParent=i.get("dropdownParent")||t(document.body),e.call(this,n,i)}return n.prototype.bind=function(t,e,n){var i=this,r=!1;t.call(this,e,n),e.on("open",(function(){i._showDropdown(),i._attachPositioningHandler(e),r||(r=!0,e.on("results:all",(function(){i._positionDropdown(),i._resizeDropdown()})),e.on("results:append",(function(){i._positionDropdown(),i._resizeDropdown()})))})),e.on("close",(function(){i._hideDropdown(),i._detachPositioningHandler(e)})),this.$dropdownContainer.on("mousedown",(function(t){t.stopPropagation()}))},n.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(e){var n=t("<span></span>"),i=e.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,i){var r=this,o="scroll.select2."+i.id,s="resize.select2."+i.id,a="orientationchange.select2."+i.id,l=this.$container.parents().filter(e.hasScroll);l.each((function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})})),l.on(o,(function(){var e=t(this).data("select2-scroll-position");t(this).scrollTop(e.y)})),t(window).on(o+" "+s+" "+a,(function(){r._positionDropdown(),r._resizeDropdown()}))},
n.prototype._detachPositioningHandler=function(n,i){var r="scroll.select2."+i.id,o="resize.select2."+i.id,s="orientationchange.select2."+i.id;this.$container.parents().filter(e.hasScroll).off(r),t(window).off(r+" "+o+" "+s)},n.prototype._positionDropdown=function(){var e=t(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),r=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=o.top,s.bottom=o.top+s.height;var a={height:this.$dropdown.outerHeight(!1)},l={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},c=l.top<o.top-a.height,u=l.bottom>o.bottom+a.height,d={left:o.left,top:s.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var f=h.offset();d.top-=f.top,d.left-=f.left,n||i||(r="below"),u||!c||n?!c&&u&&n&&(r="below"):r="above",("above"==r||n&&"below"!==r)&&(d.top=s.top-f.top-a.height),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(d)},n.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},n.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n})),e.define("select2/dropdown/minimumResultsForSearch",[],(function(){function t(e){for(var n=0,i=0;i<e.length;i++){var r=e[i];r.children?n+=t(r.children):n++}return n}function e(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,i)}return e.prototype.showSearch=function(e,n){return!(t(n.data.results)<this.minimumResultsForSearch)&&e.call(this,n)},e})),e.define("select2/dropdown/selectOnClose",[],(function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",(function(t){i._handleSelectOnClose(t)}))},t.prototype._handleSelectOnClose=function(t,e){if(e&&null!=e.originalSelect2Event){var n=e.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var r=i.data("data");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})}},t})),e.define("select2/dropdown/closeOnSelect",[],(function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",(function(t){i._selectTriggered(t)})),e.on("unselect",(function(t){i._selectTriggered(t)}))},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t})),e.define("select2/i18n/en",[],(function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching\u2026"}}})),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],(function(t,e,n,i,r,o,s,a,l,c,u,d,h,f,p,g,m,v,y,b,w,x,C,_,k,S,T,D,E){function M(){this.reset()}return M.prototype.apply=function(d){if(null==(d=t.extend(!0,{},this.defaults,d)).dataAdapter){if(null!=d.ajax?d.dataAdapter=p:null!=d.data?d.dataAdapter=f:d.dataAdapter=h,d.minimumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,v)),d.maximumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,y)),d.maximumSelectionLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,b)),d.tags&&(d.dataAdapter=c.Decorate(d.dataAdapter,g)),null==d.tokenSeparators&&null==d.tokenizer||(d.dataAdapter=c.Decorate(d.dataAdapter,m)),null!=d.query){var E=e(d.amdBase+"compat/query");d.dataAdapter=c.Decorate(d.dataAdapter,E)}if(null!=d.initSelection){var M=e(d.amdBase+"compat/initSelection");d.dataAdapter=c.Decorate(d.dataAdapter,M)}}if(null==d.resultsAdapter&&(d.resultsAdapter=n,null!=d.ajax&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,_)),null!=d.placeholder&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,C)),d.selectOnClose&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,T))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=w;else{var A=c.Decorate(w,x);d.dropdownAdapter=A}if(0!==d.minimumResultsForSearch&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,S)),d.closeOnSelect&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,D)),null!=d.dropdownCssClass||null!=d.dropdownCss||null!=d.adaptDropdownCssClass){var O=e(d.amdBase+"compat/dropdownCss");d.dropdownAdapter=c.Decorate(d.dropdownAdapter,O)}d.dropdownAdapter=c.Decorate(d.dropdownAdapter,k)}if(null==d.selectionAdapter){if(d.multiple?d.selectionAdapter=r:d.selectionAdapter=i,null!=d.placeholder&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,o)),d.allowClear&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,s)),d.multiple&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,a)),null!=d.containerCssClass||null!=d.containerCss||null!=d.adaptContainerCssClass){var P=e(d.amdBase+"compat/containerCss");d.selectionAdapter=c.Decorate(d.selectionAdapter,P)}d.selectionAdapter=c.Decorate(d.selectionAdapter,l)}if("string"==typeof d.language)if(d.language.indexOf("-")>0){var L=d.language.split("-")[0];d.language=[d.language,L]}else d.language=[d.language];if(t.isArray(d.language)){var I=new u;d.language.push("en");for(var $=d.language,F=0;F<$.length;F++){var H=$[F],N={};try{N=u.loadPath(H)}catch(t){try{H=this.defaults.amdLanguageBase+H,N=u.loadPath(H)}catch(t){d.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+H+'" could not be automatically loaded. A fallback will be used instead.');continue}}I.extend(N)}d.translations=I}else{var z=u.loadPath(this.defaults.amdLanguageBase+"en"),B=new u(d.language);B.extend(z),d.translations=B}return d},M.prototype.reset=function(){function e(t){function e(t){return d[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function n(i,r){if(""===t.trim(i.term))return r;if(r.children&&r.children.length>0){for(var o=t.extend(!0,{},r),s=r.children.length-1;s>=0;s--){null==n(i,r.children[s])&&o.children.splice(s,1)}return o.children.length>0?o:n(i,o)}var a=e(r.text).toUpperCase(),l=e(i.term).toUpperCase();return a.indexOf(l)>-1?r:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:E,matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},M.prototype.set=function(e,n){var i={};i[t.camelCase(e)]=n;var r=c._convertData(i);t.extend(this.defaults,r)},new M})),e.define("select2/options",["require","jquery","./defaults","./utils"],(function(t,e,n,i){function r(e,r){if(this.options=e,null!=r&&this.fromElement(r),this.options=n.apply(this.options),r&&r.is("input")){var o=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,o)}}return r.prototype.fromElement=function(t){var n=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var r={};r=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var o=e.extend(!0,{},r);for(var s in o=i._convertData(o))e.inArray(s,n)>-1||(e.isPlainObject(this.options[s])?e.extend(this.options[s],o[s]):this.options[s]=o[s]);return this},r.prototype.get=function(t){return this.options[t]},r.prototype.set=function(t,e){this.options[t]=e},r})),e.define("select2/core",["jquery","./options","./utils","./keys"],(function(t,e,n,i){var r=function(t,n){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),n=n||{},this.options=new e(n,t),r.__super__.constructor.call(this);var i=t.attr("tabindex")||0;t.data("old-tabindex",i),t.attr("tabindex","-1");var o=this.options.get("dataAdapter");this.dataAdapter=new o(t,this.options);var s=this.render();this._placeContainer(s);var a=this.options.get("selectionAdapter");this.selection=new a(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var l=this.options.get("dropdownAdapter");this.dropdown=new l(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var c=this.options.get("resultsAdapter");this.results=new c(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current((function(t){u.trigger("selection:update",{data:t})})),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return n.Extend(r,n.Observable),r.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},r.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},r.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){var r=t.outerWidth(!1);return r<=0?"auto":r+"px"}if("style"==e){var o=t.attr("style");if("string"!=typeof o)return null;for(var s=o.split(";"),a=0,l=s.length;a<l;a+=1){var c=s[a].replace(/\s/g,"").match(n);if(null!==c&&c.length>=1)return c[1]}return null}return e},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",(function(){e.dataAdapter.current((function(t){e.trigger("selection:update",{data:t})}))})),this.$element.on("focus.select2",(function(t){e.trigger("focus",t)})),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i((function(n){t.each(n,e._syncA),t.each(n,e._syncS)})),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},r.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",(function(e,n){t.trigger(e,n)}))},r.prototype._registerSelectionEvents=function(){var e=this,n=["toggle","focus"];this.selection.on("toggle",(function(){e.toggleDropdown()})),this.selection.on("focus",(function(t){e.focus(t)})),this.selection.on("*",(function(i,r){-1===t.inArray(i,n)&&e.trigger(i,r)}))},r.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",(function(e,n){t.trigger(e,n)}))},r.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",(function(e,n){t.trigger(e,n)}))},r.prototype._registerEvents=function(){var t=this;this.on("open",(function(){t.$container.addClass("select2-container--open")})),this.on("close",(function(){t.$container.removeClass("select2-container--open")})),this.on("enable",(function(){t.$container.removeClass("select2-container--disabled")})),this.on("disable",(function(){t.$container.addClass("select2-container--disabled")})),this.on("blur",(function(){t.$container.removeClass("select2-container--focus")})),this.on("query",(function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,(function(n){t.trigger("results:all",{data:n,query:e})}))})),this.on("query:append",(function(e){this.dataAdapter.query(e,(function(n){t.trigger("results:append",{data:n,query:e})}))})),this.on("keypress",(function(e){var n=e.which;t.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&e.altKey?(t.close(),e.preventDefault()):n===i.ENTER?(t.trigger("results:select",{}),e.preventDefault()):n===i.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):n===i.UP?(t.trigger("results:previous",{}),e.preventDefault()):n===i.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&e.altKey)&&(t.open(),e.preventDefault())}))},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._syncSubtree=function(t,e){var n=!1,i=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&e.addedNodes.length>0)for(var r=0;r<e.addedNodes.length;r++){e.addedNodes[r].selected&&(n=!0)}else e.removedNodes&&e.removedNodes.length>0&&(n=!0);else n=!0;n&&this.dataAdapter.current((function(t){i.trigger("selection:update",{data:t})}))}},r.prototype.trigger=function(t,e){var n=r.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===e&&(e={}),t in i){var o=i[t],s={prevented:!1,name:t,args:e};if(n.call(this,o,s),s.prevented)return void(e.prevented=!0)}n.call(this,t,e)},r.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.trigger("query",{})},r.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},r.prototype.focus=function(){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},r.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current((function(e){t=e})),t},r.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var n=e[0];t.isArray(n)&&(n=t.map(n,(function(t){return t.toString()}))),this.$element.val(n).trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},r})),e.define("jquery-mousewheel",["jquery"],(function(t){return t})),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],(function(t,e,n,i){if(null==t.fn.select2){var r=["open","close","destroy"];t.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each((function(){var i=t.extend(!0,{},e);new n(t(this),i)})),this;if("string"==typeof e){var i,o=Array.prototype.slice.call(arguments,1);return this.each((function(){var n=t(this).data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),i=n[e].apply(n,o)})),t.inArray(e,r)>-1?this:i}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=i),n})),{define:e.define,require:e.require}}(),n=e.require("jquery.select2");return t.fn.select2.amd=e,n})),function(t,e,n,i){"use strict";function r(t,e){var i,r,o,s=[],a=0;t&&t.isDefaultPrevented()||(t.preventDefault(),e=e||{},t&&t.data&&(e=y(t.data.options,e)),i=e.$target||n(t.currentTarget).trigger("blur"),(o=n.fancybox.getInstance())&&o.$trigger&&o.$trigger.is(i)||(s=e.selector?n(e.selector):(r=i.attr("data-fancybox")||"")?(s=t.data?t.data.items:[]).length?s.filter('[data-fancybox="'+r+'"]'):n('[data-fancybox="'+r+'"]'):[i],(a=n(s).index(i))<0&&(a=0),(o=n.fancybox.open(s,e,a)).$trigger=i))}if(t.console=t.console||{info:function(){}},n)if(n.fn.fancybox)console.info("fancyBox already initialized");else{var o,s,a,l,c={closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","slideShow","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" allowfullscreen="allowfullscreen" allow="autoplay; fullscreen" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},video:{tpl:'<video class="fancybox-video" controls controlsList="nodownload" poster="{{poster}}"><source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!</video>',format:"",autoStart:!0},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"><div class="fancybox-caption__body"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/></svg></button>',arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/></svg></div></button>',arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/></svg></div></button>',smallBtn:'<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" version="1" viewBox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/></svg></button>'},parentEl:"body",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeClose:n.noop,afterClose:n.noop,onActivate:n.noop,onDeactivate:n.noop,clickContent:function(t){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(t){return"image"===t.type&&"toggleControls"},clickSlide:function(t){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t){return"image"===t.type&&"zoom"},dblclickSlide:function(t){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schlie&szlig;en",NEXT:"Weiter",PREV:"Zur&uuml;ck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Vergr&ouml;&szlig;ern"}}},u=n(t),d=n(e),h=0,f=function(t){return t&&t.hasOwnProperty&&t instanceof n},p=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)},g=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)},m=function(){var t,n=e.createElement("fakeelement"),r={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in r)if(n.style[t]!==i)return r[t];return"transitionend"}(),v=function(t){return t&&t.length&&t[0].offsetHeight},y=function(t,e){var i=n.extend(!0,{},t,e);return n.each(e,(function(t,e){n.isArray(e)&&(i[t]=e)})),i},b=function(t){var i,r;return!(!t||t.ownerDocument!==e)&&(n(".fancybox-container").css("pointer-events","none"),i={x:t.getBoundingClientRect().left+t.offsetWidth/2,y:t.getBoundingClientRect().top+t.offsetHeight/2},r=e.elementFromPoint(i.x,i.y)===t,n(".fancybox-container").css("pointer-events",""),r)},w=function(t,e,i){var r=this;r.opts=y({index:i},n.fancybox.defaults),n.isPlainObject(e)&&(r.opts=y(r.opts,e)),n.fancybox.isMobile&&(r.opts=y(r.opts,r.opts.mobile)),r.id=r.opts.id||++h,r.currIndex=parseInt(r.opts.index,10)||0,r.prevIndex=null,r.prevPos=null,r.currPos=0,r.firstRun=!0,r.group=[],r.slides={},r.addContent(t),r.group.length&&r.init()};n.extend(w.prototype,{init:function(){var i,r,o=this,s=o.group[o.currIndex].opts;s.closeExisting&&n.fancybox.close(!0),n("body").addClass("fancybox-active"),!n.fancybox.getInstance()&&!1!==s.hideScrollbar&&!n.fancybox.isMobile&&e.body.scrollHeight>t.innerHeight&&(n("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:'+(t.innerWidth-e.documentElement.clientWidth)+"px;}</style>"),n("body").addClass("compensate-for-scrollbar")),r="",n.each(s.buttons,(function(t,e){r+=s.btnTpl[e]||""})),i=n(o.translate(o,s.baseTpl.replace("{{buttons}}",r).replace("{{arrows}}",s.btnTpl.arrowLeft+s.btnTpl.arrowRight))).attr("id","fancybox-container-"+o.id).addClass(s.baseClass).data("FancyBox",o).appendTo(s.parentEl),o.$refs={container:i},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach((function(t){o.$refs[t]=i.find(".fancybox-"+t)})),o.trigger("onInit"),o.activate(),o.jumpTo(o.currIndex)},translate:function(t,e){var n=t.opts.i18n[t.opts.lang]||t.opts.i18n.en;return e.replace(/\{\{(\w+)\}\}/g,(function(t,e){return n[e]===i?t:n[e]}))},addContent:function(t){var e,r=this,o=n.makeArray(t);n.each(o,(function(t,e){var o,s,a,l,c,u={},d={};n.isPlainObject(e)?(u=e,d=e.opts||e):"object"===n.type(e)&&n(e).length?(d=(o=n(e)).data()||{},(d=n.extend(!0,{},d,d.options)).$orig=o,u.src=r.opts.src||d.src||o.attr("href"),u.type||u.src||(u.type="inline",u.src=e)):u={type:"html",src:e+""},u.opts=n.extend(!0,{},r.opts,d),n.isArray(d.buttons)&&(u.opts.buttons=d.buttons),n.fancybox.isMobile&&u.opts.mobile&&(u.opts=y(u.opts,u.opts.mobile)),s=u.type||u.opts.type,l=u.src||"",!s&&l&&((a=l.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(s="video",u.opts.video.format||(u.opts.video.format="video/"+("ogv"===a[1]?"ogg":a[1]))):l.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?s="image":l.match(/\.(pdf)((\?|#).*)?$/i)?(s="iframe",u=n.extend(!0,u,{contentType:"pdf",opts:{iframe:{preload:!1}}})):"#"===l.charAt(0)&&(s="inline")),s?u.type=s:r.trigger("objectNeedsType",u),u.contentType||(u.contentType=n.inArray(u.type,["html","inline","ajax"])>-1?"html":u.type),u.index=r.group.length,"auto"==u.opts.smallBtn&&(u.opts.smallBtn=n.inArray(u.type,["html","inline","ajax"])>-1),"auto"===u.opts.toolbar&&(u.opts.toolbar=!u.opts.smallBtn),u.$thumb=u.opts.$thumb||null,u.opts.$trigger&&u.index===r.opts.index&&(u.$thumb=u.opts.$trigger.find("img:first"),u.$thumb.length&&(u.opts.$orig=u.opts.$trigger)),u.$thumb&&u.$thumb.length||!u.opts.$orig||(u.$thumb=u.opts.$orig.find("img:first")),u.$thumb&&!u.$thumb.length&&(u.$thumb=null),u.thumb=u.opts.thumb||(u.$thumb?u.$thumb[0].src:null),"function"===n.type(u.opts.caption)&&(u.opts.caption=u.opts.caption.apply(e,[r,u])),"function"===n.type(r.opts.caption)&&(u.opts.caption=r.opts.caption.apply(e,[r,u])),u.opts.caption instanceof n||(u.opts.caption=u.opts.caption===i?"":u.opts.caption+""),"ajax"===u.type&&(c=l.split(/\s+/,2)).length>1&&(u.src=c.shift(),u.opts.filter=c.shift()),u.opts.modal&&(u.opts=n.extend(!0,u.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),r.group.push(u)})),Object.keys(r.slides).length&&(r.updateControls(),(e=r.Thumbs)&&e.isActive&&(e.create(),e.focus()))},addEvents:function(){var e=this;e.removeEvents(),e.$refs.container.on("click.fb-close","[data-fancybox-close]",(function(t){t.stopPropagation(),t.preventDefault(),e.close(t)})).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",(function(t){t.stopPropagation(),t.preventDefault(),e.previous()})).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",(function(t){t.stopPropagation(),t.preventDefault(),e.next()})).on("click.fb","[data-fancybox-zoom]",(function(){e[e.isScaledDown()?"scaleToActual":"scaleToFit"]()})),u.on("orientationchange.fb resize.fb",(function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?(e.requestId&&g(e.requestId),e.requestId=p((function(){e.update(t)}))):(e.current&&"iframe"===e.current.type&&e.$refs.stage.hide(),setTimeout((function(){e.$refs.stage.show(),e.update(t)}),n.fancybox.isMobile?600:250))})),d.on("keydown.fb",(function(t){var i=(n.fancybox?n.fancybox.getInstance():null).current,r=t.keyCode||t.which;if(9!=r){if(!(!i.opts.keyboard||t.ctrlKey||t.altKey||t.shiftKey||n(t.target).is("input,textarea,video,audio")))return 8===r||27===r?(t.preventDefault(),void e.close(t)):37===r||38===r?(t.preventDefault(),void e.previous()):39===r||40===r?(t.preventDefault(),void e.next()):void e.trigger("afterKeydown",t,r)}else i.opts.trapFocus&&e.focus(t)})),e.group[e.currIndex].opts.idleTime&&(e.idleSecondsCounter=0,d.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",(function(){e.idleSecondsCounter=0,e.isIdle&&e.showControls(),e.isIdle=!1})),e.idleInterval=t.setInterval((function(){e.idleSecondsCounter++,e.idleSecondsCounter>=e.group[e.currIndex].opts.idleTime&&!e.isDragging&&(e.isIdle=!0,e.idleSecondsCounter=0,e.hideControls())}),1e3))},removeEvents:function(){var e=this;u.off("orientationchange.fb resize.fb"),d.off("keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),e.idleInterval&&(t.clearInterval(e.idleInterval),e.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,e){var r,o,s,a,l,c,u,d,h,f=this,p=f.group.length;if(!(f.isDragging||f.isClosing||f.isAnimating&&f.firstRun)){if(t=parseInt(t,10),!(s=f.current?f.current.opts.loop:f.opts.loop)&&(t<0||t>=p))return!1;if(r=f.firstRun=!Object.keys(f.slides).length,l=f.current,f.prevIndex=f.currIndex,f.prevPos=f.currPos,a=f.createSlide(t),p>1&&((s||a.index<p-1)&&f.createSlide(t+1),(s||a.index>0)&&f.createSlide(t-1)),f.current=a,f.currIndex=a.index,f.currPos=a.pos,f.trigger("beforeShow",r),f.updateControls(),a.forcedDuration=i,
n.isNumeric(e)?a.forcedDuration=e:e=a.opts[r?"animationDuration":"transitionDuration"],e=parseInt(e,10),o=f.isMoved(a),a.$slide.addClass("fancybox-slide--current"),r)return a.opts.animationEffect&&e&&f.$refs.container.css("transition-duration",e+"ms"),f.$refs.container.addClass("fancybox-is-open").trigger("focus"),f.loadSlide(a),void f.preload("image");c=n.fancybox.getTranslate(l.$slide),u=n.fancybox.getTranslate(f.$refs.stage),n.each(f.slides,(function(t,e){n.fancybox.stop(e.$slide,!0)})),l.pos!==a.pos&&(l.isComplete=!1),l.$slide.removeClass("fancybox-slide--complete fancybox-slide--current"),o?(h=c.left-(l.pos*c.width+l.pos*l.opts.gutter),n.each(f.slides,(function(t,i){i.$slide.removeClass("fancybox-animated").removeClass((function(t,e){return(e.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")}));var r=i.pos*c.width+i.pos*i.opts.gutter;n.fancybox.setTranslate(i.$slide,{top:0,left:r-u.left+h}),i.pos!==a.pos&&i.$slide.addClass("fancybox-slide--"+(i.pos>a.pos?"next":"previous")),v(i.$slide),n.fancybox.animate(i.$slide,{top:0,left:(i.pos-a.pos)*c.width+(i.pos-a.pos)*i.opts.gutter},e,(function(){i.$slide.css({transform:"",opacity:""}).removeClass("fancybox-slide--next fancybox-slide--previous"),i.pos===f.currPos&&f.complete()}))}))):e&&a.opts.transitionEffect&&(d="fancybox-animated fancybox-fx-"+a.opts.transitionEffect,l.$slide.addClass("fancybox-slide--"+(l.pos>a.pos?"next":"previous")),n.fancybox.animate(l.$slide,d,e,(function(){l.$slide.removeClass(d).removeClass("fancybox-slide--next fancybox-slide--previous")}),!1)),a.isLoaded?f.revealContent(a):f.loadSlide(a),f.preload("image")}},createSlide:function(t){var e,i,r=this;return i=(i=t%r.group.length)<0?r.group.length+i:i,!r.slides[t]&&r.group[i]&&(e=n('<div class="fancybox-slide"></div>').appendTo(r.$refs.stage),r.slides[t]=n.extend(!0,{},r.group[i],{pos:t,$slide:e,isLoaded:!1}),r.updateSlide(r.slides[t])),r.slides[t]},scaleToActual:function(t,e,r){var o,s,a,l,c,u=this,d=u.current,h=d.$content,f=n.fancybox.getTranslate(d.$slide).width,p=n.fancybox.getTranslate(d.$slide).height,g=d.width,m=d.height;u.isAnimating||u.isMoved()||!h||"image"!=d.type||!d.isLoaded||d.hasError||(u.isAnimating=!0,n.fancybox.stop(h),t=t===i?.5*f:t,e=e===i?.5*p:e,(o=n.fancybox.getTranslate(h)).top-=n.fancybox.getTranslate(d.$slide).top,o.left-=n.fancybox.getTranslate(d.$slide).left,l=g/o.width,c=m/o.height,s=.5*f-.5*g,a=.5*p-.5*m,g>f&&((s=o.left*l-(t*l-t))>0&&(s=0),s<f-g&&(s=f-g)),m>p&&((a=o.top*c-(e*c-e))>0&&(a=0),a<p-m&&(a=p-m)),u.updateCursor(g,m),n.fancybox.animate(h,{top:a,left:s,scaleX:l,scaleY:c},r||366,(function(){u.isAnimating=!1})),u.SlideShow&&u.SlideShow.isActive&&u.SlideShow.stop())},scaleToFit:function(t){var e,i=this,r=i.current,o=r.$content;i.isAnimating||i.isMoved()||!o||"image"!=r.type||!r.isLoaded||r.hasError||(i.isAnimating=!0,n.fancybox.stop(o),e=i.getFitPos(r),i.updateCursor(e.width,e.height),n.fancybox.animate(o,{top:e.top,left:e.left,scaleX:e.width/o.width(),scaleY:e.height/o.height()},t||366,(function(){i.isAnimating=!1})))},getFitPos:function(t){var e,i,r,o,s=this,a=t.$content,l=t.$slide,c=t.width||t.opts.width,u=t.height||t.opts.height,d={};return!!(t.isLoaded&&a&&a.length)&&(e=n.fancybox.getTranslate(s.$refs.stage).width,i=n.fancybox.getTranslate(s.$refs.stage).height,e-=parseFloat(l.css("paddingLeft"))+parseFloat(l.css("paddingRight"))+parseFloat(a.css("marginLeft"))+parseFloat(a.css("marginRight")),i-=parseFloat(l.css("paddingTop"))+parseFloat(l.css("paddingBottom"))+parseFloat(a.css("marginTop"))+parseFloat(a.css("marginBottom")),c&&u||(c=e,u=i),(c*=r=Math.min(1,e/c,i/u))>e-.5&&(c=e),(u*=r)>i-.5&&(u=i),"image"===t.type?(d.top=Math.floor(.5*(i-u))+parseFloat(l.css("paddingTop")),d.left=Math.floor(.5*(e-c))+parseFloat(l.css("paddingLeft"))):"video"===t.contentType&&(u>c/(o=t.opts.width&&t.opts.height?c/u:t.opts.ratio||16/9)?u=c/o:c>u*o&&(c=u*o)),d.width=c,d.height=u,d)},update:function(t){var e=this;n.each(e.slides,(function(n,i){e.updateSlide(i,t)}))},updateSlide:function(t,e){var i=this,r=t&&t.$content,o=t.width||t.opts.width,s=t.height||t.opts.height,a=t.$slide;i.adjustCaption(t),r&&(o||s||"video"===t.contentType)&&!t.hasError&&(n.fancybox.stop(r),n.fancybox.setTranslate(r,i.getFitPos(t)),t.pos===i.currPos&&(i.isAnimating=!1,i.updateCursor())),i.adjustLayout(t),a.length&&(a.trigger("refresh"),t.pos===i.currPos&&i.$refs.toolbar.add(i.$refs.navigation.find(".fancybox-button--arrow_right")).toggleClass("compensate-for-scrollbar",a.get(0).scrollHeight>a.get(0).clientHeight)),i.trigger("onUpdate",t,e)},centerSlide:function(t){var e=this,r=e.current,o=r.$slide;!e.isClosing&&r&&(o.siblings().css({transform:"",opacity:""}),o.parent().children().removeClass("fancybox-slide--previous fancybox-slide--next"),n.fancybox.animate(o,{top:0,left:0,opacity:1},t===i?0:t,(function(){o.css({transform:"",opacity:""}),r.isComplete||e.complete()}),!1))},isMoved:function(t){var e,i,r=t||this.current;return!!r&&(i=n.fancybox.getTranslate(this.$refs.stage),e=n.fancybox.getTranslate(r.$slide),!r.$slide.hasClass("fancybox-animated")&&(Math.abs(e.top-i.top)>.5||Math.abs(e.left-i.left)>.5))},updateCursor:function(t,e){var i,r,o=this,s=o.current,a=o.$refs.container;s&&!o.isClosing&&o.Guestures&&(a.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan"),r=!!(i=o.canPan(t,e))||o.isZoomable(),a.toggleClass("fancybox-is-zoomable",r),n("[data-fancybox-zoom]").prop("disabled",!r),i?a.addClass("fancybox-can-pan"):r&&("zoom"===s.opts.clickContent||n.isFunction(s.opts.clickContent)&&"zoom"==s.opts.clickContent(s))?a.addClass("fancybox-can-zoomIn"):s.opts.touch&&(s.opts.touch.vertical||o.group.length>1)&&"video"!==s.contentType&&a.addClass("fancybox-can-swipe"))},isZoomable:function(){var t,e=this,n=e.current;if(n&&!e.isClosing&&"image"===n.type&&!n.hasError){if(!n.isLoaded)return!0;if((t=e.getFitPos(n))&&(n.width>t.width||n.height>t.height))return!0}return!1},isScaledDown:function(t,e){var r=!1,o=this.current,s=o.$content;return t!==i&&e!==i?r=t<o.width&&e<o.height:s&&(r=(r=n.fancybox.getTranslate(s)).width<o.width&&r.height<o.height),r},canPan:function(t,e){var r=this,o=r.current,s=null,a=!1;return"image"===o.type&&(o.isComplete||t&&e)&&!o.hasError&&(a=r.getFitPos(o),t!==i&&e!==i?s={width:t,height:e}:o.isComplete&&(s=n.fancybox.getTranslate(o.$content)),s&&a&&(a=Math.abs(s.width-a.width)>1.5||Math.abs(s.height-a.height)>1.5)),a},loadSlide:function(t){var e,i,r,o=this;if(!t.isLoading&&!t.isLoaded){if(t.isLoading=!0,!1===o.trigger("beforeLoad",t))return t.isLoading=!1,!1;switch(e=t.type,(i=t.$slide).off("refresh").trigger("onReset").addClass(t.opts.slideClass),e){case"image":o.setImage(t);break;case"iframe":o.setIframe(t);break;case"html":o.setContent(t,t.src||t.content);break;case"video":o.setContent(t,t.opts.video.tpl.replace(/\{\{src\}\}/gi,t.src).replace("{{format}}",t.opts.videoFormat||t.opts.video.format||"").replace("{{poster}}",t.thumb||""));break;case"inline":n(t.src).length?o.setContent(t,n(t.src)):o.setError(t);break;case"ajax":o.showLoading(t),r=n.ajax(n.extend({},t.opts.ajax.settings,{url:t.src,success:function(e,n){"success"===n&&o.setContent(t,e)},error:function(e,n){e&&"abort"!==n&&o.setError(t)}})),i.one("onReset",(function(){r.abort()}));break;default:o.setError(t)}return!0}},setImage:function(t){var i,r=this;setTimeout((function(){var e=t.$image;r.isClosing||!t.isLoading||e&&e.length&&e[0].complete||t.hasError||r.showLoading(t)}),50),r.checkSrcset(t),t.$content=n('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(t.$slide.addClass("fancybox-slide--image")),!1!==t.opts.preload&&t.opts.width&&t.opts.height&&t.thumb&&(t.width=t.opts.width,t.height=t.opts.height,(i=e.createElement("img")).onerror=function(){n(this).remove(),t.$ghost=null},i.onload=function(){r.afterLoad(t)},t.$ghost=n(i).addClass("fancybox-image").appendTo(t.$content).attr("src",t.thumb)),r.setBigImage(t)},checkSrcset:function(e){var n,i,r,o,s=e.opts.srcset||e.opts.image.srcset;if(s){r=t.devicePixelRatio||1,o=t.innerWidth*r,i=s.split(",").map((function(t){var e={};return t.trim().split(/\s+/).forEach((function(t,n){var i=parseInt(t.substring(0,t.length-1),10);if(0===n)return e.url=t;i&&(e.value=i,e.postfix=t[t.length-1])})),e})),i.sort((function(t,e){return t.value-e.value}));for(var a=0;a<i.length;a++){var l=i[a];if("w"===l.postfix&&l.value>=o||"x"===l.postfix&&l.value>=r){n=l;break}}!n&&i.length&&(n=i[i.length-1]),n&&(e.src=n.url,e.width&&e.height&&"w"==n.postfix&&(e.height=e.width/e.height*n.value,e.width=n.value),e.opts.srcset=s)}},setBigImage:function(t){var i=this,r=e.createElement("img"),o=n(r);t.$image=o.one("error",(function(){i.setError(t)})).one("load",(function(){var e;t.$ghost||(i.resolveImageSlideSize(t,this.naturalWidth,this.naturalHeight),i.afterLoad(t)),i.isClosing||(t.opts.srcset&&((e=t.opts.sizes)&&"auto"!==e||(e=(t.width/t.height>1&&u.width()/u.height()>1?"100":Math.round(t.width/t.height*100))+"vw"),o.attr("sizes",e).attr("srcset",t.opts.srcset)),t.$ghost&&setTimeout((function(){t.$ghost&&!i.isClosing&&t.$ghost.hide()}),Math.min(300,Math.max(1e3,t.height/1600))),i.hideLoading(t))})).addClass("fancybox-image").attr("src",t.src).appendTo(t.$content),(r.complete||"complete"==r.readyState)&&o.naturalWidth&&o.naturalHeight?o.trigger("load"):r.error&&o.trigger("error")},resolveImageSlideSize:function(t,e,n){var i=parseInt(t.opts.width,10),r=parseInt(t.opts.height,10);t.width=e,t.height=n,i>0&&(t.width=i,t.height=Math.floor(i*n/e)),r>0&&(t.width=Math.floor(r*e/n),t.height=r)},setIframe:function(t){var e,r=this,o=t.opts.iframe,s=t.$slide;t.$content=n('<div class="fancybox-content'+(o.preload?" fancybox-is-hidden":"")+'"></div>').css(o.css).appendTo(s),s.addClass("fancybox-slide--"+t.contentType),t.$iframe=e=n(o.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(o.attr).appendTo(t.$content),o.preload?(r.showLoading(t),e.on("load.fb error.fb",(function(){this.isReady=1,t.$slide.trigger("refresh"),r.afterLoad(t)})),s.on("refresh.fb",(function(){var n,r=t.$content,a=o.css.width,l=o.css.height;if(1===e[0].isReady){try{n=e.contents().find("body")}catch(t){}n&&n.length&&n.children().length&&(s.css("overflow","visible"),r.css({width:"100%","max-width":"100%",height:"9999px"}),a===i&&(a=Math.ceil(Math.max(n[0].clientWidth,n.outerWidth(!0)))),r.css("width",a||"").css("max-width",""),l===i&&(l=Math.ceil(Math.max(n[0].clientHeight,n.outerHeight(!0)))),r.css("height",l||""),s.css("overflow","auto")),r.removeClass("fancybox-is-hidden")}}))):r.afterLoad(t),e.attr("src",t.src),s.one("onReset",(function(){try{n(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(t){}n(this).off("refresh.fb").empty(),t.isLoaded=!1,t.isRevealed=!1}))},setContent:function(t,e){var i=this;i.isClosing||(i.hideLoading(t),t.$content&&n.fancybox.stop(t.$content),t.$slide.empty(),f(e)&&e.parent().length?((e.hasClass("fancybox-content")||e.parent().hasClass("fancybox-content"))&&e.parents(".fancybox-slide").trigger("onReset"),t.$placeholder=n("<div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===n.type(e)&&(e=n("<div>").append(n.trim(e)).contents()),t.opts.filter&&(e=n("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",(function(){n(this).find("video,audio").trigger("pause"),t.$placeholder&&(t.$placeholder.after(e.removeClass("fancybox-content").hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(n(this).empty(),t.isLoaded=!1,t.isRevealed=!1)})),n(e).appendTo(t.$slide),n(e).is("video,audio")&&(n(e).addClass("fancybox-video"),n(e).wrap("<div></div>"),t.contentType="video",t.opts.width=t.opts.width||n(e).attr("width"),t.opts.height=t.opts.height||n(e).attr("height")),t.$content=t.$slide.children().filter("div,form,main,video,audio,article,.fancybox-content").first(),t.$content.siblings().hide(),t.$content.length||(t.$content=t.$slide.wrapInner("<div></div>").children().first()),t.$content.addClass("fancybox-content"),t.$slide.addClass("fancybox-slide--"+t.contentType),i.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.trigger("onReset").removeClass("fancybox-slide--"+t.contentType).addClass("fancybox-slide--error"),t.contentType="html",this.setContent(t,this.translate(t,t.opts.errorTpl)),t.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(t){var e=this;(t=t||e.current)&&!t.$spinner&&(t.$spinner=n(e.translate(e,e.opts.spinnerTpl)).appendTo(t.$slide).hide().fadeIn("fast"))},hideLoading:function(t){(t=t||this.current)&&t.$spinner&&(t.$spinner.stop().remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger("afterLoad",t),e.hideLoading(t),!t.opts.smallBtn||t.$smallBtn&&t.$smallBtn.length||(t.$smallBtn=n(e.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content)),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",(function(t){return 2==t.button&&t.preventDefault(),!0})),"image"===t.type&&n('<div class="fancybox-spaceball"></div>').appendTo(t.$content)),e.adjustCaption(t),e.adjustLayout(t),t.pos===e.currPos&&e.updateCursor(),e.revealContent(t))},adjustCaption:function(t){var e,n=this,i=t||n.current,r=i.opts.caption,o=i.opts.preventCaptionOverlap,s=n.$refs.caption,a=!1;s.toggleClass("fancybox-caption--separate",o),o&&r&&r.length&&(i.pos!==n.currPos?((e=s.clone().appendTo(s.parent())).children().eq(0).empty().html(r),a=e.outerHeight(!0),e.empty().remove()):n.$caption&&(a=n.$caption.outerHeight(!0)),i.$slide.css("padding-bottom",a||""))},adjustLayout:function(t){var e,n,i,r,o=t||this.current;o.isLoaded&&!0!==o.opts.disableLayoutFix&&(o.$content.css("margin-bottom",""),o.$content.outerHeight()>o.$slide.height()+.5&&(i=o.$slide[0].style["padding-bottom"],r=o.$slide.css("padding-bottom"),parseFloat(r)>0&&(e=o.$slide[0].scrollHeight,o.$slide.css("padding-bottom",0),Math.abs(e-o.$slide[0].scrollHeight)<1&&(n=r),o.$slide.css("padding-bottom",i))),o.$content.css("margin-bottom",n))},revealContent:function(t){var e,r,o,s,a=this,l=t.$slide,c=!1,u=!1,d=a.isMoved(t),h=t.isRevealed;return t.isRevealed=!0,e=t.opts[a.firstRun?"animationEffect":"transitionEffect"],o=t.opts[a.firstRun?"animationDuration":"transitionDuration"],o=parseInt(t.forcedDuration===i?o:t.forcedDuration,10),!d&&t.pos===a.currPos&&o||(e=!1),"zoom"===e&&(t.pos===a.currPos&&o&&"image"===t.type&&!t.hasError&&(u=a.getThumbPos(t))?c=a.getFitPos(t):e="fade"),"zoom"===e?(a.isAnimating=!0,c.scaleX=c.width/u.width,c.scaleY=c.height/u.height,"auto"==(s=t.opts.zoomOpacity)&&(s=Math.abs(t.width/t.height-u.width/u.height)>.1),s&&(u.opacity=.1,c.opacity=1),n.fancybox.setTranslate(t.$content.removeClass("fancybox-is-hidden"),u),v(t.$content),void n.fancybox.animate(t.$content,c,o,(function(){a.isAnimating=!1,a.complete()}))):(a.updateSlide(t),e?(n.fancybox.stop(l),r="fancybox-slide--"+(t.pos>=a.prevPos?"next":"previous")+" fancybox-animated fancybox-fx-"+e,l.addClass(r).removeClass("fancybox-slide--current"),t.$content.removeClass("fancybox-is-hidden"),v(l),"image"!==t.type&&t.$content.hide().show(0),void n.fancybox.animate(l,"fancybox-slide--current",o,(function(){l.removeClass(r).css({transform:"",opacity:""}),t.pos===a.currPos&&a.complete()}),!0)):(t.$content.removeClass("fancybox-is-hidden"),h||!d||"image"!==t.type||t.hasError||t.$content.hide().fadeIn("fast"),void(t.pos===a.currPos&&a.complete())))},getThumbPos:function(t){var e,i,r,o,s,a=!1,l=t.$thumb;return!(!l||!b(l[0]))&&(e=n.fancybox.getTranslate(l),i=parseFloat(l.css("border-top-width")||0),r=parseFloat(l.css("border-right-width")||0),o=parseFloat(l.css("border-bottom-width")||0),s=parseFloat(l.css("border-left-width")||0),a={top:e.top+i,left:e.left+s,width:e.width-r-s,height:e.height-i-o,scaleX:1,scaleY:1},e.width>0&&e.height>0&&a)},complete:function(){var t,e=this,i=e.current,r={};!e.isMoved()&&i.isLoaded&&(i.isComplete||(i.isComplete=!0,i.$slide.siblings().trigger("onReset"),e.preload("inline"),v(i.$slide),i.$slide.addClass("fancybox-slide--complete"),n.each(e.slides,(function(t,i){i.pos>=e.currPos-1&&i.pos<=e.currPos+1?r[i.pos]=i:i&&(n.fancybox.stop(i.$slide),i.$slide.off().remove())})),e.slides=r),e.isAnimating=!1,e.updateCursor(),e.trigger("afterShow"),i.opts.video.autoStart&&i.$slide.find("video,audio").filter(":visible:first").trigger("play").one("ended",(function(){this.webkitExitFullscreen&&this.webkitExitFullscreen(),e.next()})),i.opts.autoFocus&&"html"===i.contentType&&((t=i.$content.find("input[autofocus]:enabled:visible:first")).length?t.trigger("focus"):e.focus(null,!0)),i.$slide.scrollTop(0).scrollLeft(0))},preload:function(t){var e,n,i=this;i.group.length<2||(n=i.slides[i.currPos+1],(e=i.slides[i.currPos-1])&&e.type===t&&i.loadSlide(e),n&&n.type===t&&i.loadSlide(n))},focus:function(t,i){var r,o,s=this,a=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(",");s.isClosing||((r=(r=!t&&s.current&&s.current.isComplete?s.current.$slide.find("*:visible"+(i?":not(.fancybox-close-small)":"")):s.$refs.container.find("*:visible")).filter(a).filter((function(){return"hidden"!==n(this).css("visibility")&&!n(this).hasClass("disabled")}))).length?(o=r.index(e.activeElement),t&&t.shiftKey?(o<0||0==o)&&(t.preventDefault(),r.eq(r.length-1).trigger("focus")):(o<0||o==r.length-1)&&(t&&t.preventDefault(),r.eq(0).trigger("focus"))):s.$refs.container.trigger("focus"))},activate:function(){var t=this;n(".fancybox-container").each((function(){var e=n(this).data("FancyBox");e&&e.id!==t.id&&!e.isClosing&&(e.trigger("onDeactivate"),e.removeEvents(),e.isVisible=!1)})),t.isVisible=!0,(t.current||t.isIdle)&&(t.update(),t.updateControls()),t.trigger("onActivate"),t.addEvents()},close:function(t,e){var i,r,o,s,a,l,c,u=this,d=u.current,h=function(){u.cleanUp(t)};return!u.isClosing&&(u.isClosing=!0,!1===u.trigger("beforeClose",t)?(u.isClosing=!1,p((function(){u.update()})),!1):(u.removeEvents(),o=d.$content,i=d.opts.animationEffect,r=n.isNumeric(e)?e:i?d.opts.animationDuration:0,d.$slide.removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),!0!==t?n.fancybox.stop(d.$slide):i=!1,d.$slide.siblings().trigger("onReset").remove(),r&&u.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing").css("transition-duration",r+"ms"),u.hideLoading(d),u.hideControls(!0),u.updateCursor(),"zoom"!==i||o&&r&&"image"===d.type&&!u.isMoved()&&!d.hasError&&(c=u.getThumbPos(d))||(i="fade"),"zoom"===i?(n.fancybox.stop(o),l={top:(s=n.fancybox.getTranslate(o)).top,left:s.left,scaleX:s.width/c.width,scaleY:s.height/c.height,width:c.width,height:c.height},"auto"==(a=d.opts.zoomOpacity)&&(a=Math.abs(d.width/d.height-c.width/c.height)>.1),a&&(c.opacity=0),n.fancybox.setTranslate(o,l),v(o),n.fancybox.animate(o,c,r,h),!0):(i&&r?n.fancybox.animate(d.$slide.addClass("fancybox-slide--previous").removeClass("fancybox-slide--current"),"fancybox-animated fancybox-fx-"+i,r,h):!0===t?setTimeout(h,r):h(),!0)))},cleanUp:function(e){var i,r,o,s=this,a=s.current.opts.$orig;s.current.$slide.trigger("onReset"),s.$refs.container.empty().remove(),s.trigger("afterClose",e),s.current.opts.backFocus&&(a&&a.length&&a.is(":visible")||(a=s.$trigger),a&&a.length&&(r=t.scrollX,o=t.scrollY,a.trigger("focus"),n("html, body").scrollTop(o).scrollLeft(r))),s.current=null,(i=n.fancybox.getInstance())?i.activate():(n("body").removeClass("fancybox-active compensate-for-scrollbar"),n("#fancybox-style-noscroll").remove())},trigger:function(t,e){var i,r=Array.prototype.slice.call(arguments,1),o=this,s=e&&e.opts?e:o.current;if(s?r.unshift(s):s=o,r.unshift(o),n.isFunction(s.opts[t])&&(i=s.opts[t].apply(s,r)),!1===i)return i;"afterClose"!==t&&o.$refs?o.$refs.container.trigger(t+".fb",r):d.trigger(t+".fb",r)},updateControls:function(){var t=this,i=t.current,r=i.index,o=t.$refs.container,s=t.$refs.caption,a=i.opts.caption;i.$slide.trigger("refresh"),a&&a.length?(t.$caption=s,s.children().eq(0).html(a)):t.$caption=null,t.hasHiddenControls||t.isIdle||t.showControls(),o.find("[data-fancybox-count]").html(t.group.length),o.find("[data-fancybox-index]").html(r+1),o.find("[data-fancybox-prev]").prop("disabled",!i.opts.loop&&r<=0),o.find("[data-fancybox-next]").prop("disabled",!i.opts.loop&&r>=t.group.length-1),"image"===i.type?o.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",i.opts.image.src||i.src).show():i.opts.toolbar&&o.find("[data-fancybox-download],[data-fancybox-zoom]").hide(),n(e.activeElement).is(":hidden,[disabled]")&&t.$refs.container.trigger("focus")},hideControls:function(t){var e=["infobar","toolbar","nav"];!t&&this.current.opts.preventCaptionOverlap||e.push("caption"),this.$refs.container.removeClass(e.map((function(t){return"fancybox-show-"+t})).join(" ")),this.hasHiddenControls=!0},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,n=t.$refs.container;t.hasHiddenControls=!1,t.idleSecondsCounter=0,n.toggleClass("fancybox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("fancybox-show-infobar",!!(e.infobar&&t.group.length>1)).toggleClass("fancybox-show-caption",!!t.$caption).toggleClass("fancybox-show-nav",!!(e.arrows&&t.group.length>1)).toggleClass("fancybox-is-modal",!!e.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}}),n.fancybox={version:"3.5.6",defaults:c,getInstance:function(t){var e=n('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),i=Array.prototype.slice.call(arguments,1);return e instanceof w&&("string"===n.type(t)?e[t].apply(e,i):"function"===n.type(t)&&t.apply(e,i),e)},open:function(t,e,n){return new w(t,e,n)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close(t))},destroy:function(){this.close(!0),d.add("body").off("click.fb-start","**")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:(o=e.createElement("div"),t.getComputedStyle&&t.getComputedStyle(o)&&t.getComputedStyle(o).getPropertyValue("transform")&&!(e.documentMode&&e.documentMode<11)),getTranslate:function(t){var e;return!(!t||!t.length)&&{top:(e=t[0].getBoundingClientRect()).top||0,left:e.left||0,width:e.width,height:e.height,opacity:parseFloat(t.css("opacity"))}},setTranslate:function(t,e){var n="",r={};if(t&&e)return e.left===i&&e.top===i||(n=(e.left===i?t.position().left:e.left)+"px, "+(e.top===i?t.position().top:e.top)+"px",n=this.use3d?"translate3d("+n+", 0px)":"translate("+n+")"),e.scaleX!==i&&e.scaleY!==i?n+=" scale("+e.scaleX+", "+e.scaleY+")":e.scaleX!==i&&(n+=" scaleX("+e.scaleX+")"),n.length&&(r.transform=n),e.opacity!==i&&(r.opacity=e.opacity),e.width!==i&&(r.width=e.width),e.height!==i&&(r.height=e.height),t.css(r)},animate:function(t,e,r,o,s){var a,l=this;n.isFunction(r)&&(o=r,r=null),l.stop(t),a=l.getTranslate(t),t.on(m,(function(c){(!c||!c.originalEvent||t.is(c.originalEvent.target)&&"z-index"!=c.originalEvent.propertyName)&&(l.stop(t),n.isNumeric(r)&&t.css("transition-duration",""),n.isPlainObject(e)?e.scaleX!==i&&e.scaleY!==i&&l.setTranslate(t,{top:e.top,left:e.left,width:a.width*e.scaleX,height:a.height*e.scaleY,scaleX:1,scaleY:1}):!0!==s&&t.removeClass(e),n.isFunction(o)&&o(c))})),n.isNumeric(r)&&t.css("transition-duration",r+"ms"),n.isPlainObject(e)?(e.scaleX!==i&&e.scaleY!==i&&(delete e.width,delete e.height,t.parent().hasClass("fancybox-slide--image")&&t.parent().addClass("fancybox-is-scaling")),n.fancybox.setTranslate(t,e)):t.addClass(e),t.data("timer",setTimeout((function(){t.trigger(m)}),r+33))},stop:function(t,e){t&&t.length&&(clearTimeout(t.data("timer")),e&&t.trigger(m),t.off(m).css("transition-duration",""),t.parent().removeClass("fancybox-is-scaling"))}},n.fn.fancybox=function(t){var e;return(e=(t=t||{}).selector||!1)?n("body").off("click.fb-start",e).on("click.fb-start",e,{options:t},r):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},r),this},d.on("click.fb-start","[data-fancybox]",r),d.on("click.fb-start","[data-fancybox-trigger]",(function(){n('[data-fancybox="'+n(this).attr("data-fancybox-trigger")+'"]').eq(n(this).attr("data-fancybox-index")||0).trigger("click.fb-start",{$trigger:n(this)})})),s=".fancybox-button",a="fancybox-focus",l=null,d.on("mousedown mouseup focus blur",s,(function(t){switch(t.type){case"mousedown":l=n(this);break;case"mouseup":l=null;break;case"focusin":n(s).removeClass(a),n(this).is(l)||n(this).is("[disabled]")||n(this).addClass(a);break;case"focusout":n(s).removeClass(a)}}))}}(window,document,jQuery),function(t){"use strict";var e={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"https://www.youtube-nocookie.com/embed/$4",thumb:"https://img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12]+"").replace(/\?/,"&")+"&output="+(t[12]&&t[12].indexOf("layer=c")>0?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}},n=function(e,n,i){if(e)return i=i||"","object"===t.type(i)&&(i=t.param(i,!0)),t.each(n,(function(t,n){e=e.replace("$"+t,n||"")})),i.length&&(e+=(e.indexOf("?")>0?"&":"?")+i),e};t(document).on("objectNeedsType.fb",(function(i,r,o){var s,a,l,c,u,d,h,f=o.src||"",p=!1;s=t.extend(!0,{},e,o.opts.media),t.each(s,(function(e,i){if(l=f.match(i.matcher)){if(p=i.type,h=e,d={},i.paramPlace&&l[i.paramPlace]){"?"==(u=l[i.paramPlace])[0]&&(u=u.substring(1)),u=u.split("&");for(var r=0;r<u.length;++r){var s=u[r].split("=",2);2==s.length&&(d[s[0]]=decodeURIComponent(s[1].replace(/\+/g," ")))}}return c=t.extend(!0,{},i.params,o.opts[e],d),f="function"===t.type(i.url)?i.url.call(this,l,c,o):n(i.url,l,c),a="function"===t.type(i.thumb)?i.thumb.call(this,l,c,o):n(i.thumb,l),"youtube"===e?f=f.replace(/&t=((\d+)m)?(\d+)s/,(function(t,e,n,i){return"&start="+((n?60*parseInt(n,10):0)+parseInt(i,10))})):"vimeo"===e&&(f=f.replace("&%23","#")),!1}})),p?(o.opts.thumb||o.opts.$thumb&&o.opts.$thumb.length||(o.opts.thumb=a),"iframe"===p&&(o.opts=t.extend(!0,o.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),t.extend(o,{type:p,src:f,origSrc:o.src,contentSource:h,contentType:"image"===p?"image":"gmap_place"==h||"gmap_search"==h?"map":"video"})):f&&(o.type=o.opts.defaultType)}));var i={youtube:{src:"https://www.youtube.com/iframe_api",class:"YT",loading:!1,loaded:!1},vimeo:{src:"https://player.vimeo.com/api/player.js",class:"Vimeo",loading:!1,loaded:!1},load:function(t){var e,n=this;this[t].loaded?setTimeout((function(){n.done(t)})):this[t].loading||(this[t].loading=!0,(e=document.createElement("script")).type="text/javascript",e.src=this[t].src,"youtube"===t?window.onYouTubeIframeAPIReady=function(){n[t].loaded=!0,n.done(t)}:e.onload=function(){n[t].loaded=!0,n.done(t)},document.body.appendChild(e))},done:function(e){var n,i;"youtube"===e&&delete window.onYouTubeIframeAPIReady,(n=t.fancybox.getInstance())&&(i=n.current.$content.find("iframe"),"youtube"===e&&void 0!==YT&&YT?new YT.Player(i.attr("id"),{events:{onStateChange:function(t){0==t.data&&n.next()}}}):"vimeo"===e&&void 0!==Vimeo&&Vimeo&&new Vimeo.Player(i).on("ended",(function(){n.next()})))}};t(document).on({"afterShow.fb":function(t,e,n){e.group.length>1&&("youtube"===n.contentSource||"vimeo"===n.contentSource)&&i.load(n.contentSource)}})}(jQuery),function(t,e,n){"use strict";var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)},r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)},o=function(e){var n=[];for(var i in e=(e=e.originalEvent||e||t.e).touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e])e[i].pageX?n.push({x:e[i].pageX,y:e[i].pageY}):e[i].clientX&&n.push({x:e[i].clientX,y:e[i].clientY});return n},s=function(t,e,n){return e&&t?"x"===n?t.x-e.x:"y"===n?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},a=function(t){if(t.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe')||n.isFunction(t.get(0).onclick)||t.data("selectable"))return!0;for(var e=0,i=t[0].attributes,r=i.length;e<r;e++)if("data-fancybox-"===i[e].nodeName.substr(0,14))return!0;return!1},l=function(e){var n=t.getComputedStyle(e)["overflow-y"],i=t.getComputedStyle(e)["overflow-x"],r=("scroll"===n||"auto"===n)&&e.scrollHeight>e.clientHeight,o=("scroll"===i||"auto"===i)&&e.scrollWidth>e.clientWidth;return r||o},c=function(t){for(var e=!1;!(e=l(t.get(0)))&&(t=t.parent()).length&&!t.hasClass("fancybox-stage")&&!t.is("body"););return e},u=function(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on("touchstart.fb.touch mousedown.fb.touch",n.proxy(e,"ontouchstart"))};u.prototype.destroy=function(){var t=this;t.$container.off(".fb.touch"),n(e).off(".fb.touch"),t.requestId&&(r(t.requestId),t.requestId=null),t.tapped&&(clearTimeout(t.tapped),t.tapped=null)},u.prototype.ontouchstart=function(i){var r=this,l=n(i.target),u=r.instance,d=u.current,h=d.$slide,f=d.$content,p="touchstart"==i.type;if(p&&r.$container.off("mousedown.fb.touch"),(!i.originalEvent||2!=i.originalEvent.button)&&h.length&&l.length&&!a(l)&&!a(l.parent())&&(l.is("img")||!(i.originalEvent.clientX>l[0].clientWidth+l.offset().left))){if(!d||u.isAnimating||d.$slide.hasClass("fancybox-animated"))return i.stopPropagation(),void i.preventDefault();r.realPoints=r.startPoints=o(i),r.startPoints.length&&(d.touch&&i.stopPropagation(),r.startEvent=i,r.canTap=!0,r.$target=l,r.$content=f,r.opts=d.opts.touch,r.isPanning=!1,r.isSwiping=!1,r.isZooming=!1,r.isScrolling=!1,r.canPan=u.canPan(),r.startTime=(new Date).getTime(),r.distanceX=r.distanceY=r.distance=0,r.canvasWidth=Math.round(h[0].clientWidth),r.canvasHeight=Math.round(h[0].clientHeight),r.contentLastPos=null,r.contentStartPos=n.fancybox.getTranslate(r.$content)||{top:0,left:0},r.sliderStartPos=n.fancybox.getTranslate(h),r.stagePos=n.fancybox.getTranslate(u.$refs.stage),r.sliderStartPos.top-=r.stagePos.top,r.sliderStartPos.left-=r.stagePos.left,r.contentStartPos.top-=r.stagePos.top,r.contentStartPos.left-=r.stagePos.left,n(e).off(".fb.touch").on(p?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",n.proxy(r,"ontouchend")).on(p?"touchmove.fb.touch":"mousemove.fb.touch",n.proxy(r,"ontouchmove")),n.fancybox.isMobile&&e.addEventListener("scroll",r.onscroll,!0),((r.opts||r.canPan)&&(l.is(r.$stage)||r.$stage.find(l).length)||(l.is(".fancybox-image")&&i.preventDefault(),n.fancybox.isMobile&&l.parents(".fancybox-caption").length))&&(r.isScrollable=c(l)||c(l.parent()),n.fancybox.isMobile&&r.isScrollable||i.preventDefault(),(1===r.startPoints.length||d.hasError)&&(r.canPan?(n.fancybox.stop(r.$content),r.isPanning=!0):r.isSwiping=!0,r.$container.addClass("fancybox-is-grabbing")),2===r.startPoints.length&&"image"===d.type&&(d.isLoaded||d.$ghost)&&(r.canTap=!1,r.isSwiping=!1,r.isPanning=!1,r.isZooming=!0,n.fancybox.stop(r.$content),r.centerPointStartX=.5*(r.startPoints[0].x+r.startPoints[1].x)-n(t).scrollLeft(),r.centerPointStartY=.5*(r.startPoints[0].y+r.startPoints[1].y)-n(t).scrollTop(),r.percentageOfImageAtPinchPointX=(r.centerPointStartX-r.contentStartPos.left)/r.contentStartPos.width,r.percentageOfImageAtPinchPointY=(r.centerPointStartY-r.contentStartPos.top)/r.contentStartPos.height,r.startDistanceBetweenFingers=s(r.startPoints[0],r.startPoints[1]))))}},u.prototype.onscroll=function(){var t=this;t.isScrolling=!0,e.removeEventListener("scroll",t.onscroll,!0)},u.prototype.ontouchmove=function(t){
var e=this;void 0===t.originalEvent.buttons||0!==t.originalEvent.buttons?e.isScrolling?e.canTap=!1:(e.newPoints=o(t),(e.opts||e.canPan)&&e.newPoints.length&&e.newPoints.length&&(e.isSwiping&&!0===e.isSwiping||t.preventDefault(),e.distanceX=s(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=s(e.newPoints[0],e.startPoints[0],"y"),e.distance=s(e.newPoints[0],e.startPoints[0]),e.distance>0&&(e.isSwiping?e.onSwipe(t):e.isPanning?e.onPan():e.isZooming&&e.onZoom()))):e.ontouchend(t)},u.prototype.onSwipe=function(){var e,o=this,s=o.instance,a=o.isSwiping,l=o.sliderStartPos.left||0;if(!0!==a)"x"==a&&(o.distanceX>0&&(o.instance.group.length<2||0===o.instance.current.index&&!o.instance.current.opts.loop)?l+=Math.pow(o.distanceX,.8):o.distanceX<0&&(o.instance.group.length<2||o.instance.current.index===o.instance.group.length-1&&!o.instance.current.opts.loop)?l-=Math.pow(-o.distanceX,.8):l+=o.distanceX),o.sliderLastPos={top:"x"==a?0:o.sliderStartPos.top+o.distanceY,left:l},o.requestId&&(r(o.requestId),o.requestId=null),o.requestId=i((function(){o.sliderLastPos&&(n.each(o.instance.slides,(function(t,e){var i=e.pos-o.instance.currPos;n.fancybox.setTranslate(e.$slide,{top:o.sliderLastPos.top,left:o.sliderLastPos.left+i*o.canvasWidth+i*e.opts.gutter})})),o.$container.addClass("fancybox-is-sliding"))}));else if(Math.abs(o.distance)>10){if(o.canTap=!1,s.group.length<2&&o.opts.vertical?o.isSwiping="y":s.isDragging||!1===o.opts.vertical||"auto"===o.opts.vertical&&n(t).width()>800?o.isSwiping="x":(e=Math.abs(180*Math.atan2(o.distanceY,o.distanceX)/Math.PI),o.isSwiping=e>45&&e<135?"y":"x"),"y"===o.isSwiping&&n.fancybox.isMobile&&o.isScrollable)return void(o.isScrolling=!0);s.isDragging=o.isSwiping,o.startPoints=o.newPoints,n.each(s.slides,(function(t,e){var i,r;n.fancybox.stop(e.$slide),i=n.fancybox.getTranslate(e.$slide),r=n.fancybox.getTranslate(s.$refs.stage),e.$slide.css({transform:"",opacity:"","transition-duration":""}).removeClass("fancybox-animated").removeClass((function(t,e){return(e.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")})),e.pos===s.current.pos&&(o.sliderStartPos.top=i.top-r.top,o.sliderStartPos.left=i.left-r.left),n.fancybox.setTranslate(e.$slide,{top:i.top-r.top,left:i.left-r.left})})),s.SlideShow&&s.SlideShow.isActive&&s.SlideShow.stop()}},u.prototype.onPan=function(){var t=this;s(t.newPoints[0],t.realPoints[0])<(n.fancybox.isMobile?10:5)?t.startPoints=t.newPoints:(t.canTap=!1,t.contentLastPos=t.limitMovement(),t.requestId&&r(t.requestId),t.requestId=i((function(){n.fancybox.setTranslate(t.$content,t.contentLastPos)})))},u.prototype.limitMovement=function(){var t,e,n,i,r,o,s=this,a=s.canvasWidth,l=s.canvasHeight,c=s.distanceX,u=s.distanceY,d=s.contentStartPos,h=d.left,f=d.top,p=d.width,g=d.height;return r=p>a?h+c:h,o=f+u,t=Math.max(0,.5*a-.5*p),e=Math.max(0,.5*l-.5*g),n=Math.min(a-p,.5*a-.5*p),i=Math.min(l-g,.5*l-.5*g),c>0&&r>t&&(r=t-1+Math.pow(-t+h+c,.8)||0),c<0&&r<n&&(r=n+1-Math.pow(n-h-c,.8)||0),u>0&&o>e&&(o=e-1+Math.pow(-e+f+u,.8)||0),u<0&&o<i&&(o=i+1-Math.pow(i-f-u,.8)||0),{top:o,left:r}},u.prototype.limitPosition=function(t,e,n,i){var r=this,o=r.canvasWidth,s=r.canvasHeight;return t=n>o?(t=t>0?0:t)<o-n?o-n:t:Math.max(0,o/2-n/2),{top:e=i>s?(e=e>0?0:e)<s-i?s-i:e:Math.max(0,s/2-i/2),left:t}},u.prototype.onZoom=function(){var e=this,o=e.contentStartPos,a=o.width,l=o.height,c=o.left,u=o.top,d=s(e.newPoints[0],e.newPoints[1])/e.startDistanceBetweenFingers,h=Math.floor(a*d),f=Math.floor(l*d),p=(a-h)*e.percentageOfImageAtPinchPointX,g=(l-f)*e.percentageOfImageAtPinchPointY,m=(e.newPoints[0].x+e.newPoints[1].x)/2-n(t).scrollLeft(),v=(e.newPoints[0].y+e.newPoints[1].y)/2-n(t).scrollTop(),y=m-e.centerPointStartX,b={top:u+(g+(v-e.centerPointStartY)),left:c+(p+y),scaleX:d,scaleY:d};e.canTap=!1,e.newWidth=h,e.newHeight=f,e.contentLastPos=b,e.requestId&&r(e.requestId),e.requestId=i((function(){n.fancybox.setTranslate(e.$content,e.contentLastPos)}))},u.prototype.ontouchend=function(t){var i=this,s=i.isSwiping,a=i.isPanning,l=i.isZooming,c=i.isScrolling;if(i.endPoints=o(t),i.dMs=Math.max((new Date).getTime()-i.startTime,1),i.$container.removeClass("fancybox-is-grabbing"),n(e).off(".fb.touch"),e.removeEventListener("scroll",i.onscroll,!0),i.requestId&&(r(i.requestId),i.requestId=null),i.isSwiping=!1,i.isPanning=!1,i.isZooming=!1,i.isScrolling=!1,i.instance.isDragging=!1,i.canTap)return i.onTap(t);i.speed=100,i.velocityX=i.distanceX/i.dMs*.5,i.velocityY=i.distanceY/i.dMs*.5,a?i.endPanning():l?i.endZooming():i.endSwiping(s,c)},u.prototype.endSwiping=function(t,e){var i=this,r=!1,o=i.instance.group.length,s=Math.abs(i.distanceX),a="x"==t&&o>1&&(i.dMs>130&&s>10||s>50),l=300;i.sliderLastPos=null,"y"==t&&!e&&Math.abs(i.distanceY)>50?(n.fancybox.animate(i.instance.current.$slide,{top:i.sliderStartPos.top+i.distanceY+150*i.velocityY,opacity:0},200),r=i.instance.close(!0,250)):a&&i.distanceX>0?r=i.instance.previous(l):a&&i.distanceX<0&&(r=i.instance.next(l)),!1!==r||"x"!=t&&"y"!=t||i.instance.centerSlide(200),i.$container.removeClass("fancybox-is-sliding")},u.prototype.endPanning=function(){var t,e,i,r=this;r.contentLastPos&&(!1===r.opts.momentum||r.dMs>350?(t=r.contentLastPos.left,e=r.contentLastPos.top):(t=r.contentLastPos.left+500*r.velocityX,e=r.contentLastPos.top+500*r.velocityY),(i=r.limitPosition(t,e,r.contentStartPos.width,r.contentStartPos.height)).width=r.contentStartPos.width,i.height=r.contentStartPos.height,n.fancybox.animate(r.$content,i,366))},u.prototype.endZooming=function(){var t,e,i,r,o=this,s=o.instance.current,a=o.newWidth,l=o.newHeight;o.contentLastPos&&(t=o.contentLastPos.left,r={top:e=o.contentLastPos.top,left:t,width:a,height:l,scaleX:1,scaleY:1},n.fancybox.setTranslate(o.$content,r),a<o.canvasWidth&&l<o.canvasHeight?o.instance.scaleToFit(150):a>s.width||l>s.height?o.instance.scaleToActual(o.centerPointStartX,o.centerPointStartY,150):(i=o.limitPosition(t,e,a,l),n.fancybox.animate(o.$content,i,150)))},u.prototype.onTap=function(e){var i,r=this,s=n(e.target),a=r.instance,l=a.current,c=e&&o(e)||r.startPoints,u=c[0]?c[0].x-n(t).scrollLeft()-r.stagePos.left:0,d=c[0]?c[0].y-n(t).scrollTop()-r.stagePos.top:0,h=function(t){var i=l.opts[t];if(n.isFunction(i)&&(i=i.apply(a,[l,e])),i)switch(i){case"close":a.close(r.startEvent);break;case"toggleControls":a.toggleControls();break;case"next":a.next();break;case"nextOrClose":a.group.length>1?a.next():a.close(r.startEvent);break;case"zoom":"image"==l.type&&(l.isLoaded||l.$ghost)&&(a.canPan()?a.scaleToFit():a.isScaledDown()?a.scaleToActual(u,d):a.group.length<2&&a.close(r.startEvent))}};if((!e.originalEvent||2!=e.originalEvent.button)&&(s.is("img")||!(u>s[0].clientWidth+s.offset().left))){if(s.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))i="Outside";else if(s.is(".fancybox-slide"))i="Slide";else{if(!a.current.$content||!a.current.$content.find(s).addBack().filter(s).length)return;i="Content"}if(r.tapped){if(clearTimeout(r.tapped),r.tapped=null,Math.abs(u-r.tapX)>50||Math.abs(d-r.tapY)>50)return this;h("dblclick"+i)}else r.tapX=u,r.tapY=d,l.opts["dblclick"+i]&&l.opts["dblclick"+i]!==l.opts["click"+i]?r.tapped=setTimeout((function(){r.tapped=null,a.isAnimating||h("click"+i)}),500):h("click"+i);return this}},n(e).on("onActivate.fb",(function(t,e){e&&!e.Guestures&&(e.Guestures=new u(e))})).on("beforeClose.fb",(function(t,e){e&&e.Guestures&&e.Guestures.destroy()}))}(window,document,jQuery),function(t,e){"use strict";e.extend(!0,e.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 5.4v13.2l11-6.6z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/></svg></button>'},slideShow:{autoStart:!1,speed:3e3,progress:!0}});var n=function(t){this.instance=t,this.init()};e.extend(n.prototype,{timer:null,isActive:!1,$button:null,init:function(){var t=this,n=t.instance,i=n.group[n.currIndex].opts.slideShow;t.$button=n.$refs.toolbar.find("[data-fancybox-play]").on("click",(function(){t.toggle()})),n.group.length<2||!i?t.$button.hide():i.progress&&(t.$progress=e('<div class="fancybox-progress"></div>').appendTo(n.$refs.inner))},set:function(t){var n=this,i=n.instance,r=i.current;r&&(!0===t||r.opts.loop||i.currIndex<i.group.length-1)?n.isActive&&"video"!==r.contentType&&(n.$progress&&e.fancybox.animate(n.$progress.show(),{scaleX:1},r.opts.slideShow.speed),n.timer=setTimeout((function(){i.current.opts.loop||i.current.index!=i.group.length-1?i.next():i.jumpTo(0)}),r.opts.slideShow.speed)):(n.stop(),i.idleSecondsCounter=0,i.showControls())},clear:function(){var t=this;clearTimeout(t.timer),t.timer=null,t.$progress&&t.$progress.removeAttr("style").hide()},start:function(){var t=this,e=t.instance.current;e&&(t.$button.attr("title",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),t.isActive=!0,e.isComplete&&t.set(!0),t.instance.trigger("onSlideShowChange",!0))},stop:function(){var t=this,e=t.instance.current;t.clear(),t.$button.attr("title",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play"),t.isActive=!1,t.instance.trigger("onSlideShowChange",!1),t.$progress&&t.$progress.removeAttr("style").hide()},toggle:function(){var t=this;t.isActive?t.stop():t.start()}}),e(t).on({"onInit.fb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new n(e))},"beforeShow.fb":function(t,e,n,i){var r=e&&e.SlideShow;i?r&&n.opts.slideShow.autoStart&&r.start():r&&r.isActive&&r.clear()},"afterShow.fb":function(t,e){var n=e&&e.SlideShow;n&&n.isActive&&n.set()},"afterKeydown.fb":function(n,i,r,o,s){var a=i&&i.SlideShow;!a||!r.opts.slideShow||80!==s&&32!==s||e(t.activeElement).is("button,a,input")||(o.preventDefault(),a.toggle())},"beforeClose.fb onDeactivate.fb":function(t,e){var n=e&&e.SlideShow;n&&n.stop()}}),e(t).on("visibilitychange",(function(){var n=e.fancybox.getInstance(),i=n&&n.SlideShow;i&&i.isActive&&(t.hidden?i.clear():i.set())}))}(document,jQuery),function(t,e){"use strict";var n=function(){for(var e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n={},i=0;i<e.length;i++){var r=e[i];if(r&&r[1]in t){for(var o=0;o<r.length;o++)n[e[0][o]]=r[o];return n}}return!1}();if(n){var i={request:function(e){(e=e||t.documentElement)[n.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){t[n.exitFullscreen]()},toggle:function(e){e=e||t.documentElement,this.isFullscreen()?this.exit():this.request(e)},isFullscreen:function(){return Boolean(t[n.fullscreenElement])},enabled:function(){return Boolean(t[n.fullscreenEnabled])}};e.extend(!0,e.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fsenter" title="{{FULL_SCREEN}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/></svg></button>'},fullScreen:{autoStart:!1}}),e(t).on(n.fullscreenchange,(function(){var t=i.isFullscreen(),n=e.fancybox.getInstance();n&&(n.current&&"image"===n.current.type&&n.isAnimating&&(n.isAnimating=!1,n.update(!0,!0,0),n.isComplete||n.complete()),n.trigger("onFullscreenChange",t),n.$refs.container.toggleClass("fancybox-is-fullscreen",t),n.$refs.toolbar.find("[data-fancybox-fullscreen]").toggleClass("fancybox-button--fsenter",!t).toggleClass("fancybox-button--fsexit",t))}))}e(t).on({"onInit.fb":function(t,e){n?e&&e.group[e.currIndex].opts.fullScreen?(e.$refs.container.on("click.fb-fullscreen","[data-fancybox-fullscreen]",(function(t){t.stopPropagation(),t.preventDefault(),i.toggle()})),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&i.request(),e.FullScreen=i):e&&e.$refs.toolbar.find("[data-fancybox-fullscreen]").hide():e.$refs.toolbar.find("[data-fancybox-fullscreen]").remove()},"afterKeydown.fb":function(t,e,n,i,r){e&&e.FullScreen&&70===r&&(i.preventDefault(),e.FullScreen.toggle())},"beforeClose.fb":function(t,e){e&&e.FullScreen&&e.$refs.container.hasClass("fancybox-is-fullscreen")&&i.exit()}})}(document,jQuery),function(t,e){"use strict";var n="fancybox-thumbs",i=n+"-active";e.fancybox.defaults=e.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},e.fancybox.defaults);var r=function(t){this.init(t)};e.extend(r.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var e=this,n=t.group,i=0;e.instance=t,e.opts=n[t.currIndex].opts.thumbs,t.Thumbs=e,e.$button=t.$refs.toolbar.find("[data-fancybox-thumbs]");for(var r=0,o=n.length;r<o&&(n[r].thumb&&i++,!(i>1));r++);i>1&&e.opts?(e.$button.removeAttr("style").on("click",(function(){e.toggle()})),e.isActive=!0):e.$button.hide()},create:function(){var t,i=this,r=i.instance,o=i.opts.parentEl,s=[];i.$grid||(i.$grid=e('<div class="'+n+" "+n+"-"+i.opts.axis+'"></div>').appendTo(r.$refs.container.find(o).addBack().filter(o)),i.$grid.on("click","a",(function(){r.jumpTo(e(this).attr("data-index"))}))),i.$list||(i.$list=e('<div class="'+n+'__list">').appendTo(i.$grid)),e.each(r.group,(function(e,n){(t=n.thumb)||"image"!==n.type||(t=n.src),s.push('<a href="javascript:;" tabindex="0" data-index="'+e+'"'+(t&&t.length?' style="background-image:url('+t+')"':'class="fancybox-thumbs-missing"')+"></a>")})),i.$list[0].innerHTML=s.join(""),"x"===i.opts.axis&&i.$list.width(parseInt(i.$grid.css("padding-right"),10)+r.group.length*i.$list.children().eq(0).outerWidth(!0))},focus:function(t){var e,n,r=this,o=r.$list,s=r.$grid;r.instance.current&&(n=(e=o.children().removeClass(i).filter('[data-index="'+r.instance.current.index+'"]').addClass(i)).position(),"y"===r.opts.axis&&(n.top<0||n.top>o.height()-e.outerHeight())?o.stop().animate({scrollTop:o.scrollTop()+n.top},t):"x"===r.opts.axis&&(n.left<s.scrollLeft()||n.left>s.scrollLeft()+(s.width()-e.outerWidth()))&&o.parent().stop().animate({scrollLeft:n.left},t))},update:function(){var t=this;t.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),t.isVisible?(t.$grid||t.create(),t.instance.trigger("onThumbsShow"),t.focus(0)):t.$grid&&t.instance.trigger("onThumbsHide"),t.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),e(t).on({"onInit.fb":function(t,e){var n;e&&!e.Thumbs&&(n=new r(e)).isActive&&!0===n.opts.autoStart&&n.show()},"beforeShow.fb":function(t,e,n,i){var r=e&&e.Thumbs;r&&r.isVisible&&r.focus(i?0:250)},"afterKeydown.fb":function(t,e,n,i,r){var o=e&&e.Thumbs;o&&o.isActive&&71===r&&(i.preventDefault(),o.toggle())},"beforeClose.fb":function(t,e){var n=e&&e.Thumbs;n&&n.isVisible&&!1!==n.opts.hideOnClose&&n.$grid.hide()}})}(document,jQuery),function(t,e){"use strict";function n(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=\/]/g,(function(t){return e[t]}))}e.extend(!0,e.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/></svg></button>'},share:{url:function(t,e){return!t.currentHash&&"inline"!==e.type&&"html"!==e.type&&(e.origSrc||e.src)||window.location},tpl:'<div class="fancybox-share"><h1>{{SHARE}}</h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" onclick="select()" /></p></div>'}}),e(t).on("click","[data-fancybox-share]",(function(){var t,i,r=e.fancybox.getInstance(),o=r.current||null;o&&("function"===e.type(o.opts.share.url)&&(t=o.opts.share.url.apply(o,[r,o])),i=o.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===o.type?encodeURIComponent(o.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(t)).replace(/\{\{url_raw\}\}/g,n(t)).replace(/\{\{descr\}\}/g,r.$caption?encodeURIComponent(r.$caption.text()):""),e.fancybox.open({src:r.translate(r,i),type:"html",opts:{touch:!1,animationEffect:!1,afterLoad:function(t,e){r.$refs.container.one("beforeClose.fb",(function(){t.close(null,0)})),e.$content.find(".fancybox-share__button").click((function(){return window.open(this.href,"Share","width=550, height=450"),!1}))},mobile:{autoFocus:!1}}}))}))}(document,jQuery),function(t,e,n){"use strict";function i(){var e=t.location.hash.substr(1),n=e.split("-"),i=n.length>1&&/^\+?\d+$/.test(n[n.length-1])&&parseInt(n.pop(-1),10)||1;return{hash:e,index:i<1?1:i,gallery:n.join("-")}}function r(t){""!==t.gallery&&n("[data-fancybox='"+n.escapeSelector(t.gallery)+"']").eq(t.index-1).focus().trigger("click.fb-start")}function o(t){var e,n;return!!t&&(""!==(n=(e=t.current?t.current.opts:t.opts).hash||(e.$orig?e.$orig.data("fancybox")||e.$orig.data("fancybox-trigger"):""))&&n)}n.escapeSelector||(n.escapeSelector=function(t){var e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,n=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t};return(t+"").replace(e,n)}),n((function(){!1!==n.fancybox.defaults.hash&&(n(e).on({"onInit.fb":function(t,e){var n,r;!1!==e.group[e.currIndex].opts.hash&&(n=i(),(r=o(e))&&n.gallery&&r==n.gallery&&(e.currIndex=n.index-1))},"beforeShow.fb":function(n,i,r,s){var a;r&&!1!==r.opts.hash&&(a=o(i))&&(i.currentHash=a+(i.group.length>1?"-"+(r.index+1):""),t.location.hash!=="#"+i.currentHash&&(s&&!i.origHash&&(i.origHash=t.location.hash),i.hashTimer&&clearTimeout(i.hashTimer),i.hashTimer=setTimeout((function(){"replaceState"in t.history?(t.history[s?"pushState":"replaceState"]({},e.title,t.location.pathname+t.location.search+"#"+i.currentHash),s&&(i.hasCreatedHistory=!0)):t.location.hash=i.currentHash,i.hashTimer=null}),300)))},"beforeClose.fb":function(n,i,r){r&&!1!==r.opts.hash&&(clearTimeout(i.hashTimer),i.currentHash&&i.hasCreatedHistory?t.history.back():i.currentHash&&("replaceState"in t.history?t.history.replaceState({},e.title,t.location.pathname+t.location.search+(i.origHash||"")):t.location.hash=i.origHash),i.currentHash=null)}}),n(t).on("hashchange.fb",(function(){var t=i(),e=null;n.each(n(".fancybox-container").get().reverse(),(function(t,i){var r=n(i).data("FancyBox");if(r&&r.currentHash)return e=r,!1})),e?e.currentHash===t.gallery+"-"+t.index||1===t.index&&e.currentHash==t.gallery||(e.currentHash=null,e.close()):""!==t.gallery&&r(t)})),setTimeout((function(){n.fancybox.getInstance()||r(i())}),50))}))}(window,document,jQuery),function(t,e){"use strict";var n=(new Date).getTime();e(t).on({"onInit.fb":function(t,e){e.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",(function(t){var i=e.current,r=(new Date).getTime();e.group.length<2||!1===i.opts.wheel||"auto"===i.opts.wheel&&"image"!==i.type||(t.preventDefault(),t.stopPropagation(),i.$slide.hasClass("fancybox-animated")||(t=t.originalEvent||t,r-n<250||(n=r,e[(-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)<0?"next":"previous"]())))}))}})}(document,jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Sweetalert2=e()}(this,(function(){"use strict";function t(t){t.inputValidator||Object.keys(tt).forEach((function(e){t.input===e&&(t.inputValidator=t.expectRejections?tt[e]:wt.adaptInputValidator(tt[e]))})),(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(u('Target parameter is not valid, defaulting to "body"'),t.target="body");var e=void 0,n=A(),i="string"==typeof t.target?document.querySelector(t.target):t.target;e=n&&i&&n.parentNode!==i.parentNode?X(t):n||X(t),n&&clearTimeout(n.timeout),t.width&&(e.style.width="number"==typeof t.width?t.width+"px":t.width),t.padding&&(e.style.padding="number"==typeof t.padding?t.padding+"px":t.padding),t.background&&(e.style.background=t.background);for(var r=window.getComputedStyle(e).getPropertyValue("background-color"),a=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),l=0;l<a.length;l++)a[l].style.backgroundColor=r;var c=E(),h=P(),f=L().querySelector("#"+o.content),p=B(),g=H(),m=N(),v=R(),y=j();if(t.titleText?h.innerText=t.titleText:t.title&&(h.innerHTML=t.title.split("\n").join("<br />")),"string"==typeof t.backdrop?E().style.background=t.backdrop:t.backdrop||b([document.documentElement,document.body],o["no-backdrop"]),t.html?K(t.html,f):t.text?(f.textContent=t.text,C(f)):_(f),t.position in o?b(c,o[t.position]):(u('The "position" parameter is not valid, defaulting to "center"'),b(c,o.center)),t.grow&&"string"==typeof t.grow){var x="grow-"+t.grow;x in o&&b(c,o[x])}"function"==typeof t.animation&&(t.animation=t.animation.call()),t.showCloseButton?(v.setAttribute("aria-label",t.closeButtonAriaLabel),C(v)):_(v),e.className=o.popup,t.toast?(b([document.documentElement,document.body],o["toast-shown"]),b(e,o.toast)):b(e,o.modal),t.customClass&&b(e,t.customClass);var S=$(),D=parseInt(null===t.currentProgressStep?wt.getQueueStep():t.currentProgressStep,10);t.progressSteps&&t.progressSteps.length?(C(S),k(S),D>=t.progressSteps.length&&u("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach((function(e,n){var i=document.createElement("li");if(b(i,o.progresscircle),i.innerHTML=e,n===D&&b(i,o.activeprogressstep),S.appendChild(i),n!==t.progressSteps.length-1){var r=document.createElement("li");b(r,o.progressline),t.progressStepsDistance&&(r.style.width=t.progressStepsDistance),S.appendChild(r)}}))):_(S);for(var M=O(),F=0;F<M.length;F++)_(M[F]);if(t.type){var z=!1;for(var W in s)if(t.type===W){z=!0;break}if(!z)return d("Unknown alert type: "+t.type),!1;var Y=e.querySelector("."+o.icon+"."+s[t.type]);C(Y),t.animation&&b(Y,"swal2-animate-"+t.type+"-icon")}var q=I();if(t.imageUrl?(q.setAttribute("src",t.imageUrl),q.setAttribute("alt",t.imageAlt),C(q),t.imageWidth?q.setAttribute("width",t.imageWidth):q.removeAttribute("width"),t.imageHeight?q.setAttribute("height",t.imageHeight):q.removeAttribute("height"),q.className=o.image,t.imageClass&&b(q,t.imageClass)):_(q),t.showCancelButton?m.style.display="inline-block":_(m),t.showConfirmButton?T(g,"display"):_(g),t.showConfirmButton||t.showCancelButton?C(p):_(p),g.innerHTML=t.confirmButtonText,m.innerHTML=t.cancelButtonText,g.setAttribute("aria-label",t.confirmButtonAriaLabel),m.setAttribute("aria-label",t.cancelButtonAriaLabel),g.className=o.confirm,b(g,t.confirmButtonClass),m.className=o.cancel,b(m,t.cancelButtonClass),t.buttonsStyling){b([g,m],o.styled),t.confirmButtonColor&&(g.style.backgroundColor=t.confirmButtonColor),t.cancelButtonColor&&(m.style.backgroundColor=t.cancelButtonColor);var V=window.getComputedStyle(g).getPropertyValue("background-color");g.style.borderLeftColor=V,g.style.borderRightColor=V}else w([g,m],o.styled),g.style.backgroundColor=g.style.borderLeftColor=g.style.borderRightColor="",m.style.backgroundColor=m.style.borderLeftColor=m.style.borderRightColor="";K(t.footer,y),!0===t.animation?w(e,o.noanimation):b(e,o.noanimation),t.showLoaderOnConfirm&&!t.preConfirm&&u("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request")}var e={title:"",titleText:"",text:"",html:"",footer:"",type:null,toast:!1,customClass:"",target:"body",backdrop:!0,animation:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,showConfirmButton:!0,showCancelButton:!1,preConfirm:null,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:null,confirmButtonClass:null,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:null,cancelButtonClass:null,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusCancel:!1,showCloseButton:!1,closeButtonAriaLabel:"Close this dialog",showLoaderOnConfirm:!1,imageUrl:null,imageWidth:null,imageHeight:null,imageAlt:"",imageClass:null,timer:null,width:null,padding:null,background:null,input:null,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputClass:null,inputAttributes:{},inputValidator:null,grow:!1,position:"center",progressSteps:[],currentProgressStep:null,progressStepsDistance:null,onBeforeOpen:null,onOpen:null,onClose:null,useRejections:!1,expectRejections:!1},n=["useRejections","expectRejections"],i="swal2-",r=function(t){var e={};for(var n in t)e[t[n]]=i+t[n];return e},o=r(["container","shown","iosfix","popup","modal","no-backdrop","toast","toast-shown","fade","show","hide","noanimation","close","title","header","content","actions","confirm","cancel","footer","icon","icon-text","image","input","has-input","file","range","select","radio","checkbox","textarea","inputerror","validationerror","progresssteps","activeprogressstep","progresscircle","progressline","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","signature"]),s=r(["success","warning","info","question","error"]),a="SweetAlert2:",l=function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e},c=function(t){var e=[];return t instanceof Map?t.forEach((function(t,n){e.push([n,t])})):Object.keys(t).forEach((function(n){e.push([n,t[n]])})),e},u=function(t){console.warn(a+" "+t)},d=function(t){console.error(a+" "+t)},h=[],f=function(t){-1===h.indexOf(t)&&(h.push(t),u(t))},p=function(t){return"function"==typeof t?t():t},g={previousActiveElement:null,previousBodyPadding:null},m=function(t,e){return!!t.classList&&t.classList.contains(e)},v=function(t){if(t.focus(),"file"!==t.type){var e=t.value;t.value="",t.value=e}},y=function(t,e,n){t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach((function(e){t.forEach?t.forEach((function(t){n?t.classList.add(e):t.classList.remove(e)})):n?t.classList.add(e):t.classList.remove(e)})))},b=function(t,e){y(t,e,!0)},w=function(t,e){y(t,e,!1)},x=function(t,e){for(var n=0;n<t.childNodes.length;n++)if(m(t.childNodes[n],e))return t.childNodes[n]},C=function(t){t.style.opacity="",t.style.display=t.id===o.content||t.id===o.signature?"block":"flex"},_=function(t){t.style.opacity="",t.style.display="none"},k=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},S=function(t){return t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},T=function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},D=function(){if(g.previousActiveElement&&g.previousActiveElement.focus){var t=window.scrollX,e=window.scrollY;g.previousActiveElement.focus(),void 0!==t&&void 0!==e&&window.scrollTo(t,e)}},E=function(){return document.body.querySelector("."+o.container)},M=function(t){var e=E();return e?e.querySelector("."+t):null},A=function(){return M(o.popup)},O=function(){return A().querySelectorAll("."+o.icon)},P=function(){return M(o.title)},L=function(){return M(o.content)},I=function(){return M(o.image)},$=function(){return M(o.progresssteps)},F=function(){return M(o.validationerror)},H=function(){return M(o.confirm)},N=function(){return M(o.cancel)},z=function(){return f("swal.getButtonsWrapper() is deprecated and will be removed in the next major release, use swal.getActions() instead"),M(o.actions)},B=function(){return M(o.actions)},j=function(){return M(o.footer)},R=function(){return M(o.close)},W=function(){var t=Array.prototype.slice.call(A().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((function(t,e){return(t=parseInt(t.getAttribute("tabindex")))>(e=parseInt(e.getAttribute("tabindex")))?1:t<e?-1:0})),e=Array.prototype.slice.call(A().querySelectorAll('button, input:not([type=hidden]), textarea, select, a, [tabindex="0"]'));return l(t.concat(e))},Y=function(){return!document.body.classList.contains(o["toast-shown"])},q=function(){return document.body.classList.contains(o["toast-shown"])},V=function(){return A().hasAttribute("data-loading")},U=function(){return"undefined"==typeof window||"undefined"==typeof document
},G=('\n  <div aria-labelledby="'+o.title+'" aria-describedby="'+o.content+'" class="'+o.popup+'" tabindex="-1">\n    <div class="'+o.header+'">\n      <ul class="'+o.progresssteps+'"></ul>\n      <div class="'+o.icon+" "+s.error+'">\n        <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n      </div>\n      <div class="'+o.icon+" "+s.question+'">\n        <span class="'+o["icon-text"]+'">?</span>\n      </div>\n      <div class="'+o.icon+" "+s.warning+'">\n        <span class="'+o["icon-text"]+'">!</span>\n      </div>\n      <div class="'+o.icon+" "+s.info+'">\n        <span class="'+o["icon-text"]+'">i</span>\n      </div>\n      <div class="'+o.icon+" "+s.success+'">\n        <div class="swal2-success-circular-line-left"></div>\n        <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n        <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n        <div class="swal2-success-circular-line-right"></div>\n      </div>\n      <img class="'+o.image+'" />\n      <h2 class="'+o.title+'" id="'+o.title+'"></h2>\n      <button type="button" class="'+o.close+'">\xd7</button>\n    </div>\n    <div class="'+o.content+'">\n      <div id="'+o.content+'"></div>\n      <input class="'+o.input+'" />\n\n      <div class="'+o.signature+'" id="'+o.signature+'" >\n        <div id="swal-signature-pad-body" class="signature-pad-body">\n          <canvas></canvas>\n        </div>\n        <div class="signature-pad-footer">\n          <div class="muted">Sign above\n            <span id="swal-signature-pad-clear" style="cursor:pointer;"> &bull; clear</a>\n          </div>\n        </div>\n      </div>\n      <input type="file" class="'+o.file+'" />\n      <div class="'+o.range+'">\n        <input type="range" />\n        <output></output>\n      </div>\n      <select class="'+o.select+'"></select>\n      <div class="'+o.radio+'"></div>\n      <label for="'+o.checkbox+'" class="'+o.checkbox+'">\n        <input type="checkbox" />\n      </label>\n      <textarea class="'+o.textarea+'"></textarea>\n      <div class="'+o.validationerror+'" id="'+o.validationerror+'"></div>\n    </div>\n    <div class="'+o.actions+'">\n      <button type="button" class="'+o.confirm+'">OK</button>\n      <button type="button" class="'+o.cancel+'">Cancel</button>\n    </div>\n    <div class="'+o.footer+'">\n    </div>\n  </div>\n').replace(/(^|\n)\s*/g,""),X=function(t){var e=E();if(e&&(e.parentNode.removeChild(e),w([document.documentElement,document.body],[o["no-backdrop"],o["has-input"],o["toast-shown"]])),!U()){var n=document.createElement("div");n.className=o.container,n.innerHTML=G,("string"==typeof t.target?document.querySelector(t.target):t.target).appendChild(n);var i=A(),r=L(),s=x(r,o.input),a=x(r,o.file),l=r.querySelector("."+o.range+" input"),c=r.querySelector("."+o.range+" output"),u=x(r,o.select),h=r.querySelector("."+o.checkbox+" input"),f=x(r,o.textarea);i.setAttribute("role",t.toast?"alert":"dialog"),i.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||i.setAttribute("aria-modal","true");var p=function(){wt.isVisible()&&wt.resetValidationError()};return s.oninput=p,a.onchange=p,u.onchange=p,h.onchange=p,f.oninput=p,l.oninput=function(){p(),c.value=l.value},l.onchange=function(){p(),l.nextSibling.value=l.value},i}d("SweetAlert2 requires document to initialize")},Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K=function(t,e){if(!t)return _(e);if("object"===(void 0===t?"undefined":Q(t)))if(e.innerHTML="",0 in t)for(var n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0));else t&&(e.innerHTML=t);C(e)},Z=function(){if(U())return!1;var t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in e)if(e.hasOwnProperty(n)&&void 0!==t.style[n])return e[n];return!1}(),J=function(){if("ontouchstart"in window||navigator.msMaxTouchPoints)return 0;var t=document.createElement("div");t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},tt={email:function(t){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.reject("Invalid email address")},url:function(t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/.test(t)?Promise.resolve():Promise.reject("Invalid URL")}},et=Object.freeze({cancel:"cancel",backdrop:"overlay",close:"close",esc:"esc",timer:"timer"}),nt=function(){null===g.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(g.previousBodyPadding=document.body.style.paddingRight,document.body.style.paddingRight=J()+"px")},it=function(){null!==g.previousBodyPadding&&(document.body.style.paddingRight=g.previousBodyPadding,g.previousBodyPadding=null)},rt=void 0,ot=function(t){var e=Math.max(window.devicePixelRatio||1,1);t.width=t.offsetWidth*e,t.height=t.offsetHeight*e,t.getContext("2d").scale(e,e)},st=function(){var t=document.querySelector("canvas");if(t){var e=document.getElementById("swal-signature-pad-body");t.height=e.clientHeight,t.width=t.offsetWidth,window.onresize=ot(t),ot(t),rt=new SignaturePad(t,{penColor:"DarkBlue"}),document.getElementById("swal-signature-pad-clear").addEventListener("click",(function(){return rt.clear(),!1}))}},at=function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!m(document.body,o.iosfix)){var t=document.body.scrollTop;document.body.style.top=-1*t+"px",b(document.body,o.iosfix)}},lt=function(){if(m(document.body,o.iosfix)){var t=parseInt(document.body.style.top,10);w(document.body,o.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}},ct="7.15.0",ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ht=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ft=ht({},e),pt=[],gt=void 0,mt=void 0,vt=void 0,yt=function(t){for(var e in t)wt.isValidParameter(e)||u('Unknown parameter "'+e+'"'),wt.isDeprecatedParameter(e)&&f('The parameter "'+e+'" is deprecated and will be removed in the next major release.')},bt=function(t,e,n){var i=E(),r=A();null!==e&&"function"==typeof e&&e(r),t?(b(r,o.show),b(i,o.fade),w(r,o.hide)):w(r,o.fade),C(r),i.style.overflowY="hidden",Z&&!m(r,o.noanimation)?r.addEventListener(Z,(function t(){r.removeEventListener(Z,t),i.style.overflowY="auto"})):i.style.overflowY="auto",b([document.documentElement,document.body,i],o.shown),Y()&&(nt(),at(),st()),g.previousActiveElement=document.activeElement,null!==n&&"function"==typeof n&&setTimeout((function(){n(r)}))},wt=function e(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];if("undefined"!=typeof window){if("undefined"==typeof Promise&&d("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),void 0===i[0])return d("SweetAlert2 expects at least 1 attribute!"),!1;var s=gt={},a=s.params=ht({},ft,e.argsToParams(i));t(a);var l=s.domCache={popup:A(),container:E(),content:L(),actions:B(),confirmButton:H(),cancelButton:N(),closeButton:R(),validationError:F(),progressSteps:$()};return new Promise((function(t,n){var i=function(n){e.closePopup(a.onClose),a.useRejections?t(n):t({value:n})},r=function(i){e.closePopup(a.onClose),a.useRejections?n(i):t({dismiss:i})},s=function(t){e.closePopup(a.onClose),n(t)};a.timer&&(l.popup.timeout=setTimeout((function(){return r("timer")}),a.timer));var u=function(){var t=e.getInput();if(!t)return null;switch(a.input){case"checkbox":return t.checked?1:0;case"radio":return t.checked?t.value:null;case"file":return t.files.length?t.files[0]:null;case"signature":if(rt)return rt.toDataURL("image/svg+xml");break;default:return a.inputAutoTrim?t.value.trim():t.value}};a.input&&setTimeout((function(){var t=e.getInput();t&&v(t)}),0);for(var h=function(t){if(a.showLoaderOnConfirm&&e.showLoading(),a.preConfirm){e.resetValidationError();var n=Promise.resolve().then((function(){return a.preConfirm(t,a.extraParams)}));a.expectRejections?n.then((function(e){return i(e||t)}),(function(t){e.hideLoading(),t&&e.showValidationError(t)})):n.then((function(n){S(l.validationError)||!1===n?e.hideLoading():i(n||t)}),(function(t){return s(t)}))}else i(t)},f=function(t){var n=t||window.event,i=n.target||n.srcElement,o=l.confirmButton,c=l.cancelButton,d=o&&(o===i||o.contains(i)),f=c&&(c===i||c.contains(i));if("click"===n.type)if(d&&e.isVisible())if(e.disableButtons(),a.input){var p=u();if(a.inputValidator){e.disableInput();var g=Promise.resolve().then((function(){return a.inputValidator(p,a.extraParams)}));a.expectRejections?g.then((function(){e.enableButtons(),e.enableInput(),h(p)}),(function(t){e.enableButtons(),e.enableInput(),t&&e.showValidationError(t)})):g.then((function(t){e.enableButtons(),e.enableInput(),t?e.showValidationError(t):h(p)}),(function(t){return s(t)}))}else h(p)}else h(!0);else f&&e.isVisible()&&(e.disableButtons(),r(e.DismissReason.cancel))},g=l.popup.querySelectorAll("button"),m=0;m<g.length;m++)g[m].onclick=f,g[m].onmouseover=f,g[m].onmouseout=f,g[m].onmousedown=f;if(l.closeButton.onclick=function(){r(e.DismissReason.close)},a.toast)l.popup.onclick=function(){a.showConfirmButton||a.showCancelButton||a.showCloseButton||a.input||(e.closePopup(a.onClose),r(e.DismissReason.close))};else{var y=!1;l.popup.onmousedown=function(){l.container.onmouseup=function(t){l.container.onmouseup=void 0,t.target===l.container&&(y=!0)}},l.container.onmousedown=function(){l.popup.onmouseup=function(t){l.popup.onmouseup=void 0,(t.target===l.popup||l.popup.contains(t.target))&&(y=!0)}},l.container.onclick=function(t){y?y=!1:t.target===l.container&&p(a.allowOutsideClick)&&r(e.DismissReason.backdrop)}}a.reverseButtons?l.confirmButton.parentNode.insertBefore(l.cancelButton,l.confirmButton):l.confirmButton.parentNode.insertBefore(l.confirmButton,l.cancelButton);var w=function(t,e){for(var n=W(a.focusCancel),i=0;i<n.length;i++){(t+=e)===n.length?t=0:-1===t&&(t=n.length-1);var r=n[t];if(S(r))return r.focus()}},k=function(t){var n=t||window.event,i=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Left","Right","Up","Down"];if("Enter"!==n.key||n.isComposing)if("Tab"===n.key){for(var o=n.target||n.srcElement,s=W(a.focusCancel),c=-1,u=0;u<s.length;u++)if(o===s[u]){c=u;break}n.shiftKey?w(c,-1):w(c,1),n.stopPropagation(),n.preventDefault()}else-1!==i.indexOf(n.key)?document.activeElement===l.confirmButton&&S(l.cancelButton)?l.cancelButton.focus():document.activeElement===l.cancelButton&&S(l.confirmButton)&&l.confirmButton.focus():"Escape"!==n.key&&"Esc"!==n.key||!0!==p(a.allowEscapeKey)||r(e.DismissReason.esc);else if(n.target===e.getInput()){if(-1!==["textarea","file"].indexOf(a.input))return;e.clickConfirm(),n.preventDefault()}};a.toast&&vt&&(window.onkeydown=mt,vt=!1),a.toast||vt||(mt=window.onkeydown,vt=!0,window.onkeydown=k),e.enableButtons(),e.hideLoading(),e.resetValidationError(),a.input&&b(document.body,o["has-input"]);for(var T=["input","file","range","select","radio","checkbox","textarea","signature"],D=void 0,E=0;E<T.length;E++){var M=o[T[E]],A=x(l.content,M);if(D=e.getInput(T[E])){for(var O in D.attributes)if(D.attributes.hasOwnProperty(O)){var P=D.attributes[O].name;"type"!==P&&"value"!==P&&D.removeAttribute(P)}for(var L in a.inputAttributes)D.setAttribute(L,a.inputAttributes[L])}A.className=M,a.inputClass&&b(A,a.inputClass),_(A)}var I=void 0;switch(a.input){case"text":case"email":case"password":case"number":case"tel":case"url":(D=x(l.content,o.input)).value=a.inputValue,D.placeholder=a.inputPlaceholder,D.type=a.input,C(D);break;case"file":(D=x(l.content,o.file)).placeholder=a.inputPlaceholder,D.type=a.input,C(D);break;case"range":var $=x(l.content,o.range),F=$.querySelector("input"),H=$.querySelector("output");F.value=a.inputValue,F.type=a.input,H.value=a.inputValue,C($);break;case"select":var N=x(l.content,o.select);if(N.innerHTML="",a.inputPlaceholder){var z=document.createElement("option");z.innerHTML=a.inputPlaceholder,z.value="",z.disabled=!0,z.selected=!0,N.appendChild(z)}I=function(t){t.forEach((function(t){var e=dt(t,2),n=e[0],i=e[1],r=document.createElement("option");r.value=n,r.innerHTML=i,a.inputValue.toString()===n.toString()&&(r.selected=!0),N.appendChild(r)})),C(N),N.focus()};break;case"radio":var B=x(l.content,o.radio);B.innerHTML="",I=function(t){t.forEach((function(t){var e=dt(t,2),n=e[0],i=e[1],r=document.createElement("input"),s=document.createElement("label");r.type="radio",r.name=o.radio,r.value=n,a.inputValue.toString()===n.toString()&&(r.checked=!0),s.innerHTML=i,s.insertBefore(r,s.firstChild),B.appendChild(s)})),C(B);var e=B.querySelectorAll("input");e.length&&e[0].focus()};break;case"checkbox":var j=x(l.content,o.checkbox),R=e.getInput("checkbox");R.type="checkbox",R.value=1,R.id=o.checkbox,R.checked=Boolean(a.inputValue);var Y=j.getElementsByTagName("span");Y.length&&j.removeChild(Y[0]),(Y=document.createElement("span")).innerHTML=a.inputPlaceholder,j.appendChild(Y),C(j);break;case"textarea":var q=x(l.content,o.textarea);q.value=a.inputValue,q.placeholder=a.inputPlaceholder,C(q);break;case"signature":var V=x(l.content,o.signature);V.value=a.inputValue,V.placeholder=a.inputPlaceholder,C(V);break;case null:break;default:d('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file", "signature" or "url", got "'+a.input+'"')}if("select"===a.input||"radio"===a.input){var U=function(t){return I(c(t))};a.inputOptions instanceof Promise?(e.showLoading(),a.inputOptions.then((function(t){e.hideLoading(),U(t)}))):"object"===ut(a.inputOptions)?U(a.inputOptions):d("Unexpected type of inputOptions! Expected object, Map or Promise, got "+ut(a.inputOptions))}bt(a.animation,a.onBeforeOpen,a.onOpen),a.toast||(p(a.allowEnterKey)?a.focusCancel&&S(l.cancelButton)?l.cancelButton.focus():a.focusConfirm&&S(l.confirmButton)?l.confirmButton.focus():w(-1,1):document.activeElement&&document.activeElement.blur()),l.container.scrollTop=0}))}};return wt.isVisible=function(){return!!A()},wt.queue=function(t){pt=t;var e=function(){pt=[],document.body.removeAttribute("data-swal2-queue-step")},n=[];return new Promise((function(t){!function i(r,o){r<pt.length?(document.body.setAttribute("data-swal2-queue-step",r),wt(pt[r]).then((function(s){void 0!==s.value?(n.push(s.value),i(r+1,o)):(e(),t({dismiss:s.dismiss}))}))):(e(),t({value:n}))}(0)}))},wt.getQueueStep=function(){return document.body.getAttribute("data-swal2-queue-step")},wt.insertQueueStep=function(t,e){return e&&e<pt.length?pt.splice(e,0,t):pt.push(t)},wt.deleteQueueStep=function(t){void 0!==pt[t]&&pt.splice(t,1)},wt.close=wt.closePopup=wt.closeModal=wt.closeToast=function(t){var e=E(),n=A();if(n){w(n,o.show),b(n,o.hide),clearTimeout(n.timeout),q()||(D(),window.onkeydown=mt,vt=!1);var i=function(){e.parentNode&&e.parentNode.removeChild(e),w([document.documentElement,document.body],[o.shown,o["no-backdrop"],o["has-input"],o["toast-shown"]]),Y()&&(it(),lt())};Z&&!m(n,o.noanimation)?n.addEventListener(Z,(function t(){n.removeEventListener(Z,t),m(n,o.hide)&&i()})):i(),null!==t&&"function"==typeof t&&setTimeout((function(){t(n)}))}},wt.clickConfirm=function(){return H().click()},wt.clickCancel=function(){return N().click()},wt.showLoading=wt.enableLoading=function(){var t=A();t||wt(""),t=A();var e=B(),n=H(),i=N();C(e),C(n),b([t,e],o.loading),n.disabled=!0,i.disabled=!0,t.setAttribute("data-loading",!0),t.setAttribute("aria-busy",!0),t.focus()},wt.isValidParameter=function(t){return e.hasOwnProperty(t)||"extraParams"===t},wt.isDeprecatedParameter=function(t){return-1!==n.indexOf(t)},wt.setDefaults=function(t){if(!t||"object"!==(void 0===t?"undefined":ut(t)))return d("the argument for setDefaults() is required and has to be a object");for(var e in yt(t),t)wt.isValidParameter(e)&&(ft[e]=t[e])},wt.resetDefaults=function(){ft=ht({},e)},wt.adaptInputValidator=function(t){return function(e,n){return t.call(this,e,n).then((function(){}),(function(t){return t}))}},wt.getTitle=function(){return P()},wt.getContent=function(){return L()},wt.getImage=function(){return I()},wt.getButtonsWrapper=function(){return z()},wt.getActions=function(){return B()},wt.getConfirmButton=function(){return H()},wt.getCancelButton=function(){return N()},wt.getFooter=function(){return j()},wt.isLoading=function(){return V()},wt.hideLoading=wt.disableLoading=function(){if(gt){var t=gt,e=t.params,n=t.domCache;e.showConfirmButton||(_(n.confirmButton),e.showCancelButton||_(n.actions)),w([n.popup,n.actions],o.loading),n.popup.removeAttribute("aria-busy"),n.popup.removeAttribute("data-loading"),n.confirmButton.disabled=!1,n.cancelButton.disabled=!1}},wt.getInput=function(t){if(gt){var e=gt,n=e.params,i=e.domCache;if(!(t=t||n.input))return null;switch(t){case"signature":case"select":case"textarea":case"file":return x(i.content,o[t]);case"checkbox":return i.popup.querySelector("."+o.checkbox+" input");case"radio":return i.popup.querySelector("."+o.radio+" input:checked")||i.popup.querySelector("."+o.radio+" input:first-child");case"range":return i.popup.querySelector("."+o.range+" input");default:return x(i.content,o.input)}}},wt.enableButtons=function(){if(gt){var t=gt.domCache;t.confirmButton.disabled=!1,t.cancelButton.disabled=!1}},wt.disableButtons=function(){if(gt){var t=gt.domCache;t.confirmButton.disabled=!0,t.cancelButton.disabled=!0}},wt.enableConfirmButton=function(){gt&&(gt.domCache.confirmButton.disabled=!1)},wt.disableConfirmButton=function(){gt&&(gt.domCache.confirmButton.disabled=!0)},wt.enableInput=function(){if(gt){var t=wt.getInput();if(!t)return!1;if("radio"===t.type)for(var e=t.parentNode.parentNode.querySelectorAll("input"),n=0;n<e.length;n++)e[n].disabled=!1;else t.disabled=!1}},wt.disableInput=function(){if(gt){var t=wt.getInput();if(!t)return!1;if(t&&"radio"===t.type)for(var e=t.parentNode.parentNode.querySelectorAll("input"),n=0;n<e.length;n++)e[n].disabled=!0;else t.disabled=!0}},wt.showValidationError=function(t){if(gt){var e=gt.domCache;e.validationError.innerHTML=t;var n=window.getComputedStyle(e.popup);e.validationError.style.marginLeft="-"+n.getPropertyValue("padding-left"),e.validationError.style.marginRight="-"+n.getPropertyValue("padding-right"),C(e.validationError);var i=wt.getInput();i&&(i.setAttribute("aria-invalid",!0),i.setAttribute("aria-describedBy",o.validationerror),v(i),b(i,o.inputerror))}},wt.resetValidationError=function(){if(gt){var t=gt.domCache;t.validationError&&_(t.validationError);var e=wt.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedBy"),w(e,o.inputerror))}},wt.getProgressSteps=function(){if(gt)return gt.params.progressSteps},wt.setProgressSteps=function(e){if(gt){var n=gt.params;n.progressSteps=e,t(n)}},wt.showProgressSteps=function(){if(gt){var t=gt.domCache;C(t.progressSteps)}},wt.hideProgressSteps=function(){if(gt){var t=gt.domCache;_(t.progressSteps)}},wt.argsToParams=function(t){var e={};switch(ut(t[0])){case"string":["title","html","type"].forEach((function(n,i){void 0!==t[i]&&(e[n]=t[i])}));break;case"object":yt(t[0]),ht(e,t[0]);break;default:return d('Unexpected type of argument! Expected "string" or "object", got '+ut(t[0])),!1}return e},wt.DismissReason=et,wt.noop=function(){},wt.version=ct,wt.default=wt,"undefined"!=typeof window&&"object"===ut(window._swalDefaults)&&wt.setDefaults(window._swalDefaults),wt})),"undefined"!=typeof window&&window.Sweetalert2&&(window.sweetAlert=window.swal=window.Sweetalert2);var sweetAlertConfirmConfig=sweetAlertConfirmConfig||{};!function(t){var e=function(){function e(e){if(e.value)if(!0===$linkToVerify.data().remote)t.rails.handleRemote($linkToVerify);else if(void 0!==$linkToVerify.data().method)t.rails.handleMethod($linkToVerify);else if("submit"==$linkToVerify.attr("type")){var n=$linkToVerify.attr("name"),i=n?{name:n,value:$linkToVerify.val()}:null;$linkToVerify.closest("form").data("ujs:submit-button",i),$linkToVerify.closest("form").submit()}else $linkToVerify.data("swal-confirmed",!0).click();else e.dismiss}swal.close(),swalDefaultOptions={title:sweetAlertConfirmConfig.title||"Are you sure?",type:sweetAlertConfirmConfig.type||"warning",showCancelButton:sweetAlertConfirmConfig.showCancelButton||!0,confirmButtonText:sweetAlertConfirmConfig.confirmButtonText||"Ok",cancelButtonText:sweetAlertConfirmConfig.cancelButtonText||"Cancel"},null!==sweetAlertConfirmConfig.confirmButtonColor&&(swalDefaultOptions.confirmButtonColor=sweetAlertConfirmConfig.confirmButtonColor),$linkToVerify=t(this);var n=swalDefaultOptions,i=["text","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","html","imageUrl","allowOutsideClick","customClass"];return $linkToVerify.data("swal-confirmed")?($linkToVerify.data("swal-confirmed",!1),!0):(t.each($linkToVerify.data(),(function(e,r){t.inArray(e,i)>=0&&(n[e]=r)})),$linkToVerify.attr("data-sweet-alert-type")&&(n.type=$linkToVerify.attr("data-sweet-alert-type")),message=$linkToVerify.attr("data-sweet-alert-confirm"),n.title=message,swal(n).then(e),!1)};t(document).on("ready turbolinks:load page:update ajaxComplete",(function(){t("[data-sweet-alert-confirm]").unbind("click"),t("[data-sweet-alert-confirm]").on("click",e)})),t(document).on("ready turbolinks:load page:load",(function(){"function"==typeof window.sweetAlertInitialize&&window.sweetAlertInitialize()}))}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e(require,exports,module):t.Tether=e()}(this,(function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t){var n=t.getBoundingClientRect(),i={};for(var r in n)i[r]=n[r];if(t.ownerDocument!==document){var o=t.ownerDocument.defaultView.frameElement;if(o){var s=e(o);i.top+=s.top,i.bottom+=s.top,i.left+=s.left,i.right+=s.left}}return i}function n(t){var e=(getComputedStyle(t)||{}).position,n=[];if("fixed"===e)return[t];for(var i=t;(i=i.parentNode)&&i&&1===i.nodeType;){var r=void 0;try{r=getComputedStyle(i)}catch(t){}if(null==r)return n.push(i),n;var o=r,s=o.overflow,a=o.overflowX,l=o.overflowY;/(auto|scroll)/.test(s+l+a)&&("absolute"!==e||["relative","absolute","fixed"].indexOf(r.position)>=0)&&n.push(i)}return n.push(t.ownerDocument.body),t.ownerDocument!==document&&n.push(t.ownerDocument.defaultView),n}function i(){_&&document.body.removeChild(_),_=null}function r(t){var n=void 0;t===document?(n=document,t=document.documentElement):n=t.ownerDocument;var i=n.documentElement,r=e(t),o=T();return r.top-=o.top,r.left-=o.left,void 0===r.width&&(r.width=document.body.scrollWidth-r.left-r.right),void 0===r.height&&(r.height=document.body.scrollHeight-r.top-r.bottom),r.top=r.top-i.clientTop,r.left=r.left-i.clientLeft,r.right=n.body.clientWidth-r.width-r.left,r.bottom=n.body.clientHeight-r.height-r.top,r}function o(t){return t.offsetParent||document.documentElement}function s(){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");a(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;n===i&&(i=e.clientWidth),document.body.removeChild(e);var r=n-i;return{width:r,height:r}}function a(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach((function(e){if(e)for(var n in e)({}).hasOwnProperty.call(e,n)&&(t[n]=e[n])})),t}function l(t,e){if(void 0!==t.classList)e.split(" ").forEach((function(e){e.trim()&&t.classList.remove(e)}));else{var n=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),i=d(t).replace(n," ");h(t,i)}}function c(t,e){if(void 0!==t.classList)e.split(" ").forEach((function(e){e.trim()&&t.classList.add(e)}));else{l(t,e);var n=d(t)+" "+e;h(t,n)}}function u(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=d(t);return new RegExp("(^| )"+e+"( |$)","gi").test(n)}function d(t){return t.className instanceof t.ownerDocument.defaultView.SVGAnimatedString?t.className.baseVal:t.className}function h(t,e){t.setAttribute("class",e)}function f(t,e,n){n.forEach((function(n){-1===e.indexOf(n)&&u(t,n)&&l(t,n)})),e.forEach((function(e){u(t,e)||c(t,e)}))}function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function g(t,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t+n>=e&&e>=t-n}function m(){return"undefined"!=typeof performance&&void 0!==performance.now?performance.now():+new Date}function v(){for(var t={top:0,left:0},e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach((function(e){var n=e.top,i=e.left;"string"==typeof n&&(n=parseFloat(n,10)),"string"==typeof i&&(i=parseFloat(i,10)),t.top+=n,t.left+=i})),t}function y(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t}function b(t,e){return"scrollParent"===e?e=t.scrollParents[0]:"window"===e&&(e=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),e===document&&(e=e.documentElement),void 0!==e.nodeType&&function(){var t=e,n=r(e),i=n,o=getComputedStyle(e);if(e=[i.left,i.top,n.width+i.left,n.height+i.top],t.ownerDocument!==document){var s=t.ownerDocument.defaultView;e[0]+=s.pageXOffset,e[1]+=s.pageYOffset,e[2]+=s.pageXOffset,e[3]+=s.pageYOffset}X.forEach((function(t,n){"Top"===(t=t[0].toUpperCase()+t.substr(1))||"Left"===t?e[n]+=parseFloat(o["border"+t+"Width"]):e[n]-=parseFloat(o["border"+t+"Width"])}))}(),e}var w=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),x=void 0;void 0===x&&(x={modules:[]});var C,_=null,k=(C=0,function(){return++C}),S={},T=function(){var t=_;t||((t=document.createElement("div")).setAttribute("data-tether-id",k()),a(t.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(t),_=t);var n=t.getAttribute("data-tether-id");return void 0===S[n]&&(S[n]=e(t),E((function(){delete S[n]}))),S[n]},D=[],E=function(t){D.push(t)},M=function(){for(var t=void 0;t=D.pop();)t()},A=function(){function e(){t(this,e)}return w(e,[{key:"on",value:function(t,e,n){var i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})}},{key:"once",value:function(t,e,n){this.on(t,e,n,!0)}},{key:"off",value:function(t,e){if(void 0!==this.bindings&&void 0!==this.bindings[t])if(void 0===e)delete this.bindings[t];else for(var n=0;n<this.bindings[t].length;)this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):++n}},{key:"trigger",value:function(t){if(void 0!==this.bindings&&this.bindings[t]){for(var e=0,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(;e<this.bindings[t].length;){var o=this.bindings[t][e],s=o.handler,a=o.ctx,l=o.once,c=a;void 0===c&&(c=this),s.apply(c,i),l?this.bindings[t].splice(e,1):++e}}}}]),e}();x.Utils={getActualBoundingClientRect:e,getScrollParents:n,getBounds:r,getOffsetParent:o,extend:a,addClass:c,removeClass:l,hasClass:u,updateClasses:f,defer:E,flush:M,uniqueId:k,Evented:A,getScrollBarSize:s,removeUtilElements:i};var O=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=(w=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,n=s,i=!0,a=c=void 0}});if(void 0===x)throw new Error("You must include the utils.js file before tether.js");var L,I,$,F,n=(Q=x.Utils).getScrollParents,o=(r=Q.getBounds,Q.getOffsetParent),c=(a=Q.extend,Q.addClass),l=Q.removeClass,s=(f=Q.updateClasses,E=Q.defer,M=Q.flush,Q.getScrollBarSize),i=Q.removeUtilElements,H=function(){if("undefined"==typeof document)return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<e.length;++n){var i=e[n];if(void 0!==t.style[i])return i}}(),N=[],z=function(){N.forEach((function(t){t.position(!1)})),M()};L=null,I=null,$=null,F=function t(){if(void 0!==I&&I>16)return I=Math.min(I-16,250),void($=setTimeout(t,250));void 0!==L&&m()-L<10||(null!=$&&(clearTimeout($),$=null),L=m(),z(),I=m()-L)},"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach((function(t){window.addEventListener(t,F)}));var B={center:"center",left:"right",right:"left"},j={middle:"middle",top:"bottom",bottom:"top"},R={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},W=function(t,e){var n=t.left,i=t.top;return"auto"===n&&(n=B[e.left]),"auto"===i&&(i=j[e.top]),{left:n,top:i}},Y=function(t){var e=t.left,n=t.top;return void 0!==R[t.left]&&(e=R[t.left]),void 0!==R[t.top]&&(n=R[t.top]),{left:e,top:n}},q=function(t){var e=t.split(" "),n=O(e,2);return{top:n[0],left:n[1]}},V=q,U=function(e){function u(e){var n=this;t(this,u),P(Object.getPrototypeOf(u.prototype),"constructor",this).call(this),this.position=this.position.bind(this),N.push(this),this.history=[],this.setOptions(e,!1),x.modules.forEach((function(t){void 0!==t.initialize&&t.initialize.call(n)})),this.position()}return p(u,e),w(u,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return void 0!==e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,i=arguments.length<=1||void 0===arguments[1]||arguments[1],r={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=a(r,t);var o=this.options,s=o.element,l=o.target,u=o.targetModifier;if(this.element=s,this.target=l,this.targetModifier=u,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach((function(t){if(void 0===e[t])throw new Error("Tether Error: Both element and target must be defined");void 0!==e[t].jquery?e[t]=e[t][0]:"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))})),c(this.element,this.getClass("element")),
!1!==this.options.addTargetClasses&&c(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=V(this.options.targetAttachment),this.attachment=V(this.options.attachment),this.offset=q(this.options.offset),this.targetOffset=q(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=n(this.target),!1!==this.options.enabled&&this.enable(i)}},{key:"getTargetBounds",value:function(){if(void 0===this.targetModifier)return r(this.target);if("visible"===this.targetModifier)return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:((s={height:(t=r(this.target)).height,width:t.width,top:t.top,left:t.left}).height=Math.min(s.height,t.height-(pageYOffset-t.top)),s.height=Math.min(s.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),s.height=Math.min(innerHeight,s.height),s.height-=2,s.width=Math.min(s.width,t.width-(pageXOffset-t.left)),s.width=Math.min(s.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),s.width=Math.min(innerWidth,s.width),s.width-=2,s.top<pageYOffset&&(s.top=pageYOffset),s.left<pageXOffset&&(s.left=pageXOffset),s);if("scroll-handle"===this.targetModifier){var t=void 0,e=this.target;e===document.body?(e=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=r(e);var n=getComputedStyle(e),i=0;(e.scrollWidth>e.clientWidth||[n.overflow,n.overflowX].indexOf("scroll")>=0||this.target!==document.body)&&(i=15);var o=t.height-parseFloat(n.borderTopWidth)-parseFloat(n.borderBottomWidth)-i,s={width:15,height:.975*o*(o/e.scrollHeight),left:t.left+t.width-parseFloat(n.borderLeftWidth)-15},a=0;o<408&&this.target===document.body&&(a=-11e-5*Math.pow(o,2)-.00727*o+22.58),this.target!==document.body&&(s.height=Math.max(s.height,24));var l=this.target.scrollTop/(e.scrollHeight-o);return s.top=l*(o-s.height-a)+t.top+parseFloat(n.borderTopWidth),this.target===document.body&&(s.height=Math.max(s.height,24)),s}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return void 0===this._cache&&(this._cache={}),void 0===this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&c(this.target,this.getClass("enabled")),c(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach((function(e){e!==t.target.ownerDocument&&e.addEventListener("scroll",t.position)})),e&&this.position()}},{key:"disable",value:function(){var t=this;l(this.target,this.getClass("enabled")),l(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.position)}))}},{key:"destroy",value:function(){var t=this;this.disable(),N.forEach((function(e,n){e===t&&N.splice(n,1)})),0===N.length&&i()}},{key:"updateAttachClasses",value:function(t,e){var n=this;t=t||this.attachment,e=e||this.targetAttachment;var i=["left","top","bottom","right","middle","center"];void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var r=this._addAttachClasses;t.top&&r.push(this.getClass("element-attached")+"-"+t.top),t.left&&r.push(this.getClass("element-attached")+"-"+t.left),e.top&&r.push(this.getClass("target-attached")+"-"+e.top),e.left&&r.push(this.getClass("target-attached")+"-"+e.left);var o=[];i.forEach((function(t){o.push(n.getClass("element-attached")+"-"+t),o.push(n.getClass("target-attached")+"-"+t)})),E((function(){void 0!==n._addAttachClasses&&(f(n.element,n._addAttachClasses,o),!1!==n.options.addTargetClasses&&f(n.target,n._addAttachClasses,o),delete n._addAttachClasses)}))}},{key:"position",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var n=W(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,n);var i=this.cache("element-bounds",(function(){return r(t.element)})),a=i.width,l=i.height;if(0===a&&0===l&&void 0!==this.lastSize){var c=this.lastSize;a=c.width,l=c.height}else this.lastSize={width:a,height:l};var u=this.cache("target-bounds",(function(){return t.getTargetBounds()})),d=u,h=y(Y(this.attachment),{width:a,height:l}),f=y(Y(n),d),p=y(this.offset,{width:a,height:l}),g=y(this.targetOffset,d);h=v(h,p),f=v(f,g);for(var m=u.left+f.left-h.left,b=u.top+f.top-h.top,w=0;w<x.modules.length;++w){var C=x.modules[w].position.call(this,{left:m,top:b,targetAttachment:n,targetPos:u,elementPos:i,offset:h,targetOffset:f,manualOffset:p,manualTargetOffset:g,scrollbarSize:T,attachment:this.attachment});if(!1===C)return!1;void 0!==C&&"object"==typeof C&&(b=C.top,m=C.left)}var _={page:{top:b,left:m},viewport:{top:b-pageYOffset,bottom:pageYOffset-b-l+innerHeight,left:m-pageXOffset,right:pageXOffset-m-a+innerWidth}},k=this.target.ownerDocument,S=k.defaultView,T=void 0;return k.body.scrollWidth>S.innerWidth&&(T=this.cache("scrollbar-size",s),_.viewport.bottom-=T.height),k.body.scrollHeight>S.innerHeight&&(T=this.cache("scrollbar-size",s),_.viewport.right-=T.width),-1!==["","static"].indexOf(k.body.style.position)&&-1!==["","static"].indexOf(k.body.parentElement.style.position)||(_.page.bottom=k.body.scrollHeight-b-l,_.page.right=k.body.scrollWidth-m-a),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&function(){var e=t.cache("target-offsetparent",(function(){return o(t.target)})),n=t.cache("target-offsetparent-bounds",(function(){return r(e)})),i=getComputedStyle(e),s=n,a={};if(["Top","Left","Bottom","Right"].forEach((function(t){a[t.toLowerCase()]=parseFloat(i["border"+t+"Width"])})),n.right=k.body.scrollWidth-n.left-s.width+a.right,n.bottom=k.body.scrollHeight-n.top-s.height+a.bottom,_.page.top>=n.top+a.top&&_.page.bottom>=n.bottom&&_.page.left>=n.left+a.left&&_.page.right>=n.right){var l=e.scrollTop,c=e.scrollLeft;_.offset={top:_.page.top-n.top+l-a.top,left:_.page.left-n.left+c-a.left}}}(),this.move(_),this.history.unshift(_),this.history.length>3&&this.history.pop(),e&&M(),!0}}},{key:"move",value:function(t){var e=this;if(void 0!==this.element.parentNode){var n={};for(var i in t)for(var r in n[i]={},t[i]){for(var s=!1,l=0;l<this.history.length;++l){var c=this.history[l];if(void 0!==c[i]&&!g(c[i][r],t[i][r])){s=!0;break}}s||(n[i][r]=!0)}var u={top:"",left:"",right:"",bottom:""},d=function(t,n){if(!1!==(void 0!==e.options.optimizations?e.options.optimizations.gpu:null)){var i=void 0,r=void 0;t.top?(u.top=0,i=n.top):(u.bottom=0,i=-n.bottom),t.left?(u.left=0,r=n.left):(u.right=0,r=-n.right),u[H]="translateX("+Math.round(r)+"px) translateY("+Math.round(i)+"px)","msTransform"!==H&&(u[H]+=" translateZ(0)")}else t.top?u.top=n.top+"px":u.bottom=n.bottom+"px",t.left?u.left=n.left+"px":u.right=n.right+"px"},h=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(u.position="absolute",d(n.page,t.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(u.position="fixed",d(n.viewport,t.viewport)):void 0!==n.offset&&n.offset.top&&n.offset.left?function(){u.position="absolute";var i=e.cache("target-offsetparent",(function(){return o(e.target)}));o(e.element)!==i&&E((function(){e.element.parentNode.removeChild(e.element),i.appendChild(e.element)})),d(n.offset,t.offset),h=!0}():(u.position="absolute",d({top:!0,left:!0},t.page)),!h){for(var f=!0,p=this.element.parentNode;p&&1===p.nodeType&&"BODY"!==p.tagName;){if("static"!==getComputedStyle(p).position){f=!1;break}p=p.parentNode}f||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var m={},v=!1;for(var r in u){var y=u[r];this.element.style[r]!==y&&(v=!0,m[r]=y)}v&&E((function(){a(e.element.style,m)}))}}}]),u}(A);U.modules=[],x.position=z;var G=a(U,x),a=(O=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=(Q=x.Utils).getBounds,Q.extend),X=(f=Q.updateClasses,E=Q.defer,["left","top","right","bottom"]);x.modules.push({position:function(t){var e=this,n=t.top,i=t.left,o=t.targetAttachment;if(!this.options.constraints)return!0;var s=this.cache("element-bounds",(function(){return r(e.element)})),l=s.height,c=s.width;if(0===c&&0===l&&void 0!==this.lastSize){var u=this.lastSize;c=u.width,l=u.height}var d=this.cache("target-bounds",(function(){return e.getTargetBounds()})),h=d.height,p=d.width,g=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach((function(t){var e=t.outOfBoundsClass,n=t.pinnedClass;e&&g.push(e),n&&g.push(n)})),g.forEach((function(t){["left","top","right","bottom"].forEach((function(e){g.push(t+"-"+e)}))}));var m=[],v=a({},o),y=a({},this.attachment);return this.options.constraints.forEach((function(t){var r=t.to,s=t.attachment,a=t.pin;void 0===s&&(s="");var u=void 0,d=void 0;if(s.indexOf(" ")>=0){var f=s.split(" "),g=O(f,2);d=g[0],u=g[1]}else u=d=s;var w=b(e,r);"target"!==d&&"both"!==d||(n<w[1]&&"top"===v.top&&(n+=h,v.top="bottom"),n+l>w[3]&&"bottom"===v.top&&(n-=h,v.top="top")),"together"===d&&("top"===v.top&&("bottom"===y.top&&n<w[1]?(n+=h,v.top="bottom",n+=l,y.top="top"):"top"===y.top&&n+l>w[3]&&n-(l-h)>=w[1]&&(n-=l-h,v.top="bottom",y.top="bottom")),"bottom"===v.top&&("top"===y.top&&n+l>w[3]?(n-=h,v.top="top",n-=l,y.top="bottom"):"bottom"===y.top&&n<w[1]&&n+(2*l-h)<=w[3]&&(n+=l-h,v.top="top",y.top="top")),"middle"===v.top&&(n+l>w[3]&&"top"===y.top?(n-=l,y.top="bottom"):n<w[1]&&"bottom"===y.top&&(n+=l,y.top="top"))),"target"!==u&&"both"!==u||(i<w[0]&&"left"===v.left&&(i+=p,v.left="right"),i+c>w[2]&&"right"===v.left&&(i-=p,v.left="left")),"together"===u&&(i<w[0]&&"left"===v.left?"right"===y.left?(i+=p,v.left="right",i+=c,y.left="left"):"left"===y.left&&(i+=p,v.left="right",i-=c,y.left="right"):i+c>w[2]&&"right"===v.left?"left"===y.left?(i-=p,v.left="left",i-=c,y.left="right"):"right"===y.left&&(i-=p,v.left="left",i+=c,y.left="left"):"center"===v.left&&(i+c>w[2]&&"left"===y.left?(i-=c,y.left="right"):i<w[0]&&"right"===y.left&&(i+=c,y.left="left"))),"element"!==d&&"both"!==d||(n<w[1]&&"bottom"===y.top&&(n+=l,y.top="top"),n+l>w[3]&&"top"===y.top&&(n-=l,y.top="bottom")),"element"!==u&&"both"!==u||(i<w[0]&&("right"===y.left?(i+=c,y.left="left"):"center"===y.left&&(i+=c/2,y.left="left")),i+c>w[2]&&("left"===y.left?(i-=c,y.left="right"):"center"===y.left&&(i-=c/2,y.left="right"))),"string"==typeof a?a=a.split(",").map((function(t){return t.trim()})):!0===a&&(a=["top","left","right","bottom"]),a=a||[];var x,C,_=[],k=[];n<w[1]&&(a.indexOf("top")>=0?(n=w[1],_.push("top")):k.push("top")),n+l>w[3]&&(a.indexOf("bottom")>=0?(n=w[3]-l,_.push("bottom")):k.push("bottom")),i<w[0]&&(a.indexOf("left")>=0?(i=w[0],_.push("left")):k.push("left")),i+c>w[2]&&(a.indexOf("right")>=0?(i=w[2]-c,_.push("right")):k.push("right")),_.length&&(x=void 0,x=void 0!==e.options.pinnedClass?e.options.pinnedClass:e.getClass("pinned"),m.push(x),_.forEach((function(t){m.push(x+"-"+t)}))),k.length&&(C=void 0,C=void 0!==e.options.outOfBoundsClass?e.options.outOfBoundsClass:e.getClass("out-of-bounds"),m.push(C),k.forEach((function(t){m.push(C+"-"+t)}))),(_.indexOf("left")>=0||_.indexOf("right")>=0)&&(y.left=v.left=!1),(_.indexOf("top")>=0||_.indexOf("bottom")>=0)&&(y.top=v.top=!1),v.top===o.top&&v.left===o.left&&y.top===e.attachment.top&&y.left===e.attachment.left||(e.updateAttachClasses(y,v),e.trigger("update",{attachment:y,targetAttachment:v}))})),E((function(){!1!==e.options.addTargetClasses&&f(e.target,m,g),f(e.element,m,g)})),{top:n,left:i}}});var Q,r=(Q=x.Utils).getBounds,f=Q.updateClasses;E=Q.defer;x.modules.push({position:function(t){var e=this,n=t.top,i=t.left,o=this.cache("element-bounds",(function(){return r(e.element)})),s=o.height,a=o.width,l=this.getTargetBounds(),c=n+s,u=i+a,d=[];n<=l.bottom&&c>=l.top&&["left","right"].forEach((function(t){var e=l[t];e!==i&&e!==u||d.push(t)})),i<=l.right&&u>=l.left&&["top","bottom"].forEach((function(t){var e=l[t];e!==n&&e!==c||d.push(t)}));var h=[],p=[],g=["left","top","right","bottom"];return h.push(this.getClass("abutted")),g.forEach((function(t){h.push(e.getClass("abutted")+"-"+t)})),d.length&&p.push(this.getClass("abutted")),d.forEach((function(t){p.push(e.getClass("abutted")+"-"+t)})),E((function(){!1!==e.options.addTargetClasses&&f(e.target,p,h),f(e.element,p,h)})),!0}});O=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return x.modules.push({position:function(t){var e=t.top,n=t.left;if(this.options.shift){var i=this.options.shift;"function"==typeof this.options.shift&&(i=this.options.shift.call(this,{top:e,left:n}));var r=void 0,o=void 0;if("string"==typeof i){(i=i.split(" "))[1]=i[1]||i[0];var s=O(i,2);r=s[0],o=s[1],r=parseFloat(r,10),o=parseFloat(o,10)}else r=i.top,o=i.left;return{top:e+=r,left:n+=o}}}}),G})),function(t,e){"function"==typeof define&&define.amd?define(["tether"],e):"object"==typeof exports?module.exports=e(require("tether")):t.Drop=e(t.Tether)}(this,(function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t){var e=t.split(" "),n=a(e,2),i=n[0],r=n[1];if(["left","right"].indexOf(i)>=0){var o=[r,i];i=o[0],r=o[1]}return[i,r].join(" ")}function r(t,e){for(var n=void 0,i=[];-1!==(n=t.indexOf(e));)i.push(t.splice(n,1));return i}function o(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],u=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return new(s.apply(b,[null].concat(e)))};d(u,{createContext:o,drops:[],defaults:{}});var v={classPrefix:"drop",defaults:{position:"bottom left",openOn:"click",beforeClose:null,constrainToScrollParent:!0,constrainToWindow:!0,classes:"",remove:!1,openDelay:0,closeDelay:50,focusDelay:null,blurDelay:null,hoverOpenDelay:null,hoverCloseDelay:null,tetherOptions:{}}};d(u,v,a),d(u.defaults,v.defaults,a.defaults),void 0===x[u.classPrefix]&&(x[u.classPrefix]=[]),u.updateBodyClasses=function(){for(var t=!1,e=x[u.classPrefix],n=e.length,i=0;i<n;++i)if(e[i].isOpened()){t=!0;break}t?h(document.body,u.classPrefix+"-open"):f(document.body,u.classPrefix+"-open")};var b=function(o){function s(t){if(e(this,s),c(Object.getPrototypeOf(s.prototype),"constructor",this).call(this),this.options=d({},u.defaults,t),this.target=this.options.target,void 0===this.target)throw new Error("Drop Error: You must provide a target.");var n="data-"+u.classPrefix,i=this.target.getAttribute(n);i&&null==this.options.content&&(this.options.content=i);for(var r=["position","openOn"],o=0;o<r.length;++o){var a=this.target.getAttribute(n+"-"+r[o]);a&&null==this.options[r[o]]&&(this.options[r[o]]=a)}this.options.classes&&!1!==this.options.addTargetClasses&&h(this.target,this.options.classes),u.drops.push(this),x[u.classPrefix].push(this),this._boundEvents=[],this.bindMethods(),this.setupElements(),this.setupEvents(),this.setupTether()}return n(s,o),l(s,[{key:"_on",value:function(t,e,n){this._boundEvents.push({element:t,event:e,handler:n}),t.addEventListener(e,n)}},{key:"bindMethods",value:function(){this.transitionEndHandler=this._transitionEndHandler.bind(this)}},{key:"setupElements",value:function(){var t=this;if(this.drop=document.createElement("div"),h(this.drop,u.classPrefix),this.options.classes&&h(this.drop,this.options.classes),this.content=document.createElement("div"),h(this.content,u.classPrefix+"-content"),"function"==typeof this.options.content){var e=function(){var e=t.options.content.call(t,t);if("string"==typeof e)t.content.innerHTML=e;else{if("object"!=typeof e)throw new Error("Drop Error: Content function should return a string or HTMLElement.");t.content.innerHTML="",t.content.appendChild(e)}};e(),this.on("open",e.bind(this))}else"object"==typeof this.options.content?this.content.appendChild(this.options.content):this.content.innerHTML=this.options.content;this.drop.appendChild(this.content)}},{key:"setupTether",value:function(){var e=this.options.position.split(" ");e[0]=w[e[0]],e=e.join(" ");var n=[];this.options.constrainToScrollParent?n.push({to:"scrollParent",pin:!0,attachment:"together none"}):n.push({to:"scrollParent"}),!1!==this.options.constrainToWindow?n.push({to:"window",attachment:"together"}):n.push({to:"window"});var r={element:this.drop,target:this.target,attachment:i(e),targetAttachment:i(this.options.position),classPrefix:u.classPrefix,offset:"0 0",targetOffset:"0 0",enabled:!1,constraints:n,addTargetClasses:this.options.addTargetClasses};!1!==this.options.tetherOptions&&(this.tether=new t(d({},r,this.options.tetherOptions)))}},{key:"setupEvents",value:function(){var t=this;if(this.options.openOn)if("always"!==this.options.openOn){var e=this.options.openOn.split(" ");if(e.indexOf("click")>=0)for(var n=function(e){t.toggle(e),e.preventDefault()},i=function(e){t.isOpened()&&(e.target===t.drop||t.drop.contains(e.target)||e.target===t.target||t.target.contains(e.target)||t.close(e))},r=0;r<m.length;++r){var o=m[r];this._on(this.target,o,n),this._on(document,o,i)}var s=null,a=null,l=function(e){null!==a?clearTimeout(a):s=setTimeout((function(){t.open(e),s=null}),("focus"===e.type?t.options.focusDelay:t.options.hoverOpenDelay)||t.options.openDelay)},c=function(e){null!==s?clearTimeout(s):a=setTimeout((function(){t.close(e),a=null}),("blur"===e.type?t.options.blurDelay:t.options.hoverCloseDelay)||t.options.closeDelay)};e.indexOf("hover")>=0&&(this._on(this.target,"mouseover",l),this._on(this.drop,"mouseover",l),this._on(this.target,"mouseout",c),this._on(this.drop,"mouseout",c)),e.indexOf("focus")>=0&&(this._on(this.target,"focus",l),this._on(this.drop,"focus",l),this._on(this.target,"blur",c),this._on(this.drop,"blur",c))}else setTimeout(this.open.bind(this))}},{key:"isOpened",value:function(){if(this.drop)return p(this.drop,u.classPrefix+"-open")}},{key:"toggle",value:function(t){this.isOpened()?this.close(t):this.open(t)}},{key:"open",value:function(){var t=this;this.isOpened()||(this.drop.parentNode||document.body.appendChild(this.drop),void 0!==this.tether&&this.tether.enable(),h(this.drop,u.classPrefix+"-open"),h(this.drop,u.classPrefix+"-open-transitionend"),setTimeout((function(){t.drop&&h(t.drop,u.classPrefix+"-after-open")})),void 0!==this.tether&&this.tether.position(),this.trigger("open"),u.updateBodyClasses())}},{key:"_transitionEndHandler",value:function(t){t.target===t.currentTarget&&(p(this.drop,u.classPrefix+"-open")||f(this.drop,u.classPrefix+"-open-transitionend"),this.drop.removeEventListener(y,this.transitionEndHandler))}},{key:"beforeCloseHandler",value:function(t){var e=!0;return this.isClosing||"function"!=typeof this.options.beforeClose||(this.isClosing=!0,e=!1!==this.options.beforeClose(t,this)),this.isClosing=!1,e}},{key:"close",value:function(t){this.isOpened()&&this.beforeCloseHandler(t)&&(f(this.drop,u.classPrefix+"-open"),f(this.drop,u.classPrefix+"-after-open"),this.drop.addEventListener(y,this.transitionEndHandler),this.trigger("close"),void 0!==this.tether&&this.tether.disable(),u.updateBodyClasses(),this.options.remove&&this.remove(t))}},{key:"remove",value:function(t){this.close(t),this.drop.parentNode&&this.drop.parentNode.removeChild(this.drop)}},{key:"position",value:function(){this.isOpened()&&void 0!==this.tether&&this.tether.position()}},{key:"destroy",value:function(){this.remove(),void 0!==this.tether&&this.tether.destroy();for(var t=0;t<this._boundEvents.length;++t){var e=this._boundEvents[t],n=e.element,i=e.event,o=e.handler;n.removeEventListener(i,o)}this._boundEvents=[],this.tether=null,this.drop=null,this.content=null,this.target=null,r(x[u.classPrefix],this),r(u.drops,this)}}]),s}(g);return u}var s=Function.prototype.bind,a=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=o,n=s,i=!0,a=c=void 0}},u=t.Utils,d=u.extend,h=u.addClass,f=u.removeClass,p=u.hasClass,g=u.Evented,m=["click"];"ontouchstart"in document.documentElement&&m.push("touchstart");var v={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},y="";for(var b in v){if({}.hasOwnProperty.call(v,b))void 0!==document.createElement("p").style[b]&&(y=v[b])}var w={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},x={},C=o();return document.addEventListener("DOMContentLoaded",(function(){C.updateBodyClasses()})),C})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Popper=e()}(this,(function(){"use strict";function t(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}function e(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),ct))}}function n(t){return t&&"[object Function]"==={}.toString.call(t)}function i(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function r(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function o(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=i(t),n=e.overflow,s=e.overflowX,a=e.overflowY;return/(auto|scroll|overlay)/.test(n+a+s)?t:o(r(t))}function s(t){return 11===t?ht:10===t?ft:ht||ft}function a(t){if(!t)return document.documentElement;for(var e=s(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===i(n,"position")?a(n):n:t?t.ownerDocument.documentElement:document.documentElement}function l(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||a(t.firstElementChild)===t)}function c(t){return null!==t.parentNode?c(t.parentNode):t}function u(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var s=o.commonAncestorContainer;if(t!==s&&e!==s||i.contains(r))return l(s)?s:a(s);var d=c(t);return d.host?u(d.host,e):u(t,c(e).host)}function d(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var i=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||i)[e]}return t[e]}function h(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=d(e,"top"),r=d(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}function f(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function p(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],s(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function g(t){var e=t.body,n=t.documentElement,i=s(10)&&getComputedStyle(n);return{height:p("Height",e,n,i),width:p("Width",e,n,i)}}function m(t){return vt({},t,{right:t.left+t.width,bottom:t.top+t.height})}function v(t){var e={};try{if(s(10)){e=t.getBoundingClientRect();var n=d(t,"top"),r=d(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch(t){}var o={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},a="HTML"===t.nodeName?g(t.ownerDocument):{},l=a.width||t.clientWidth||o.right-o.left,c=a.height||t.clientHeight||o.bottom-o.top,u=t.offsetWidth-l,h=t.offsetHeight-c;if(u||h){var p=i(t);u-=f(p,"x"),h-=f(p,"y"),o.width-=u,o.height-=h}return m(o)}function y(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=s(10),a="HTML"===e.nodeName,l=v(t),c=v(e),u=o(t),d=i(e),f=parseFloat(d.borderTopWidth,10),p=parseFloat(d.borderLeftWidth,10);n&&a&&(c.top=Math.max(c.top,0),c.left=Math.max(c.left,0));var g=m({top:l.top-c.top-f,left:l.left-c.left-p,width:l.width,height:l.height});if(g.marginTop=0,g.marginLeft=0,!r&&a){var y=parseFloat(d.marginTop,10),b=parseFloat(d.marginLeft,10);g.top-=f-y,g.bottom-=f-y,g.left-=p-b,g.right-=p-b,g.marginTop=y,g.marginLeft=b}return(r&&!n?e.contains(u):e===u&&"BODY"!==u.nodeName)&&(g=h(g,e)),g}function b(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=y(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:d(n),a=e?0:d(n,"left");return m({top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:o})}function w(t){var e=t.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===i(t,"position")||w(r(t)))}function x(t){if(!t||!t.parentElement||s())return document.documentElement;for(var e=t.parentElement;e&&"none"===i(e,"transform");)e=e.parentElement;return e||document.documentElement}function C(t,e,n,i){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},l=s?x(t):u(t,e);if("viewport"===i)a=b(l,s);else{var c=void 0;"scrollParent"===i?"BODY"===(c=o(r(e))).nodeName&&(c=t.ownerDocument.documentElement):c="window"===i?t.ownerDocument.documentElement:i;var d=y(c,l,s);if("HTML"!==c.nodeName||w(l))a=d;else{var h=g(t.ownerDocument),f=h.height,p=h.width;a.top+=d.top-d.marginTop,a.bottom=f+d.top,a.left+=d.left-d.marginLeft,a.right=p+d.left}}var m="number"==typeof(n=n||0);return a.left+=m?n:n.left||0,a.top+=m?n:n.top||0,a.right-=m?n:n.right||0,a.bottom-=m?n:n.bottom||0,a}function _(t){return t.width*t.height}function k(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=C(n,i,o,r),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map((function(t){return vt({key:t},a[t],{area:_(a[t])})})).sort((function(t,e){return e.area-t.area})),c=l.filter((function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,d=t.split("-")[1];return u+(d?"-"+d:"")}function S(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return y(n,i?x(e):u(e,n),i)}function T(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop)+parseFloat(e.marginBottom),i=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function D(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function E(t,e,n){n=n.split("-")[0];var i=T(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return r[s]=e[s]+e[l]/2-i[l]/2,r[a]=n===a?e[a]-i[c]:e[D(a)],r}function M(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function A(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var i=M(t,(function(t){return t[e]===n}));return t.indexOf(i)}function O(t,e,i){return(void 0===i?t:t.slice(0,A(t,"name",i))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=t.function||t.fn;t.enabled&&n(i)&&(e.offsets.popper=m(e.offsets.popper),e.offsets.reference=m(e.offsets.reference),e=i(e,t))})),e}function P(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=S(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=k(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=E(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=O(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function L(t,e){return t.some((function(t){var n=t.name;return t.enabled&&n===e}))}function I(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if(void 0!==document.body.style[o])return o}return null}function $(){return this.state.isDestroyed=!0,L(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[I("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function F(t){var e=t.ownerDocument;return e?e.defaultView:window}function H(t,e,n,i){var r="BODY"===t.nodeName,s=r?t.ownerDocument.defaultView:t;s.addEventListener(e,n,{passive:!0}),r||H(o(s.parentNode),e,n,i),i.push(s)}function N(t,e,n,i){n.updateBound=i,F(t).addEventListener("resize",n.updateBound,{passive:!0});var r=o(t);return H(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function z(){this.state.eventsEnabled||(this.state=N(this.reference,this.options,this.state,this.scheduleUpdate))}function B(t,e){return F(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function j(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=B(this.reference,this.state))}function R(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function W(t,e){Object.keys(e).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&R(e[n])&&(i="px"),t.style[n]=e[n]+i}))}function Y(t,e){Object.keys(e).forEach((function(n){!1!==e[n]?t.setAttribute(n,e[n]):t.removeAttribute(n)}))}function q(t){return W(t.instance.popper,t.styles),Y(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&W(t.arrowElement,t.arrowStyles),t}function V(t,e,n,i,r){var o=S(r,e,t,n.positionFixed),s=k(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),W(e,{position:n.positionFixed?"fixed":"absolute"}),n}function U(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=M(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration
;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:e.gpuAcceleration,l=a(t.instance.popper),c=v(l),u={position:r.position},d={left:Math.floor(r.left),top:Math.round(r.top),bottom:Math.round(r.bottom),right:Math.floor(r.right)},h="bottom"===n?"top":"bottom",f="right"===i?"left":"right",p=I("transform"),g=void 0,m=void 0;if(m="bottom"===h?"HTML"===l.nodeName?-l.clientHeight+d.bottom:-c.height+d.bottom:d.top,g="right"===f?"HTML"===l.nodeName?-l.clientWidth+d.right:-c.width+d.right:d.left,s&&p)u[p]="translate3d("+g+"px, "+m+"px, 0)",u[h]=0,u[f]=0,u.willChange="transform";else{var y="bottom"===h?-1:1,b="right"===f?-1:1;u[h]=m*y,u[f]=g*b,u.willChange=h+", "+f}var w={"x-placement":t.placement};return t.attributes=vt({},w,t.attributes),t.styles=vt({},u,t.styles),t.arrowStyles=vt({},t.offsets.arrow,t.arrowStyles),t}function G(t,e,n){var i=M(t,(function(t){return t.name===e})),r=!!i&&t.some((function(t){return t.name===n&&t.enabled&&t.order<i.order}));if(!r){var o="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}function X(t,e){var n;if(!G(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if("string"==typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var o=t.placement.split("-")[0],s=t.offsets,a=s.popper,l=s.reference,c=-1!==["left","right"].indexOf(o),u=c?"height":"width",d=c?"Top":"Left",h=d.toLowerCase(),f=c?"left":"top",p=c?"bottom":"right",g=T(r)[u];l[p]-g<a[h]&&(t.offsets.popper[h]-=a[h]-(l[p]-g)),l[h]+g>a[p]&&(t.offsets.popper[h]+=l[h]+g-a[p]),t.offsets.popper=m(t.offsets.popper);var v=l[h]+l[u]/2-g/2,y=i(t.instance.popper),b=parseFloat(y["margin"+d],10),w=parseFloat(y["border"+d+"Width"],10),x=v-t.offsets.popper[h]-b-w;return x=Math.max(Math.min(a[u]-g,x),0),t.arrowElement=r,t.offsets.arrow=(mt(n={},h,Math.round(x)),mt(n,f,""),n),t}function Q(t){return"end"===t?"start":"start"===t?"end":t}function K(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=bt.indexOf(t),i=bt.slice(n+1).concat(bt.slice(0,n));return e?i.reverse():i}function Z(t,e){if(L(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=C(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=D(i),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case wt.FLIP:s=[i,r];break;case wt.CLOCKWISE:s=K(i);break;case wt.COUNTERCLOCKWISE:s=K(i,!0);break;default:s=e.behavior}return s.forEach((function(a,l){if(i!==a||s.length===l+1)return t;i=t.placement.split("-")[0],r=D(i);var c=t.offsets.popper,u=t.offsets.reference,d=Math.floor,h="left"===i&&d(c.right)>d(u.left)||"right"===i&&d(c.left)<d(u.right)||"top"===i&&d(c.bottom)>d(u.top)||"bottom"===i&&d(c.top)<d(u.bottom),f=d(c.left)<d(n.left),p=d(c.right)>d(n.right),g=d(c.top)<d(n.top),m=d(c.bottom)>d(n.bottom),v="left"===i&&f||"right"===i&&p||"top"===i&&g||"bottom"===i&&m,y=-1!==["top","bottom"].indexOf(i),b=!!e.flipVariations&&(y&&"start"===o&&f||y&&"end"===o&&p||!y&&"start"===o&&g||!y&&"end"===o&&m);(h||v||b)&&(t.flipped=!0,(h||v)&&(i=s[l+1]),b&&(o=Q(o)),t.placement=i+(o?"-"+o:""),t.offsets.popper=vt({},t.offsets.popper,E(t.instance.popper,t.offsets.reference,t.placement)),t=O(t.instance.modifiers,t,"flip"))})),t}function J(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[a]<o(i[l])&&(t.offsets.popper[l]=o(i[l])-n[c]),n[l]>o(i[a])&&(t.offsets.popper[l]=o(i[a])),t}function tt(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return t;if(0===s.indexOf("%")){var a=void 0;if("%p"===s)a=n;else a=i;return m(a)[e]/100*o}if("vh"===s||"vw"===s){return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}function et(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),s=t.split(/(\+|\-)/).map((function(t){return t.trim()})),a=s.indexOf(M(s,(function(t){return-1!==t.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return(c=c.map((function(t,i){var r=(1===i?!o:o)?"height":"width",s=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)}),[]).map((function(t){return tt(t,r,e,n)}))}))).forEach((function(t,e){t.forEach((function(n,i){R(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))}))})),r}function nt(t,e){var n=e.offset,i=t.placement,r=t.offsets,o=r.popper,s=r.reference,a=i.split("-")[0],l=void 0;return l=R(+n)?[+n,0]:et(n,o,s,a),"left"===a?(o.top+=l[0],o.left-=l[1]):"right"===a?(o.top+=l[0],o.left+=l[1]):"top"===a?(o.left+=l[0],o.top-=l[1]):"bottom"===a&&(o.left+=l[0],o.top+=l[1]),t.popper=o,t}function it(t,e){var n=e.boundariesElement||a(t.instance.popper);t.instance.reference===n&&(n=a(n));var i=I("transform"),r=t.instance.popper.style,o=r.top,s=r.left,l=r[i];r.top="",r.left="",r[i]="";var c=C(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=s,r[i]=l,e.boundaries=c;var u=e.priority,d=t.offsets.popper,h={primary:function(t){var n=d[t];return d[t]<c[t]&&!e.escapeWithReference&&(n=Math.max(d[t],c[t])),mt({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=d[n];return d[t]>c[t]&&!e.escapeWithReference&&(i=Math.min(d[n],c[t]-("right"===t?d.width:d.height))),mt({},n,i)}};return u.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";d=vt({},d,h[e](t))})),t.offsets.popper=d,t}function rt(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",c=a?"width":"height",u={start:mt({},l,o[l]),end:mt({},l,o[l]+o[c]-s[c])};t.offsets.popper=vt({},s,u[i])}return t}function ot(t){if(!G(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=M(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function st(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),t.placement=D(e),t.offsets.popper=m(r),t}for(var at="undefined"!=typeof window&&"undefined"!=typeof document,lt=["Edge","Trident","Firefox"],ct=0,ut=0;ut<lt.length;ut+=1)if(at&&navigator.userAgent.indexOf(lt[ut])>=0){ct=1;break}var dt=at&&window.Promise?t:e,ht=at&&!(!window.MSInputMethodContext||!document.documentMode),ft=at&&/MSIE 10/.test(navigator.userAgent),pt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},gt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),mt=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},vt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},yt=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],bt=yt.slice(3),wt={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},xt={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:rt},offset:{order:200,enabled:!0,fn:nt,offset:0},preventOverflow:{order:300,enabled:!0,fn:it,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:J},arrow:{order:500,enabled:!0,fn:X,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:Z,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:st},hide:{order:800,enabled:!0,fn:ot},computeStyle:{order:850,enabled:!0,fn:U,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:q,onLoad:V,gpuAcceleration:void 0}}},Ct=function(){function t(e,i){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};pt(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=dt(this.update.bind(this)),this.options=vt({},t.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=i&&i.jquery?i[0]:i,this.options.modifiers={},Object.keys(vt({},t.Defaults.modifiers,o.modifiers)).forEach((function(e){r.options.modifiers[e]=vt({},t.Defaults.modifiers[e]||{},o.modifiers?o.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return vt({name:t},r.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&n(t.onLoad)&&t.onLoad(r.reference,r.popper,r.options,t,r.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return gt(t,[{key:"update",value:function(){return P.call(this)}},{key:"destroy",value:function(){return $.call(this)}},{key:"enableEventListeners",value:function(){return z.call(this)}},{key:"disableEventListeners",value:function(){return j.call(this)}}]),t}();return Ct.Utils=("undefined"!=typeof window?window:global).PopperUtils,Ct.placements=yt,Ct.Defaults=xt,Ct})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,(function(){"use strict";function t(){return Di.apply(null,arguments)}function e(t){Di=t}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function r(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}function o(t){return void 0===t}function s(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function a(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var n in e)c(e,n)&&(t[n]=e[n]);return c(e,"toString")&&(t.toString=e.toString),c(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,n,i){return ke(t,e,n,i,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(t){return null==t._pf&&(t._pf=h()),t._pf}function p(t){if(null==t._isValid){var e=f(t),n=Ei.call(e.parsedDateParts,(function(t){return null!=t})),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function g(t){var e=d(NaN);return null!=t?u(f(e),t):f(e).userInvalidated=!0,e}function m(t,e){var n,i,r;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=f(e)),o(e._locale)||(t._locale=e._locale),Ai.length>0)for(n=0;n<Ai.length;n++)o(r=e[i=Ai[n]])||(t[i]=r);return t}function v(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Oi&&(Oi=!0,t.updateOffset(this),Oi=!1)}function y(t){return t instanceof v||null!=t&&null!=t._isAMomentObject}function b(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function w(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=b(e)),n}function x(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&w(t[i])!==w(e[i]))&&s++;return s+o}function C(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function _(e,n){var i=!0;return u((function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){for(var r,o=[],s=0;s<arguments.length;s++){if(r="","object"==typeof arguments[s]){for(var a in r+="\n["+s+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[s];o.push(r)}C(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)}),n)}function k(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),Pi[e]||(C(n),Pi[e]=!0)}function S(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function T(t){var e,n;for(n in t)S(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function D(t,e){var n,r=u({},t);for(n in e)c(e,n)&&(i(t[n])&&i(e[n])?(r[n]={},u(r[n],t[n]),u(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)c(t,n)&&!c(e,n)&&i(t[n])&&(r[n]=u({},r[n]));return r}function E(t){null!=t&&this.set(t)}function M(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return S(i)?i.call(e,n):i}function A(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])}function O(){return this._invalidDate}function P(t){return this._ordinal.replace("%d",t)}function L(t,e,n,i){var r=this._relativeTime[n];return S(r)?r(t,e,n,i):r.replace(/%d/i,t)}function I(t,e){var n=this._relativeTime[t>0?"future":"past"];return S(n)?n(e):n.replace(/%s/i,e)}function $(t,e){var n=t.toLowerCase();zi[n]=zi[n+"s"]=zi[e]=t}function F(t){return"string"==typeof t?zi[t]||zi[t.toLowerCase()]:void 0}function H(t){var e,n,i={};for(n in t)c(t,n)&&(e=F(n))&&(i[e]=t[n]);return i}function N(t,e){Bi[t]=e}function z(t){var e=[];for(var n in t)e.push({unit:n,priority:Bi[n]});return e.sort((function(t,e){return t.priority-e.priority})),e}function B(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function j(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(Yi[t]=r),e&&(Yi[e[0]]=function(){return B(r.apply(this,arguments),e[1],e[2])}),n&&(Yi[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function R(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function W(t){var e,n,i=t.match(ji);for(e=0,n=i.length;e<n;e++)Yi[i[e]]?i[e]=Yi[i[e]]:i[e]=R(i[e]);return function(e){var r,o="";for(r=0;r<n;r++)o+=S(i[r])?i[r].call(e,t):i[r];return o}}function Y(t,e){return t.isValid()?(e=q(e,t.localeData()),Wi[e]=Wi[e]||W(e),Wi[e](t)):t.localeData().invalidDate()}function q(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Ri.lastIndex=0;i>=0&&Ri.test(t);)t=t.replace(Ri,n),Ri.lastIndex=0,i-=1;return t}function V(t,e,n){lr[t]=S(e)?e:function(t){return t&&n?n:e}}function U(t,e){return c(lr,t)?lr[t](e._strict,e._locale):new RegExp(G(t))}function G(t){return X(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,i,r){return e||n||i||r})))}function X(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),s(e)&&(i=function(t,n){n[e]=w(t)}),n=0;n<t.length;n++)cr[t[n]]=i}function K(t,e){Q(t,(function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)}))}function Z(t,e,n){null!=e&&c(cr,t)&&cr[t](e,n._a,n,t)}function J(t){return tt(t)?366:365}function tt(t){return t%4==0&&t%100!=0||t%400==0}function et(){return tt(this.year())}function nt(e,n){return function(i){return null!=i?(rt(this,e,i),t.updateOffset(this,n),this):it(this,e)}}function it(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function rt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&tt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),lt(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function ot(t){return S(this[t=F(t)])?this[t]():this}function st(t,e){if("object"==typeof t)for(var n=z(t=H(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(S(this[t=F(t)]))return this[t](e);return this}function at(t,e){return(t%e+e)%e}function lt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=at(e,12);return t+=(e-n)/12,1===n?tt(t)?29:28:31-n%7%2}function ct(t,e){return t?n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||xr).test(e)?"format":"standalone"][t.month()]:n(this._months)?this._months:this._months.standalone}function ut(t,e){return t?n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[xr.test(e)?"format":"standalone"][t.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function dt(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=d([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(r=br.call(this._shortMonthsParse,s))?r:null:-1!==(r=br.call(this._longMonthsParse,s))?r:null:"MMM"===e?-1!==(r=br.call(this._shortMonthsParse,s))||-1!==(r=br.call(this._longMonthsParse,s))?r:null:-1!==(r=br.call(this._longMonthsParse,s))||-1!==(r=br.call(this._shortMonthsParse,s))?r:null}function ht(t,e,n){var i,r,o;if(this._monthsParseExact)return dt.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=d([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function ft(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=w(e);else if(!s(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),lt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function pt(e){return null!=e?(ft(this,e),t.updateOffset(this,!0),this):it(this,"Month")}function gt(){return lt(this.year(),this.month())}function mt(t){return this._monthsParseExact?(c(this,"_monthsRegex")||yt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=kr),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function vt(t){return this._monthsParseExact?(c(this,"_monthsRegex")||yt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Sr),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function yt(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;e<12;e++)n=d([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)i[e]=X(i[e]),r[e]=X(r[e]);for(e=0;e<24;e++)o[e]=X(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function bt(t,e,n,i,r,o,s){var a=new Date(t,e,n,i,r,o,s);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function wt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function xt(t,e,n){var i=7+e-n;return-((7+wt(t,0,i).getUTCDay()-e)%7)+i-1}function Ct(t,e,n,i,r){var o,s,a=1+7*(e-1)+(7+n-i)%7+xt(t,i,r);return a<=0?s=J(o=t-1)+a:a>J(t)?(o=t+1,s=a-J(t)):(o=t,s=a),{year:o,dayOfYear:s}}function _t(t,e,n){var i,r,o=xt(t.year(),e,n),s=Math.floor((t.dayOfYear()-o-1)/7)+1;return s<1?i=s+kt(r=t.year()-1,e,n):s>kt(t.year(),e,n)?(i=s-kt(t.year(),e,n),r=t.year()+1):(r=t.year(),i=s),{week:i,year:r}}function kt(t,e,n){var i=xt(t,e,n),r=xt(t+1,e,n);return(J(t)-i+r)/7}function St(t){return _t(t,this._week.dow,this._week.doy).week}function Tt(){return this._week.dow}function Dt(){return this._week.doy}function Et(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Mt(t){var e=_t(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function At(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function Ot(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Pt(t,e){return t?n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone}function Lt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function It(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function $t(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=d([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(r=br.call(this._weekdaysParse,s))?r:null:"ddd"===e?-1!==(r=br.call(this._shortWeekdaysParse,s))?r:null:-1!==(r=br.call(this._minWeekdaysParse,s))?r:null:"dddd"===e?-1!==(r=br.call(this._weekdaysParse,s))||-1!==(r=br.call(this._shortWeekdaysParse,s))||-1!==(r=br.call(this._minWeekdaysParse,s))?r:null:"ddd"===e?-1!==(r=br.call(this._shortWeekdaysParse,s))||-1!==(r=br.call(this._weekdaysParse,s))||-1!==(r=br.call(this._minWeekdaysParse,s))?r:null:-1!==(r=br.call(this._minWeekdaysParse,s))||-1!==(r=br.call(this._weekdaysParse,s))||-1!==(r=br.call(this._shortWeekdaysParse,s))?r:null}function Ft(t,e,n){var i,r,o;if(this._weekdaysParseExact)return $t.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=d([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Ht(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=At(t,this.localeData()),this.add(t-e,"d")):e}function Nt(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function zt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Ot(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Bt(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Ar),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function jt(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Or),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Rt(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Pr),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Wt(){function t(t,e){return e.length-t.length}var e,n,i,r,o,s=[],a=[],l=[],c=[];for(e=0;e<7;e++)n=d([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(i),a.push(r),l.push(o),c.push(i),c.push(r),c.push(o);for(s.sort(t),a.sort(t),l.sort(t),c.sort(t),e=0;e<7;e++)a[e]=X(a[e]),l[e]=X(l[e]),c[e]=X(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Yt(){return this.hours()%12||12}function qt(){return this.hours()||24}function Vt(t,e){j(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Ut(t,e){return e._meridiemParse}function Gt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Xt(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Qt(t){return t?t.toLowerCase().replace("_","-"):t}function Kt(t){for(var e,n,i,r,o=0;o<t.length;){for(e=(r=Qt(t[o]).split("-")).length,n=(n=Qt(t[o+1]))?n.split("-"):null;e>0;){if(i=Zt(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&x(r,n,!0)>=e-1)break;e--}o++}return null}function Zt(t){var e=null;if(!Hr[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Lr._abbr,require("./locale/"+t),Jt(e)}catch(t){}return Hr[t]}function Jt(t,e){var n;return t&&(n=o(e)?ne(t):te(t,e))&&(Lr=n),Lr._abbr}function te(t,e){if(null!==e){var n=Fr;if(e.abbr=t,null!=Hr[t])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Hr[t]._config;else if(null!=e.parentLocale){if(null==Hr[e.parentLocale])return Nr[e.parentLocale]||(Nr[e.parentLocale]=[]),Nr[e.parentLocale].push({name:t,config:e}),null;n=Hr[e.parentLocale]._config}return Hr[t]=new E(D(n,e)),Nr[t]&&Nr[t].forEach((function(t){te(t.name,t.config)})),Jt(t),Hr[t]}return delete Hr[t],null}function ee(t,e){if(null!=e){var n,i,r=Fr;null!=(i=Zt(t))&&(r=i._config),(n=new E(e=D(r,e))).parentLocale=Hr[t],Hr[t]=n,Jt(t)}else null!=Hr[t]&&(null!=Hr[t].parentLocale?Hr[t]=Hr[t].parentLocale:null!=Hr[t]&&delete Hr[t]);return Hr[t]}function ne(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Lr;if(!n(t)){if(e=Zt(t))return e;t=[t]}return Kt(t)}function ie(){return Mi(Hr)}function re(t){var e,n=t._a;return n&&-2===f(t).overflow&&(e=n[dr]<0||n[dr]>11?dr:n[hr]<1||n[hr]>lt(n[ur],n[dr])?hr:n[fr]<0||n[fr]>24||24===n[fr]&&(0!==n[pr]||0!==n[gr]||0!==n[mr])?fr:n[pr]<0||n[pr]>59?pr:n[gr]<0||n[gr]>59?gr:n[mr]<0||n[mr]>999?mr:-1,f(t)._overflowDayOfYear&&(e<ur||e>hr)&&(e=hr),f(t)._overflowWeeks&&-1===e&&(e=vr),f(t)._overflowWeekday&&-1===e&&(e=yr),f(t).overflow=e),t}function oe(t,e,n){return null!=t?t:null!=e?e:n}function se(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ae(t){var e,n,i,r,o,s=[];if(!t._d){for(i=se(t),t._w&&null==t._a[hr]&&null==t._a[dr]&&le(t),null!=t._dayOfYear&&(o=oe(t._a[ur],i[ur]),(t._dayOfYear>J(o)||0===t._dayOfYear)&&(f(t)._overflowDayOfYear=!0),n=wt(o,0,t._dayOfYear),t._a[dr]=n.getUTCMonth(),t._a[hr]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[fr]&&0===t._a[pr]&&0===t._a[gr]&&0===t._a[mr]&&(t._nextDay=!0,t._a[fr]=0),t._d=(t._useUTC?wt:bt).apply(null,s),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[fr]=24),t._w&&void 0!==t._w.d&&t._w.d!==r&&(f(t).weekdayMismatch=!0)}}function le(t){var e,n,i,r,o,s,a,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,s=4,n=oe(e.GG,t._a[ur],_t(Se(),1,4).year),i=oe(e.W,1),((r=oe(e.E,1))<1||r>7)&&(l=!0);else{o=t._locale._week.dow,s=t._locale._week.doy;var c=_t(Se(),o,s);n=oe(e.gg,t._a[ur],c.year),i=oe(e.w,c.week),null!=e.d?((r=e.d)<0||r>6)&&(l=!0):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(l=!0)):r=o}i<1||i>kt(n,o,s)?f(t)._overflowWeeks=!0:null!=l?f(t)._overflowWeekday=!0:(a=Ct(n,i,r,o,s),t._a[ur]=a.year,t._dayOfYear=a.dayOfYear)}function ce(t){var e,n,i,r,o,s,a=t._i,l=zr.exec(a)||Br.exec(a);if(l){for(f(t).iso=!0,e=0,n=Rr.length;e<n;e++)if(Rr[e][1].exec(l[1])){r=Rr[e][0],i=!1!==Rr[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=Wr.length;e<n;e++)if(Wr[e][1].exec(l[3])){o=(l[2]||" ")+Wr[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!jr.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=r+(o||"")+(s||""),ve(t)}else t._isValid=!1}function ue(t,e,n,i,r,o){var s=[de(t),_r.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&s.push(parseInt(o,10)),s}function de(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function he(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function fe(t,e,n){if(t&&Er.indexOf(t)!==new Date(e[0],e[1],e[2]).getDay())return f(n).weekdayMismatch=!0,n._isValid=!1,!1;return!0}function pe(t,e,n){if(t)return Vr[t];if(e)return 0;var i=parseInt(n,10),r=i%100;return 60*((i-r)/100)+r}function ge(t){var e=qr.exec(he(t._i));if(e){var n=ue(e[4],e[3],e[2],e[5],e[6],e[7]);if(!fe(e[1],n,t))return;t._a=n,t._tzm=pe(e[8],e[9],e[10]),t._d=wt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),f(t).rfc2822=!0}else t._isValid=!1}function me(e){var n=Yr.exec(e._i);null===n?(ce(e),!1===e._isValid&&(delete e._isValid,ge(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))):e._d=new Date(+n[1])}function ve(e){if(e._f!==t.ISO_8601)if(e._f!==t.RFC_2822){e._a=[],f(e).empty=!0;var n,i,r,o,s,a=""+e._i,l=a.length,c=0;for(r=q(e._f,e._locale).match(ji)||[],n=0;n<r.length;n++)o=r[n],(i=(a.match(U(o,e))||[])[0])&&((s=a.substr(0,a.indexOf(i))).length>0&&f(e).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),c+=i.length),Yi[o]?(i?f(e).empty=!1:f(e).unusedTokens.push(o),Z(o,i,e)):e._strict&&!i&&f(e).unusedTokens.push(o);f(e).charsLeftOver=l-c,a.length>0&&f(e).unusedInput.push(a),e._a[fr]<=12&&!0===f(e).bigHour&&e._a[fr]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[fr]=ye(e._locale,e._a[fr],e._meridiem),ae(e),re(e)}else ge(e);else ce(e)}function ye(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function be(t){var e,n,i,r,o;if(0===t._f.length)return f(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],ve(e),p(e)&&(o+=f(e).charsLeftOver,o+=10*f(e).unusedTokens.length,f(e).score=o,(null==i||o<i)&&(i=o,n=e));u(t,n||e)}function we(t){
if(!t._d){var e=H(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),ae(t)}}function xe(t){var e=new v(re(Ce(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Ce(t){var e=t._i,i=t._f;return t._locale=t._locale||ne(t._l),null===e||void 0===i&&""===e?g({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),y(e)?new v(re(e)):(a(e)?t._d=e:n(i)?be(t):i?ve(t):_e(t),p(t)||(t._d=null),t))}function _e(e){var r=e._i;o(r)?e._d=new Date(t.now()):a(r)?e._d=new Date(r.valueOf()):"string"==typeof r?me(e):n(r)?(e._a=l(r.slice(0),(function(t){return parseInt(t,10)})),ae(e)):i(r)?we(e):s(r)?e._d=new Date(r):t.createFromInputFallback(e)}function ke(t,e,o,s,a){var l={};return!0!==o&&!1!==o||(s=o,o=void 0),(i(t)&&r(t)||n(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=o,l._i=t,l._f=e,l._strict=s,xe(l)}function Se(t,e,n,i){return ke(t,e,n,i,!1)}function Te(t,e){var i,r;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Se();for(i=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](i)||(i=e[r]);return i}function De(){return Te("isBefore",[].slice.call(arguments,0))}function Ee(){return Te("isAfter",[].slice.call(arguments,0))}function Me(t){for(var e in t)if(-1===br.call(Qr,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<Qr.length;++i)if(t[Qr[i]]){if(n)return!1;parseFloat(t[Qr[i]])!==w(t[Qr[i]])&&(n=!0)}return!0}function Ae(){return this._isValid}function Oe(){return Qe(NaN)}function Pe(t){var e=H(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=Me(e),this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=ne(),this._bubble()}function Le(t){return t instanceof Pe}function Ie(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function $e(t,e){j(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+B(~~(t/60),2)+e+B(~~t%60,2)}))}function Fe(t,e){var n=(e||"").match(t);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(Kr)||["-",0,0],r=60*i[1]+w(i[2]);return 0===r?0:"+"===i[0]?r:-r}function He(e,n){var i,r;return n._isUTC?(i=n.clone(),r=(y(e)||a(e)?e.valueOf():Se(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),t.updateOffset(i,!1),i):Se(e).local()}function Ne(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function ze(e,n,i){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Fe(or,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&n&&(r=Ne(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!n||this._changeInProgress?en(this,Qe(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ne(this)}function Be(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function je(t){return this.utcOffset(0,t)}function Re(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ne(this),"m")),this}function We(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Fe(rr,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Ye(t){return!!this.isValid()&&(t=t?Se(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function qe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ve(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),(t=Ce(t))._a){var e=t._isUTC?d(t._a):Se(t._a);this._isDSTShifted=this.isValid()&&x(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ue(){return!!this.isValid()&&!this._isUTC}function Ge(){return!!this.isValid()&&this._isUTC}function Xe(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Qe(t,e){var n,i,r,o=t,a=null;return Le(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:s(t)?(o={},e?o[e]=t:o.milliseconds=t):(a=Zr.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:w(a[hr])*n,h:w(a[fr])*n,m:w(a[pr])*n,s:w(a[gr])*n,ms:w(Ie(1e3*a[mr]))*n}):(a=Jr.exec(t))?(n="-"===a[1]?-1:(a[1],1),o={y:Ke(a[2],n),M:Ke(a[3],n),w:Ke(a[4],n),d:Ke(a[5],n),h:Ke(a[6],n),m:Ke(a[7],n),s:Ke(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=Je(Se(o.from),Se(o.to)),(o={}).ms=r.milliseconds,o.M=r.months),i=new Pe(o),Le(t)&&c(t,"_locale")&&(i._locale=t._locale),i}function Ke(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ze(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Je(t,e){var n;return t.isValid()&&e.isValid()?(e=He(e,t),t.isBefore(e)?n=Ze(t,e):((n=Ze(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function tn(t,e){return function(n,i){var r;return null===i||isNaN(+i)||(k(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),en(this,Qe(n="string"==typeof n?+n:n,i),t),this}}function en(e,n,i,r){var o=n._milliseconds,s=Ie(n._days),a=Ie(n._months);e.isValid()&&(r=null==r||r,a&&ft(e,it(e,"Month")+a*i),s&&rt(e,"Date",it(e,"Date")+s*i),o&&e._d.setTime(e._d.valueOf()+o*i),r&&t.updateOffset(e,s||a))}function nn(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function rn(e,n){var i=e||Se(),r=He(i,this).startOf("day"),o=t.calendarFormat(this,r)||"sameElse",s=n&&(S(n[o])?n[o].call(this,i):n[o]);return this.format(s||this.localeData().calendar(o,this,Se(i)))}function on(){return new v(this)}function sn(t,e){var n=y(t)?t:Se(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=F(o(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function an(t,e){var n=y(t)?t:Se(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=F(o(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function ln(t,e,n,i){return("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function cn(t,e){var n,i=y(t)?t:Se(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=F(e||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function un(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function dn(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function hn(t,e,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=He(t,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),e=F(e)){case"year":o=fn(this,i)/12;break;case"month":o=fn(this,i);break;case"quarter":o=fn(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:b(o)}function fn(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months");return-(n+(e-i<0?(e-i)/(i-t.clone().add(n-1,"months")):(e-i)/(t.clone().add(n+1,"months")-i)))||0}function pn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function gn(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?Y(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):S(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this._d.valueOf()).toISOString().replace("Z",Y(n,"Z")):Y(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function mn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]';return this.format(n+i+r+o)}function vn(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=Y(this,e);return this.localeData().postformat(n)}function yn(t,e){return this.isValid()&&(y(t)&&t.isValid()||Se(t).isValid())?Qe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function bn(t){return this.from(Se(),t)}function wn(t,e){return this.isValid()&&(y(t)&&t.isValid()||Se(t).isValid())?Qe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function xn(t){return this.to(Se(),t)}function Cn(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ne(t))&&(this._locale=e),this)}function _n(){return this._locale}function kn(t){switch(t=F(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Sn(t){return void 0===(t=F(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function Tn(){return this._d.valueOf()-6e4*(this._offset||0)}function Dn(){return Math.floor(this.valueOf()/1e3)}function En(){return new Date(this.valueOf())}function Mn(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function An(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function On(){return this.isValid()?this.toISOString():null}function Pn(){return p(this)}function Ln(){return u({},f(this))}function In(){return f(this).overflow}function $n(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Fn(t,e){j(0,[t,t.length],0,e)}function Hn(t){return jn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Nn(t){return jn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function zn(){return kt(this.year(),1,4)}function Bn(){var t=this.localeData()._week;return kt(this.year(),t.dow,t.doy)}function jn(t,e,n,i,r){var o;return null==t?_t(this,i,r).year:(e>(o=kt(t,i,r))&&(e=o),Rn.call(this,t,e,n,i,r))}function Rn(t,e,n,i,r){var o=Ct(t,e,n,i,r),s=wt(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Wn(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Yn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function qn(t,e){e[mr]=w(1e3*("0."+t))}function Vn(){return this._isUTC?"UTC":""}function Un(){return this._isUTC?"Coordinated Universal Time":""}function Gn(t){return Se(1e3*t)}function Xn(){return Se.apply(null,arguments).parseZone()}function Qn(t){return t}function Kn(t,e,n,i){var r=ne(),o=d().set(i,e);return r[n](o,t)}function Zn(t,e,n){if(s(t)&&(e=t,t=void 0),t=t||"",null!=e)return Kn(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Kn(t,i,n,"month");return r}function Jn(t,e,n,i){"boolean"==typeof t?(s(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,s(e)&&(n=e,e=void 0),e=e||"");var r,o=ne(),a=t?o._week.dow:0;if(null!=n)return Kn(e,(n+a)%7,i,"day");var l=[];for(r=0;r<7;r++)l[r]=Kn(e,(r+a)%7,i,"day");return l}function ti(t,e){return Zn(t,e,"months")}function ei(t,e){return Zn(t,e,"monthsShort")}function ni(t,e,n){return Jn(t,e,n,"weekdays")}function ii(t,e,n){return Jn(t,e,n,"weekdaysShort")}function ri(t,e,n){return Jn(t,e,n,"weekdaysMin")}function oi(){var t=this._data;return this._milliseconds=uo(this._milliseconds),this._days=uo(this._days),this._months=uo(this._months),t.milliseconds=uo(t.milliseconds),t.seconds=uo(t.seconds),t.minutes=uo(t.minutes),t.hours=uo(t.hours),t.months=uo(t.months),t.years=uo(t.years),this}function si(t,e,n,i){var r=Qe(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function ai(t,e){return si(this,t,e,1)}function li(t,e){return si(this,t,e,-1)}function ci(t){return t<0?Math.floor(t):Math.ceil(t)}function ui(){var t,e,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*ci(hi(a)+s),s=0,a=0),l.milliseconds=o%1e3,t=b(o/1e3),l.seconds=t%60,e=b(t/60),l.minutes=e%60,n=b(e/60),l.hours=n%24,s+=b(n/24),a+=r=b(di(s)),s-=ci(hi(r)),i=b(a/12),a%=12,l.days=s,l.months=a,l.years=i,this}function di(t){return 4800*t/146097}function hi(t){return 146097*t/4800}function fi(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=F(t))||"year"===t)return e=this._days+i/864e5,n=this._months+di(e),"month"===t?n:n/12;switch(e=this._days+Math.round(hi(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function pi(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN}function gi(t){return function(){return this.as(t)}}function mi(){return Qe(this)}function vi(t){return t=F(t),this.isValid()?this[t+"s"]():NaN}function yi(t){return function(){return this.isValid()?this._data[t]:NaN}}function bi(){return b(this.days()/7)}function wi(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function xi(t,e,n){var i=Qe(t).abs(),r=Do(i.as("s")),o=Do(i.as("m")),s=Do(i.as("h")),a=Do(i.as("d")),l=Do(i.as("M")),c=Do(i.as("y")),u=r<=Eo.ss&&["s",r]||r<Eo.s&&["ss",r]||o<=1&&["m"]||o<Eo.m&&["mm",o]||s<=1&&["h"]||s<Eo.h&&["hh",s]||a<=1&&["d"]||a<Eo.d&&["dd",a]||l<=1&&["M"]||l<Eo.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=e,u[3]=+t>0,u[4]=n,wi.apply(null,u)}function Ci(t){return void 0===t?Do:"function"==typeof t&&(Do=t,!0)}function _i(t,e){return void 0!==Eo[t]&&(void 0===e?Eo[t]:(Eo[t]=e,"s"===t&&(Eo.ss=e-1),!0))}function ki(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=xi(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Si(t){return(t>0)-(t<0)||+t}function Ti(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Mo(this._milliseconds)/1e3,i=Mo(this._days),r=Mo(this._months);t=b(n/60),e=b(t/60),n%=60,t%=60;var o=b(r/12),s=r%=12,a=i,l=e,c=t,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var h=d<0?"-":"",f=Si(this._months)!==Si(d)?"-":"",p=Si(this._days)!==Si(d)?"-":"",g=Si(this._milliseconds)!==Si(d)?"-":"";return h+"P"+(o?f+o+"Y":"")+(s?f+s+"M":"")+(a?p+a+"D":"")+(l||c||u?"T":"")+(l?g+l+"H":"")+(c?g+c+"M":"")+(u?g+u+"S":"")}var Di,Ei;Ei=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var Mi,Ai=t.momentProperties=[],Oi=!1,Pi={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null,Mi=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)c(t,e)&&n.push(e);return n};var Li={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ii={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},$i="Invalid date",Fi="%d",Hi=/\d{1,2}/,Ni={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},zi={},Bi={},ji=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ri=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wi={},Yi={},qi=/\d/,Vi=/\d\d/,Ui=/\d{3}/,Gi=/\d{4}/,Xi=/[+-]?\d{6}/,Qi=/\d\d?/,Ki=/\d\d\d\d?/,Zi=/\d\d\d\d\d\d?/,Ji=/\d{1,3}/,tr=/\d{1,4}/,er=/[+-]?\d{1,6}/,nr=/\d+/,ir=/[+-]?\d+/,rr=/Z|[+-]\d\d:?\d\d/gi,or=/Z|[+-]\d\d(?::?\d\d)?/gi,sr=/[+-]?\d+(\.\d{1,3})?/,ar=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,lr={},cr={},ur=0,dr=1,hr=2,fr=3,pr=4,gr=5,mr=6,vr=7,yr=8;j("Y",0,0,(function(){var t=this.year();return t<=9999?""+t:"+"+t})),j(0,["YY",2],0,(function(){return this.year()%100})),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),$("year","y"),N("year",1),V("Y",ir),V("YY",Qi,Vi),V("YYYY",tr,Gi),V("YYYYY",er,Xi),V("YYYYYY",er,Xi),Q(["YYYYY","YYYYYY"],ur),Q("YYYY",(function(e,n){n[ur]=2===e.length?t.parseTwoDigitYear(e):w(e)})),Q("YY",(function(e,n){n[ur]=t.parseTwoDigitYear(e)})),Q("Y",(function(t,e){e[ur]=parseInt(t,10)})),t.parseTwoDigitYear=function(t){return w(t)+(w(t)>68?1900:2e3)};var br,wr=nt("FullYear",!0);br=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},j("M",["MM",2],"Mo",(function(){return this.month()+1})),j("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),j("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),$("month","M"),N("month",8),V("M",Qi),V("MM",Qi,Vi),V("MMM",(function(t,e){return e.monthsShortRegex(t)})),V("MMMM",(function(t,e){return e.monthsRegex(t)})),Q(["M","MM"],(function(t,e){e[dr]=w(t)-1})),Q(["MMM","MMMM"],(function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[dr]=r:f(n).invalidMonth=t}));var xr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Cr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),_r="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),kr=ar,Sr=ar;j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),$("week","w"),$("isoWeek","W"),N("week",5),N("isoWeek",5),V("w",Qi),V("ww",Qi,Vi),V("W",Qi),V("WW",Qi,Vi),K(["w","ww","W","WW"],(function(t,e,n,i){e[i.substr(0,1)]=w(t)}));var Tr={dow:0,doy:6};j("d",0,"do","day"),j("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),j("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),j("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),$("day","d"),$("weekday","e"),$("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),V("d",Qi),V("e",Qi),V("E",Qi),V("dd",(function(t,e){return e.weekdaysMinRegex(t)})),V("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),V("dddd",(function(t,e){return e.weekdaysRegex(t)})),K(["dd","ddd","dddd"],(function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:f(n).invalidWeekday=t})),K(["d","e","E"],(function(t,e,n,i){e[i]=w(t)}));var Dr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Er="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ar=ar,Or=ar,Pr=ar;j("H",["HH",2],0,"hour"),j("h",["hh",2],0,Yt),j("k",["kk",2],0,qt),j("hmm",0,0,(function(){return""+Yt.apply(this)+B(this.minutes(),2)})),j("hmmss",0,0,(function(){return""+Yt.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)})),j("Hmm",0,0,(function(){return""+this.hours()+B(this.minutes(),2)})),j("Hmmss",0,0,(function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)})),Vt("a",!0),Vt("A",!1),$("hour","h"),N("hour",13),V("a",Ut),V("A",Ut),V("H",Qi),V("h",Qi),V("k",Qi),V("HH",Qi,Vi),V("hh",Qi,Vi),V("kk",Qi,Vi),V("hmm",Ki),V("hmmss",Zi),V("Hmm",Ki),V("Hmmss",Zi),Q(["H","HH"],fr),Q(["k","kk"],(function(t,e){var n=w(t);e[fr]=24===n?0:n})),Q(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),Q(["h","hh"],(function(t,e,n){e[fr]=w(t),f(n).bigHour=!0})),Q("hmm",(function(t,e,n){var i=t.length-2;e[fr]=w(t.substr(0,i)),e[pr]=w(t.substr(i)),f(n).bigHour=!0})),Q("hmmss",(function(t,e,n){var i=t.length-4,r=t.length-2;e[fr]=w(t.substr(0,i)),e[pr]=w(t.substr(i,2)),e[gr]=w(t.substr(r)),f(n).bigHour=!0})),Q("Hmm",(function(t,e){var n=t.length-2;e[fr]=w(t.substr(0,n)),e[pr]=w(t.substr(n))})),Q("Hmmss",(function(t,e){var n=t.length-4,i=t.length-2;e[fr]=w(t.substr(0,n)),e[pr]=w(t.substr(n,2)),e[gr]=w(t.substr(i))}));var Lr,Ir=/[ap]\.?m?\.?/i,$r=nt("Hours",!0),Fr={calendar:Li,longDateFormat:Ii,invalidDate:$i,ordinal:Fi,dayOfMonthOrdinalParse:Hi,relativeTime:Ni,months:Cr,monthsShort:_r,week:Tr,weekdays:Dr,weekdaysMin:Mr,weekdaysShort:Er,meridiemParse:Ir},Hr={},Nr={},zr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Br=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,jr=/Z|[+-]\d\d(?::?\d\d)?/,Rr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Wr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Yr=/^\/?Date\((\-?\d+)/i,qr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Vr={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};t.createFromInputFallback=_("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),t.ISO_8601=function(){},t.RFC_2822=function(){};var Ur=_("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Se.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()})),Gr=_("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Se.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:g()})),Xr=function(){return Date.now?Date.now():+new Date},Qr=["year","quarter","month","week","day","hour","minute","second","millisecond"];$e("Z",":"),$e("ZZ",""),V("Z",or),V("ZZ",or),Q(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=Fe(or,t)}));var Kr=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Zr=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Jr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Qe.fn=Pe.prototype,Qe.invalid=Oe;var to=tn(1,"add"),eo=tn(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var no=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));j(0,["gg",2],0,(function(){return this.weekYear()%100})),j(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Fn("gggg","weekYear"),Fn("ggggg","weekYear"),Fn("GGGG","isoWeekYear"),Fn("GGGGG","isoWeekYear"),$("weekYear","gg"),$("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),V("G",ir),V("g",ir),V("GG",Qi,Vi),V("gg",Qi,Vi),V("GGGG",tr,Gi),V("gggg",tr,Gi),V("GGGGG",er,Xi),V("ggggg",er,Xi),K(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,i){e[i.substr(0,2)]=w(t)})),K(["gg","GG"],(function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)})),j("Q",0,"Qo","quarter"),$("quarter","Q"),N("quarter",7),V("Q",qi),Q("Q",(function(t,e){e[dr]=3*(w(t)-1)})),j("D",["DD",2],"Do","date"),$("date","D"),N("date",9),V("D",Qi),V("DD",Qi,Vi),V("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),Q(["D","DD"],hr),Q("Do",(function(t,e){e[hr]=w(t.match(Qi)[0])}));var io=nt("Date",!0);j("DDD",["DDDD",3],"DDDo","dayOfYear"),$("dayOfYear","DDD"),N("dayOfYear",4),V("DDD",Ji),V("DDDD",Ui),Q(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=w(t)})),j("m",["mm",2],0,"minute"),$("minute","m"),N("minute",14),V("m",Qi),V("mm",Qi,Vi),Q(["m","mm"],pr);var ro=nt("Minutes",!1);j("s",["ss",2],0,"second"),$("second","s"),N("second",15),V("s",Qi),V("ss",Qi,Vi),Q(["s","ss"],gr);var oo,so=nt("Seconds",!1);for(j("S",0,0,(function(){return~~(this.millisecond()/100)})),j(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),j(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),j(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),j(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),j(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),j(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),$("millisecond","ms"),N("millisecond",16),V("S",Ji,qi),V("SS",Ji,Vi),V("SSS",Ji,Ui),oo="SSSS";oo.length<=9;oo+="S")V(oo,nr);for(oo="S";oo.length<=9;oo+="S")Q(oo,qn);var ao=nt("Milliseconds",!1);j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");var lo=v.prototype;lo.add=to,lo.calendar=rn,lo.clone=on,lo.diff=hn,lo.endOf=Sn,lo.format=vn,lo.from=yn,lo.fromNow=bn,lo.to=wn,lo.toNow=xn,lo.get=ot,lo.invalidAt=In,lo.isAfter=sn,lo.isBefore=an,lo.isBetween=ln,lo.isSame=cn,lo.isSameOrAfter=un,lo.isSameOrBefore=dn,lo.isValid=Pn,lo.lang=no,lo.locale=Cn,lo.localeData=_n,lo.max=Gr,lo.min=Ur,lo.parsingFlags=Ln,lo.set=st,lo.startOf=kn,lo.subtract=eo,lo.toArray=Mn,lo.toObject=An,lo.toDate=En,lo.toISOString=gn,lo.inspect=mn,lo.toJSON=On,lo.toString=pn,lo.unix=Dn,lo.valueOf=Tn,lo.creationData=$n,lo.year=wr,lo.isLeapYear=et,lo.weekYear=Hn,lo.isoWeekYear=Nn,lo.quarter=lo.quarters=Wn,lo.month=pt,lo.daysInMonth=gt,lo.week=lo.weeks=Et,lo.isoWeek=lo.isoWeeks=Mt,lo.weeksInYear=Bn,lo.isoWeeksInYear=zn,lo.date=io,lo.day=lo.days=Ht,lo.weekday=Nt,lo.isoWeekday=zt,lo.dayOfYear=Yn,lo.hour=lo.hours=$r,lo.minute=lo.minutes=ro,lo.second=lo.seconds=so,lo.millisecond=lo.milliseconds=ao,lo.utcOffset=ze,lo.utc=je,lo.local=Re,lo.parseZone=We,lo.hasAlignedHourOffset=Ye,lo.isDST=qe,lo.isLocal=Ue,lo.isUtcOffset=Ge,lo.isUtc=Xe,lo.isUTC=Xe,lo.zoneAbbr=Vn,lo.zoneName=Un,lo.dates=_("dates accessor is deprecated. Use date instead.",io),lo.months=_("months accessor is deprecated. Use month instead",pt),lo.years=_("years accessor is deprecated. Use year instead",wr),lo.zone=_("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Be),lo.isDSTShifted=_("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ve);var co=E.prototype;co.calendar=M,co.longDateFormat=A,co.invalidDate=O,co.ordinal=P,co.preparse=Qn,co.postformat=Qn,co.relativeTime=L,co.pastFuture=I,co.set=T,co.months=ct,co.monthsShort=ut,co.monthsParse=ht,co.monthsRegex=vt,co.monthsShortRegex=mt,co.week=St,co.firstDayOfYear=Dt,co.firstDayOfWeek=Tt,co.weekdays=Pt,co.weekdaysMin=It,co.weekdaysShort=Lt,co.weekdaysParse=Ft,co.weekdaysRegex=Bt,co.weekdaysShortRegex=jt,co.weekdaysMinRegex=Rt,co.isPM=Gt,co.meridiem=Xt,Jt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===w(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),t.lang=_("moment.lang is deprecated. Use moment.locale instead.",Jt),t.langData=_("moment.langData is deprecated. Use moment.localeData instead.",ne);var uo=Math.abs,ho=gi("ms"),fo=gi("s"),po=gi("m"),go=gi("h"),mo=gi("d"),vo=gi("w"),yo=gi("M"),bo=gi("y"),wo=yi("milliseconds"),xo=yi("seconds"),Co=yi("minutes"),_o=yi("hours"),ko=yi("days"),So=yi("months"),To=yi("years"),Do=Math.round,Eo={ss:44,s:45,m:45,h:22,d:26,M:11},Mo=Math.abs,Ao=Pe.prototype;return Ao.isValid=Ae,Ao.abs=oi,Ao.add=ai,Ao.subtract=li,Ao.as=fi,Ao.asMilliseconds=ho,Ao.asSeconds=fo,Ao.asMinutes=po,Ao.asHours=go,Ao.asDays=mo,Ao.asWeeks=vo,Ao.asMonths=yo,Ao.asYears=bo,Ao.valueOf=pi,Ao._bubble=ui,Ao.clone=mi,Ao.get=vi,Ao.milliseconds=wo,Ao.seconds=xo,Ao.minutes=Co,Ao.hours=_o,Ao.days=ko,Ao.weeks=bi,Ao.months=So,Ao.years=To,Ao.humanize=ki,Ao.toISOString=Ti,Ao.toString=Ti,Ao.toJSON=Ti,Ao.locale=Cn,Ao.localeData=_n,Ao.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ti),Ao.lang=no,j("X",0,0,"unix"),j("x",0,0,"valueOf"),V("x",ir),V("X",sr),Q("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))})),Q("x",(function(t,e,n){n._d=new Date(w(t))})),t.version="2.20.1",e(Se),t.fn=lo,t.min=De,t.max=Ee,t.now=Xr,t.utc=d,t.unix=Gn,t.months=ti,t.isDate=a,t.locale=Jt,t.invalid=g,t.duration=Qe,t.isMoment=y,t.weekdays=ni,t.parseZone=Xn,t.localeData=ne,t.isDuration=Le,t.monthsShort=ei,t.weekdaysMin=ri,t.defineLocale=te,t.updateLocale=ee,t.locales=ie,t.weekdaysShort=ii,t.normalizeUnits=F,t.relativeTimeRounding=Ci,t.relativeTimeThreshold=_i,t.calendarFormat=nn,t.prototype=lo,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},t})),function(){var t=[].slice;void 0===window.Mobvious&&(window.Mobvious={}),Mobvious.for_device_type=function(){var e,n,i,r,o,s;for(n=(e=1<=arguments.length?t.call(arguments,0):[])[e.length-1],i=0,r=(s=e.slice(0,+(e.length-2)+1||9e9)).length;i<r;i++)if(o=s[i],Mobvious.device_type===o)return n();return null}}.call(this),function(t){function e(e){return t(e).filter((function(){return t(this).is(":appeared")}))}function n(){s=!1;for(var t=0,n=r.length;t<n;t++){var i=e(r[t]);if(i.trigger("appear",[i]),c[t]){var o=c[t].not(i);o.trigger("disappear",[o])}c[t]=i}}function i(t){r.push(t),c.push()}var r=[],o=!1,s=!1,a={interval:250,force_process:!1},l=t(window),c=[];t.expr.pseudos.appeared=t.expr.createPseudo((function(){return function(e){var n=t(e);if(!n.is(":visible"))return!1;var i=l.scrollLeft(),r=l.scrollTop(),o=n.offset(),s=o.left,a=o.top;return a+n.height()>=r&&a-(n.data("appear-top-offset")||0)<=r+l.height()&&s+n.width()>=i&&s-(n.data("appear-left-offset")||0)<=i+l.width()}})),t.fn.extend({appear:function(e,n){return t.appear(this,n),this}}),t.extend({appear:function(e,r){var l=t.extend({},a,r||{});if(!o){var c=function(){s||(s=!0,setTimeout(n,l.interval))};t(window).scroll(c).resize(c),o=!0}l.force_process&&setTimeout(n,l.interval),i(e)},force_appear:function(){return!!o&&(n(),!0)}})}("undefined"!=typeof module?require("jquery"):jQuery),function(t){"use strict";function e(e){let n=e.valueInput;if("object"==typeof n){if("function"==typeof n.val)return n;throw new Error("option 'valueInput' is an object, but does not have a 'val' method, i.e. it's obviously not a jQuery result object.")}return"string"==typeof n?t(n):null}var n={};t.fn.setupProgressPie=function(n,i){t(this).each((function(){var e=t(this).data(t.fn.setupProgressPie.dataKey);if(i||"object"!=typeof e){var r=t.extend({},t.fn.progressPie.defaults,{update:!0},n);t(this).data(t.fn.setupProgressPie.dataKey,r)}else t.extend(e,n)}));const r=t.extend({},t.fn.progressPie.defaults,n),o=e(r);if(null!==o){if("string"!=typeof r.valueInputEvents)throw new Error("'valueInputEvents' has to be a string (space-separated list of event names)!");o.on(r.valueInputEvents,(()=>{t(this).progressPie()}))}return this},t.fn.setupProgressPie.dataKey="$.fn.setupProgressPie",t.fn.progressPie=function(i){function r(t,e){if("number"==typeof t)return t;if(Array.isArray(t)&&t.length>0){if(1===t.length)return t[0];for(var n=e;n>=t.length;)n-=2;return t[n]}return 0}function o(t){return void 0===n[t]&&(n[t]=0),t+ ++n[t]}function s(t){return.02*Math.PI*t}function a(t,e){var n=(0,eval)(t);if("function"==typeof n)return n(e);throw new Error("The value of the colorFunctionAttr attribute is NOT a function: "+t)}function l(t){var e=(0,eval)(A+"."+t)
;if("function"==typeof e||"object"==typeof e&&"function"==typeof e.draw)return e;throw new Error(t+" is not the name of a function or object in namespace "+A+"!")}function c(t){var e;if("function"==typeof t||"object"==typeof t&&"function"==typeof t.draw)e=t;else{if("string"!=typeof t)throw new Error("contentPlugin option must either be a function or an object with method named 'draw' or the name of such a function or object in the namespace "+A+"!");e=l(t)}return e}function u(e){return Array.isArray(e)?t.map(e,c):[c(e)]}function d(t,e){return null===t?null:Array.isArray(t)?t[e]:0===e&&"object"==typeof t?t:null}function h(t,e){return.02*Math.PI*t*e}function f(t,e,n,i,r,o){var s=document.createElementNS(M,"animate");for(var a in s.setAttribute("attributeName",e),s.setAttribute("attributeType",n),s.setAttribute("from",i),s.setAttribute("to",r),s.setAttribute("fill","freeze"),o)s.setAttribute(a,o[a]);t.appendChild(s)}function p(t,e,n){var i,r;if("number"==typeof e)i=e;else{if("object"!=typeof e)throw new Error("illegal option: 'strokeDashes' is neither number (count) nor object!");i=e.count,r=e.length}if(void 0===i)throw new Error("illegal option: 'strokeDashes' does not specify the 'count' property!");if(void 0===r)r=n/i/2;else if("string"==typeof r){var o="%"===(r=r.trim()).substring(r.length-1);r=Number.parseInt(r,10),o&&(r=n*r/100)}if(r*i>=n)throw new Error("Illegal options: strokeDashCount * strokeDashLength >= circumference, can't set stroke-dasharray!");var s=(n-r*i)/i,a="object"==typeof e&&e.centered?1*r/2:0;"object"==typeof e&&e.inverted?(t.style.strokeDasharray=s+"px, "+r+"px",t.style.strokeDashoffset=s+a+"px"):(t.style.strokeDasharray=r+"px, "+s+"px",0!==a&&(t.style.strokeDashoffset=a+"px"))}function g(e,n){if("string"==typeof n){const i=document.createElementNS(M,"title");t(i).text(n),e.appendChild(i)}}function m(e,n,i,r,o,a,l,c,u,d,m,v,y,b,w,x,C,_,k,S){"number"==typeof r&&(r=Math.min(r,i)),"number"==typeof u&&(u=Math.min(u,i));var T,D,E=-1;if("number"==typeof r&&"number"==typeof u&&r>0&&u>0&&r!==u&&c&&(m===O.RingAlign.CENTER||m===O.RingAlign.INNER)){var A=Math.max(u,r),P=Math.min(u,r);E=m===O.RingAlign.CENTER?i-A/2:i-A+P/2}var L=!1;if("number"==typeof r){(D=document.createElementNS(M,"circle")).setAttribute("cx",0),D.setAttribute("cy",0),E>0&&r<u?T=E:(T=i-r/2,c||m!==O.RingAlign.INNER||(T-=u)),D.setAttribute("r",T),D.setAttribute("transform","rotate(-90)"),a&&p(D,a,2*Math.PI*T);let t=(L="string"==typeof o)?o:x;"string"==typeof t&&(D.style.stroke=t),"string"==typeof l&&(D.style.fill=l),D.style.strokeWidth=r,D.setAttribute("class",v),g(D,_),e.appendChild(D)}const I=u||(c||"number"!=typeof r?i:i-r);if(E>0&&u<r?T=E:(T=i-I/2,c||"number"!=typeof r||m!==O.RingAlign.OUTER||(T-=r)),100!==b||k||"string"!=typeof x){if(b>0&&b<100||(k||void 0===x)&&(0===b||100===b)){const i=document.createElementNS(M,"path");let r=b;if(k){var $,F,H=b-w,N=h(T,H);H<0?(r=w,$="0px",F=-N+"px"):($=N+"px",F="0px");var z=h(T,r);i.setAttribute("stroke-dasharray",z+"px "+z+"px"),i.setAttribute("stroke-dashoffset",$),f(i,"stroke-dashoffset","CSS",$,F,k),d&&0===b&&f(i,"stroke-linecap","CSS","round","butt",k),C&&C!==x&&(f(i,"stroke","CSS",C,x,k),!L&&D&&(D.style.stroke=C,f(D,"stroke","CSS",C,x,k)))}const o=s(r);let a="M0,"+-T;if(a+=" A"+T+","+T+" 0 "+(r>50?"1":"0")+","+"1"+" "+(100===r?-1e-5:Math.sin(o)*T)+","+Math.cos(o-Math.PI)*T,i.setAttribute("d",a),i.style.fill="none","string"==typeof x&&(i.style.stroke=x),i.style.strokeWidth=I,i.style.strokeLinecap=d&&b>0?"round":"butt",S){const e="progresspie-rotation-style",r="progresspie-rotate",o="@keyframes "+r+" {100% {transform: rotate(360deg);}}";if(!t("#"+e).length){var B=t("head");if(B.length){const n=document.createElement("style");n.id=e,t(n).text(o),B.get(0).appendChild(n)}else{const i=document.createElementNS(M,"style");i.id=e,t(i).text(o),n.appendChild(i)}}const s=!1===S.clockwise,a="string"==typeof S?S:"string"==typeof S.duration?S.duration:"1s",l="string"==typeof S.timing?S.timing:"linear";i.style.animation=r+" "+a+" "+l+(s?" reverse":"")+" infinite"}i.setAttribute("class",y),g(i,_),e.appendChild(i)}}else{const t=document.createElementNS(M,"circle");t.setAttribute("cx",0),t.setAttribute("cy",0),t.setAttribute("r",T),t.style.stroke=x,t.style.strokeWidth=I,t.style.fill="none",t.setAttribute("class",y),g(t,_),e.appendChild(t)}}function v(n,i){var r;const o=e(i);if(null!==o){if(r=o.val(),void 0!==i.valueData||void 0!==i.valueAttr||void 0!==i.valueSelector)throw new Error("options 'valueInput', 'valueData', 'valueAttr' and 'valueSelector' are mutually exclusive, i.e. at least three must be undefined!")}else if("string"==typeof i.valueData){if(r=n.data(i.valueData),void 0!==i.valueAttr||void 0!==i.valueSelector)throw new Error("options 'valueData', 'valueAttr' and 'valueSelector' are mutually exclusive, i.e. at least two must be undefined!")}else{if(void 0!==i.valueData)throw new Error("option 'valueData' is not of type 'string'!");if("string"==typeof i.valueAttr){if(r=n.attr(i.valueAttr),void 0!==i.valueSelector)throw new Error("options 'valueAttr' and 'valueSelector' are mutually exclusive, i.e. at least one must be undefined!")}else{if(void 0!==i.valueAttr)throw new Error("option 'valueAttr' is not of type 'string'!");void 0!==i.valueSelector&&(r=t(i.valueSelector,n).text())}}return void 0===r&&(r=n.text()),r}function y(t,e){return Math.max(0,Math.min(100,e.valueAdapter(t)))}function b(t,e){var n=e.mode,i=e.color;if(n===O.Mode.CSS)i=void 0;else{var r=typeof i;if("undefined"!==r&&"string"!==r&&"function"!==r)throw new Error("option 'color' has to be either a function or a string, but is of type '"+r+"'!");"function"===r?n=P.USER_COLOR_FUNC:("undefined"===r&&"string"==typeof e.colorAttr&&(i=t.attr(e.colorAttr)),"string"==typeof i?n=P.USER_COLOR_CONST:"string"==typeof e.colorFunctionAttr&&"string"==typeof(i=t.attr(e.colorFunctionAttr))&&(n=P.DATA_ATTR_FUNC))}return{mode:n,color:i}}function w(t,e,n){return t===P.CSS?void 0:t===P.MASK?P.MASK.color:t===P.IMASK?P.IMASK.color:t===P.GREY?P.GREY.color:t===P.GREEN?O.colorByPercent(100):t===P.RED?O.colorByPercent(0):t===P.COLOR||void 0===e?O.colorByPercent(n):t===P.USER_COLOR_CONST?e:t===P.USER_COLOR_FUNC?e(n):t===P.DATA_ATTR_FUNC?a(e,n):"black"}function x(t,e,n){return t===P.CSS?void 0:"string"==typeof e.backgroundColor?e.backgroundColor:"function"==typeof e.backgroundColor?e.backgroundColor(n):t===P.IMASK?P.MASK.color:"none"}function C(t,e){return void 0===t.ringWidth||e&&e.fullSize}function _(t,e,n,i,o,s){var a=document.createElementNS(M,"rect");t.appendChild(a);var l=e+r(n,3),c=e+r(n,0),u=l+e+r(n,1),d=c+e+r(n,2);"number"==typeof s&&"none"!==i&&(a.setAttribute("stroke-width",s),u-=s,d-=s,l-=s/2,c-=s/2),a.setAttribute("x","-"+l),a.setAttribute("y","-"+c),a.setAttribute("width",u),a.setAttribute("height",d),a.setAttribute("stroke",i),a.setAttribute("fill",o)}function k(t,e){var n=document.createElementNS(M,"svg"),i=t+e.getPadding(3)+e.getMargin(3),r=t+e.getPadding(0)+e.getMargin(0),o=i+t+e.getPadding(1)+e.getMargin(1),s=r+t+e.getPadding(2)+e.getMargin(2),a=o,l=s;return"number"==typeof e.scale&&(a*=e.scale,l*=e.scale),n.setAttribute("width",Math.ceil(a)),n.setAttribute("height",Math.ceil(l)),n.setAttribute("viewBox","-"+i+" -"+r+" "+o+" "+s),n}function S(e,n,i){var r={};if(r.raw=v(e,n),"function"==typeof n.optionsByRawValue){var o=n.optionsByRawValue(r.raw);null!=o&&(t.extend(n,o),r.raw=v(e,n))}r.p=y(r.raw,n);var s=0===i?O.prevValueDataName:O.prevInnerValueDataName;if(i>1&&(s+=i),r.prevP=e.data(s),r.isInitialValue=void 0===r.prevP,e.data(s,r.p),"number"!=typeof r.prevP&&(r.prevP=0),"function"==typeof n.optionsByPercent){var a=n.optionsByPercent(r.p);null!=a&&(t.extend(n,a),r.raw=v(e,n),r.p=y(r.raw,n))}return r}const T={getMargin:function(t){return r(this.margin,t)},getPadding:function(t){return r(this.padding,t)}};var D=t.extend({},t.fn.progressPie.defaults,i,T),E=void 0===i,M="http://www.w3.org/2000/svg",A="jQuery.fn.progressPie.contentPlugin",O=t.fn.progressPie,P=t.extend({USER_COLOR_CONST:{},USER_COLOR_FUNC:{},DATA_ATTR_FUNC:{}},O.Mode);return t(this).each((function(){const e=t(this);let n=t.extend({},D);if(E){var i=t(this).data(t.fn.setupProgressPie.dataKey);"object"==typeof i&&(n=t.extend({},i,T))}var r=t("svg",e);if(!r.length||n.update){r.length&&n.update&&(r.remove(),n.separator="");var s=S(e,n,0),a=Math.ceil("number"==typeof n.size?n.size:e.height());0===a&&(a=20);var l,h=(a*=n.sizeFactor)/2,f=h,p=b(e,n),v=w(p.mode,p.color,s.p),y=x(p.mode,n,s.p);(!0===n.animateColor||void 0===n.animateColor&&!s.isInitialValue)&&(l=w(p.mode,p.color,s.prevP));var A=O.smilSupported()?!0===n.animate?O.defaultAnimationAttributes:"object"==typeof n.animate?t.extend({},O.defaultAnimationAttributes,n.animate):null:null,P=null,L=!1,I={isFullSize:function(){return C(n,this)},isCssMode:function(){return"string"!=typeof this.color},color:v,percentValue:s.p,rawValue:s.raw,pieOpts:n};if(n.contentPlugin){P=u(n.contentPlugin);for(var $=0;$<P.length;$++){var F=P[$],H=d(n.contentPluginOptions,$),N=I;null!==H&&"object"==typeof H&&(N=t.extend({},I,H)),"object"==typeof F&&"function"==typeof F.hidesChartIfFullSize&&(L=L||n.mode!==O.Mode.MASK&&n.mode!==O.Mode.IMASK&&C(n,H)&&F.hidesChartIfFullSize(N))}}var z=k(h,n),B=document.createElementNS(M,"defs");p.mode!==O.Mode.CSS&&(z.style.verticalAlign=n.verticalAlign),e.is(":empty")?e.append(z):n.prepend?e.prepend(z,n.separator):e.append(n.separator,z),g(z,n.globalTitle);var j=null,R=z;if(!L){n.mode!==O.Mode.MASK&&n.mode!==O.Mode.IMASK||(R=document.createElementNS(M,"mask"),B.appendChild(R),j=o("pie"),R.setAttribute("id",j),n.mode===O.Mode.IMASK&&_(R,h,n.padding,"none",y));var W=n.cssClassForegroundPie,Y=n.cssClassBackgroundCircle;"object"==typeof n.inner&&(W+=" "+n.cssClassOuter,Y+=" "+n.cssClassOuter),m(R,B,h,n.strokeWidth,n.strokeColor,n.strokeDashes,y,n.overlap,n.ringWidth,n.ringEndsRounded,n.ringAlign,Y,W,s.p,s.prevP,v,l,n.title,A,n.rotation)}for(var q="number"==typeof n.ringWidth?n.ringWidth:"number"==typeof n.strokeWidth?n.strokeWidth:0,V=n.inner,U=0;"object"==typeof V;){U++,void 0===(V=t.extend({},V)).valueAdapter&&(V.valueAdapter=O.defaults.valueAdapter),void 0===V.overlap&&(V.overlap=O.defaults.overlap),void 0===V.ringAlign&&(V.ringAlign=n.ringAlign);var G=S(e,V,U),X=n.cssClassInner;U>1&&(X+=U),p=b(e,V),h="number"==typeof V.size?V.size*n.sizeFactor/2:.6*h;var Q=w(p.mode,p.color,G.p),K=null;(!0===V.animateColor||void 0===V.animateColor&&(!0===n.animateColor||void 0===n.animateColor&&G.isInitialValue))&&(K=w(p.mode,p.color,G.prevP)),!1!==V.animate&&O.smilSupported()?!0===V.animate&&null===A?A=O.defaultAnimationAttributes:"object"==typeof V.animate&&(A=null===A?t.extend({},O.defaultAnimationAttributes,V.animate):t.extend({},A,V.animate)):A=null,L||m(R,B,h,V.strokeWidth,V.strokeColor,V.strokeDashes,y,V.overlap,V.ringWidth,V.ringEndsRounded,V.ringAlign,n.cssClassBackgroundCircle+" "+X,n.cssClassForegroundPie+" "+X,G.p,G.prevP,Q,K,V.title,A,V.rotation),q="number"==typeof V.ringWidth?V.ringWidth:0,V=V.inner}if(null!==P){var Z=h;q<h&&(Z-=q);for(var J=t.extend({newSvgElement:function(t){var e=document.createElementNS(M,t);return it.appendChild(e),e},newSvgSubelement:function(t,e){var n=document.createElementNS(M,e);return t.appendChild(n),n},newDefElement:function(t){var e=document.createElementNS(M,t);return B.appendChild(e),e},createId:o,getBackgroundRadius:function(t){var e=this.isFullSize()?this.totalRadius:this.radius;t||(e-="number"==typeof this.margin?this.margin:this.isFullSize()?this.pieOpts.defaultContentPluginBackgroundMarginFullSize:this.pieOpts.defaultContentPluginBackgroundMarginInsideRing);return e},addBackground:function(t,e){const n="string"==typeof e;if(this.backgroundColor||n){var i=this.newSvgElement("circle");i.setAttribute("cx","0"),i.setAttribute("cy","0"),i.setAttribute("r",t),this.backgroundColor&&i.setAttribute("fill",this.backgroundColor),n&&i.setAttribute("class",e)}},addBackgroundRect:function(t,e,i){_(it,f,n.padding,t,e,i)},getContentPlugin:c,radius:Z,totalRadius:f,color:v,percentValue:s.p,rawValue:s.raw},I),tt=!0,et=0;et<P.length;et++){var nt=P[et],it=document.createElementNS(M,"g"),rt="function"==typeof nt?nt:nt.draw,ot=J,st=d(n.contentPluginOptions,et);null!==st&&"object"==typeof st&&(ot=t.extend({},J,st)),rt(ot),"boolean"==typeof nt.inBackground&&nt.inBackground||"function"==typeof nt.inBackground&&nt.inBackground(ot)?(t(z).prepend(it),null!==j&&tt&&(it.setAttribute("mask","url(#"+j+")"),tt=!1)):t(z).append(it)}if(null!==j&&tt)throw new Error("MASK mode could not be applied since no content plug-in drew a background to be masked! You need do specify at least one content plug-in which draws into the background!")}B.hasChildNodes()&&t(z).prepend(B)}})),this},t.fn.progressPie.Mode={GREY:{color:"#888"},RED:{value:200},GREEN:{value:200},COLOR:{},CSS:{},MASK:{color:"white"},IMASK:{color:"black"}},t.fn.progressPie.colorByPercent=function(e,n){var i=t.fn.progressPie.Mode.GREEN.value,r=t.fn.progressPie.Mode.RED.value,o=e>50?i:Math.floor(i*e/50),s=(e<50?r:Math.floor(r*(100-e)/50))+","+o+",0";return"number"==typeof n?"rgba("+s+","+n+")":"rgb("+s+")"},t.fn.progressPie.smilSupported=function(){return void 0===t.fn.progressPie.smilSupported.cache&&(t.fn.progressPie.smilSupported.cache=/SVGAnimate/.test(document.createElementNS("http://www.w3.org/2000/svg","animate").toString())),t.fn.progressPie.smilSupported.cache},t.fn.progressPie.RingAlign={OUTER:{},CENTER:{},INNER:{}},t.fn.progressPie.defaults={mode:t.fn.progressPie.Mode.GREY,margin:0,padding:0,strokeWidth:2,overlap:!0,ringAlign:t.fn.progressPie.RingAlign.OUTER,prepend:!0,separator:"&nbsp;",verticalAlign:"bottom",update:!1,valueAdapter:function(t){return"string"==typeof t?parseFloat(t):"number"==typeof t?t:0},valueInputEvents:"change",ringEndsRounded:!1,sizeFactor:1,scale:1,defaultContentPluginBackgroundMarginFullSize:0,defaultContentPluginBackgroundMarginInsideRing:1,cssClassBackgroundCircle:"progresspie-background",cssClassForegroundPie:"progresspie-foreground",cssClassOuter:"progresspie-outer",cssClassInner:"progresspie-inner"},t.fn.progressPie.defaultAnimationAttributes={dur:"1s",calcMode:"spline",keySplines:"0.23 1 0.32 1",keyTimes:"0;1"},t.fn.progressPie.contentPlugin={},t.fn.progressPie.prevValueDataName="_progresspieSVG_prevValue",t.fn.progressPie.prevInnerValueDataName="_progresspieSVG_prevInnerValue"}(jQuery),function(t){var e=function(e,n,i){var r=t.extend({},t.fn.progressPie.contentPlugin.valueDisplayDefaults,i),o=i.newSvgElement("text");o.setAttribute("x",0),o.setAttribute("y",0),o.setAttribute("dy","0.33em"),o.textContent=e;var s="number"==typeof i.fontSizeFactor?i.fontSizeFactor:r.singleLine?r.fontSizeFactorSingleLine:r.fontSizeFactorTwoLines;if(o.style.textAnchor="middle",o.style.fontSize=r.radius*s+"px","string"==typeof i.color&&o.setAttribute("fill",r.color),o.setAttribute("class",r.cssClass),"string"==typeof n){var a=i.newSvgSubelement(o,"tspan");a.textContent=n,r.singleLine||(a.setAttribute("dy","1.1em"),a.setAttribute("x",0));var l="number"==typeof r.unitFontSizeFactor?r.unitFontSizeFactor:.35;a.style.fontSize=r.radius*l+"px",a.setAttribute("class",r.cssClassUnit)}};t.fn.progressPie.contentPlugin.percent=function(t){e(Math.round(t.percentValue),"%",t)},t.fn.progressPie.contentPlugin.rawValue=function(t){e(t.rawValue,t.unit,t)},t.fn.progressPie.contentPlugin.valueDisplayDefaults={singleLine:!1,fontSizeFactorTwoLines:1,fontSizeFactorSingleLine:.9,unitFontSizeFactor:.35,cssClass:"progresspie-valuedisplay",cssClassUnit:"progresspie-unit"}}(jQuery),function(t){function e(t,e){var n=e,i=t.iconSizeFactor;return"number"!=typeof i&&(i=void 0===t.pieOpts.ringWidth||t.backgroundColor||t.cssClassBackgroundCircle?t.iconSizeFactorPie:t.iconSizeFactorRing),n*=i,"none"!==t.lineCap&&(n-=t.strokeWidth/2),n}t.fn.progressPie.contentPlugin.checkComplete={draw:function(n){if(100===n.percentValue){var i=t.extend({},t.fn.progressPie.contentPlugin.checkCompleteDefaults,n),r=i.getBackgroundRadius(!i.backgroundColor);i.addBackground(r,i.cssClassBackgroundCircle);var o=e(i,r)/Math.sqrt(2),s="M -"+o+",0 ",a="L -"+o/22+","+o+" ",l="L "+o+", -"+o,c=n.newSvgElement("path");c.setAttribute("d",s+a+l);const h=void 0===n.pieOpts.ringWidth;if(c.style.fill="none",i.isCssMode())c.setAttribute("stroke-width",i.strokeWidth),c.setAttribute("stroke-linecap",i.lineCap),h&&c.setAttribute("stroke","white");else{var u=h?"white":i.color;c.style.stroke=u,c.style.strokeWidth=i.strokeWidth,c.style.strokeLinecap=i.lineCap}if(c.setAttribute("class",i.cssClass),i.animate){var d=n.newSvgSubelement(c,"animate");d.setAttribute("attributeName","d"),d.setAttribute("dur","string"==typeof i.animate?i.animate:"1s"),d.setAttribute("repeatCount","1"),d.setAttribute("values",s+"l0,0 l0,0; "+s+a+"l0,0; "+s+a+l),d.setAttribute("calcMode","spline"),d.setAttribute("keyTimes","0; .25; 1"),d.setAttribute("keySplines",".5 0 .3 1; .3 0 0 1")}}else if(void 0!==n.contentPlugin){n.getContentPlugin(n.contentPlugin)("object"==typeof n.contentPluginOptions?t.extend({},n,n.contentPluginOptions):n)}},hidesChartIfFullSize:function(e){var n=t.extend({},t.fn.progressPie.contentPlugin.checkCompleteDefaults,e);return 100===e.percentValue&&"string"==typeof n.backgroundColor&&"rgba"!==n.backgroundColor.substr(0,4)&&!n.margin&&!this.inBackground(e)},inBackground:function(e){return t.extend({},t.fn.progressPie.contentPlugin.checkCompleteDefaults,e).inBackground}},t.fn.progressPie.contentPlugin.checkCompleteDefaults={strokeWidth:2,lineCap:"round",iconSizeFactorPie:.6,iconSizeFactorRing:.8,fullSize:!1,inBackground:!1,cssClass:"progresspie-check",cssClassBackgroundCircle:void 0}}(jQuery),function(){this.post_journal_template=function(t){var e;return e=$(t).serializeArray(),swal({title:"Are you sure?",text:"A journal entry template will be created modeling this transaction.  The journal entry will not be saved.",type:"warning",showCancelButton:!0,cancelButtonColor:"#d33",confirmButtonText:"Proceed",showLoaderOnConfirm:!0,allowOutsideClick:function(){return!swal.isLoading()},preConfirm:function(t){return!!t&&$.ajax({url:"/accounting/journal_templates/",data:{entry:e},method:"post",dataType:"script",success:function(){swal({title:"The template has been created.",text:"The template has been created and will be available on the accounting menu.",type:"success"})},error:function(){swal("An error occurred!","Check Internet connection.","error")}})}}).then((function(t){t.dismiss===swal.DismissReason.cancel?swal("Cancelled","The operation has been cancelled.","error"):swal("Finished","The operation has completed.","success")}))}}.call(this),function(){this.accounts_select2=function(t,e,n,i){null==e&&(e="paper"),null==n&&(n="search by name..."),null==i&&(i=!1),$(t).length>0&&($(t).select2({placeholder:n,theme:e,allowClear:!1,ajax:{url:"/accounting/accounts",dataType:"json",delay:250,data:function(t){var e;return(e={q:{name_cont:t.term},page:t.page}).id_attribute="id",e.text_attribute="text",e},processResults:function(t,e){return e.page=e.page||1,{results:t,pagination:{more:10*e.page<t.total_count}}},cache:!0},escapeMarkup:function(t){return t},minimumInputLength:1}),i&&$(t).on("select2:select",(function(t){var e;return e=$(t.currentTarget).val(),i=i+"/"+e,window.location.href=i})))}}.call(this),function(){this.AddToSelect=function(t,e){return swal({title:t,html:"Enter the new value...",input:"text",inputAttributes:{name:"input_value"},showCancelButton:!0,confirmButtonText:"Save",showLoaderOnConfirm:!0,inputValidator:function(t){return new Promise((function(e){return""===t?e("A value is required."):e()}))},allowOutsideClick:!1}).then((function(t){$(e).append($("<option></option>",{value:t.value,text:t.value})),$(e).val(t.value)})).catch(swal.noop)},this.AddToSumo=function(t,e){return swal({title:t,html:"Enter the new value...",input:"text",inputAttributes:{name:"input_value"},showCancelButton:!0,confirmButtonText:"Save",showLoaderOnConfirm:!0,inputValidator:function(t){return new Promise((function(e){return""===t?e("A value is required."):e()}))},allowOutsideClick:!1}).then((function(t){var n;(n=$(e)[0].sumo).add(t.value,t.value,0),n.selectItem(0)})).catch(swal.noop)}}.call(this),function(){this.AjaxGlobalSetup=function(){return $.ajaxSetup({error:function(t,e,n){if(403===t.status)return swal("Permission denied.",n,"error")}})}}.call(this),function(){this.perform_async_action=function(t,e){var n,i,r,o;return null==e&&(e={}),r=$(t).data("method")||"PATCH",n=$(t).data("datatype")||"json",o=$(t).data("success-url"),i={method:r,dataType:n,title:"Are you sure?",text:$(t).data("prompt"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Proceed",showLoaderOnConfirm:!0,inputValidator:function(t){return!t&&"You need to confirm this action."},allowOutsideClick:function(){return!swal.isLoading()},preConfirm:function(n){return new Promise((function(i,r){return n?$.ajax({url:$(t).attr("href"),dataType:e.dataType,method:e.method,success:function(t){return i(t)},error:function(t,e,n){return r(n)}}):r("The operation has been cancelled.")}))}},$(t).data("double-confirm")&&(i.inputPlaceholder=$(t).data("double-confirm"),i.input="checkbox"),e=$.extend({},i,e),swal(e).then((function(t){var n;t.dismiss!==swal.DismissReason.cancel&&t.dismiss!==swal.DismissReason.esc&&t.dismiss!==swal.DismissReason.close&&t.dismiss!==swal.DismissReason.backdrop?(e.callback&&e.callback(),o&&$.ajax({method:"GET",url:o}),n="The operation has been completed.",t.value.message&&(n=n+" "+t.value.message),swal("Finished",n,"success")):swal("Cancelled","The operation has been cancelled.","error")})).catch((function(t){return swal("Error: ",t,"error")}))},this.async_action=function(t){return null==t&&(t={}),$("[data-behavior='async-action']").on("click",(function(e){return e.preventDefault(),perform_async_action(this,t),!1}))}}.call(this),function(){this.perform_async_delete=function(elem,options){var confirm,dataType,guard,href,inputLabel,inputPlaceholder,inputType,method,redirect_to,title;return null==options&&(options={}),confirm=$(elem).data("prompt"),title=$(elem).data("title")||"Are you sure?",dataType=$(elem).data("datatype")||"script",method=$(elem).data("method")||"DELETE",guard=$(elem).data("guard"),redirect_to=$(elem).data("redirect-to"),inputType="checkbox",inputPlaceholder="I confirm the deletion of this item.",inputLabel="",href=$(elem).attr("data-url")||$(elem).attr("href"),guard&&(inputType="text",confirm=confirm+"<div style='margin-top: 1em;'>Confirm the deletion of this item by typing: <strong>"+guard+"</strong></div>",inputLabel="I confirm the deletion of this item.",inputPlaceholder=guard),swal({title:title,html:confirm,type:"warning",input:inputType,inputLabel:inputLabel,inputPlaceholder:inputPlaceholder,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Proceed with Deletion",inputValidator:function(t){return!t&&"You need to confirm this action."},showLoaderOnConfirm:!0,allowOutsideClick:function(){return!swal.isLoading()},preConfirm:function(t){return guard&&t===guard.toString()||1===t?$.ajax({url:href,dataType:dataType,method:method,success:function(t){return t},error:function(t,e){return swal("An error occurred "+e,"error"),!1}}):(swal("Cancelled","The operation has been cancelled.","error"),!1)}}).catch((function(t){return swal("An error occurred ",t.statusText,"error")})).then((function(result){result.dismiss!==swal.DismissReason.cancel&&result.dismiss!==swal.DismissReason.esc&&result.dismiss!==swal.DismissReason.backdrop&&result.value?("script"===dataType&&eval(result.value),result.value.element&&$(result.value.element).fadeOut(),swal("Finished",result.value.message||"The data has been deleted.","success").then((function(){if(redirect_to)return window.location.replace(redirect_to)}))):swal("Cancelled","The operation has been cancelled.","error")}))},this.async_delete_detection=function(){return $(document).on("click","[data-behavior='async:delete']",(function(t){return t.preventDefault(),swal.close(),perform_async_delete(this),!1}))}}.call(this),function(){this.refresh_async=function(t){return $(t).trigger("refresh")}}.call(this),function(){this.request_badges=function(t){return $.ajax({url:t})}}.call(this),"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(t){var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i?this:t||{},e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype||{},r.prototype=new i,r}),function(){this.bip_parent=function(t){var e;return e=$(t.currentTarget),$("#"+e.data("parent")).html(e.text())},this.RefreshOriginalRequest=function(){return $.ajax({method:"GET",url:window.location.href})},this.RefreshAfterAjax=function(t){return $(t).unbind("ajax:success"),$(t).bind("ajax:success",(function(){return RefreshOriginalRequest()}))},this.BipRefreshOriginalRequest=function(){return $(".best_in_place").unbind("ajax:success"),$(".best_in_place").bind("ajax:success",(function(){return RefreshOriginalRequest()}))}}.call(this),function(){this.bookables_select=function(t,e,n,i){null==e&&(e="paper"),null==n&&(n="click to make a selection..."),null==i&&(i=!1),$(t).selectize({labelField:"text",valueField:"id",searchField:["text","uniqueid","description"],optGroupField:"noun",load:function(t,e){var n;return t.length?(n={q:{uniqueid_or_description_cont:t}},$.ajax({url:"/bookables.json?"+$.param(n),dataType:"json",format:"json",type:"GET",error:function(){e()},success:function(t){t.length>0&&e(t)}})):e()}}),i&&$(t).on("change",(function(t){var e;return e=$(t.currentTarget).val(),i=i+"/"+e,window.location.href=i}))}}.call(this),function(){this.CalendarShowReminders=function(t,e){return t.addEventSource(e)},this.SetupNewCalendar=function(t,e){var n;return n=[{id:"bookings",url:t}],$("#calendar").fullCalendar({editable:!0,theme:!1,header:{center:"title",left:"prev next today",right:"agendaDay month basicWeek basicDay list"},views:{agenda:{groupByResource:!1,groupByDateAndResource:!1}},eventSources:n,eventLimit:!0,fixedWeekCount:!1,allDayDefault:!1,nowIndicator:!0,eventResize:function(t,e,n){ResizeEvent(t,e,n)},eventDrop:function(t,e,n){ResizeEvent(t,e,n)},dayClick:function(t){t.hour(moment().hour()),$.get("/bookings/new?modal=true&booking[starttime]="+t.format("YYYY-MM-DD HH:mm:ss"),(function(t){return $("<div>"+t+"</div>").appendTo("#calendar").modal().on($.modal.CLOSE,remove_modal)}))},eventRender:function(t,e){$(e).attr("rel","modal:open")},loading:function(t){$("#calendar-spinner").show(),t||$("#calendar-spinner").hide()}}),this.toggle_reminders=function(t){var i;$("#calendar").fullCalendar(),n=$("#calendar").fullCalendar("getEventSources"),t?$("#calendar").fullCalendar("addEventSource",{id:"reminders",url:e}):(i=$("#calendar").fullCalendar("getEventSourceById","reminders"),i=$("#calendar").fullCalendar("removeEventSource",i)),$("#calendar").fullCalendar("rerenderEvents")},"true"===Cookies.get("calendar:reminders")&&($("#toggle_reminders").attr("checked",!0),toggle_reminders(!0)),$("#toggle_reminders").on("change",(function(){return Cookies.set("calendar:reminders",this.checked,{sameSite:"Lax"}),toggle_reminders(this.checked)}))}}.call(this),function(){this.cancel_booking=function(t,e){return swal({title:"Are you sure?",html:e,type:"question",input:"text",inputPlaceholder:"reason for cancellation...",showCancelButton:!0,confirmButtonText:"Cancel Reservation",confirmButtonColor:"#f04124",cancelButtonText:"Go Back",showLoaderOnConfirm:!0,inputValidator:function(t){return new Promise((function(e){return""===t?e("Please provide a cancellation reason"):e()}))},allowOutsideClick:!1}).then((function(e){if(e.dismiss)return e.dismiss;$.ajax({url:"/bookings/"+t+"/cancel",data:{booking:{cancellation_remarks:e.value}},method:"patch",dataType:"script",success:function(){swal({title:"The reservation has been canceled.",text:"Refresh the view to update the calendar.",type:"success"})},error:function(){swal("An error occurred!","Check Internet connection.","error")}})}))}}.call(this),function(){this.ajaxBar=function(t,e,n,i,r){return $.ajax({type:"GET",url:t,data:e,dataType:"json",success:function(t){Morris.Bar({element:"graph",data:t,xkey:n,ykeys:i,labels:r,hideHover:"auto",resize:!0})}})},this.ajaxLine=function(t,e,n,i,r){return $.ajax({type:"GET",url:t,data:e,dataType:"json",success:function(t){Morris.Line({element:"graph",data:t,xkey:n,ykeys:i,labels:r,hideHover:"auto",resize:!0})}})}}.call(this),function(){this.check_all=function(t){return $(t).on("click",(function(){$(this).closest("form").find("input[type=checkbox]").prop("checked",this.checked)}))}}.call(this),function(){this.clients_select=function(t,e,n,i){null==e&&(e="paper"),null==n&&(n="search by name..."),null==i&&(i=!1),$(t).selectize({plugins:["remove_button"],labelField:"text",valueField:"id",searchField:["text","email","phone","uniqueid"],optGroupField:"noun",load:function(t,e){var n;return t.length?(n={q:{uniqueid_or_fname_or_lname_or_email_or_phone_cont:t}},$.ajax({url:"/clients.json?"+$.param(n),dataType:"json",format:"json",type:"GET",error:function(){e()},success:function(t){t.length>0&&e(t)}})):e()}}),i&&$(t).on("change",(function(t){var e;return e=$(t.currentTarget).val(),i=i+"/"+e,window.location.href=i}))}}.call(this),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ClipboardJS=e():t.ClipboardJS=e()}(this,(function(){return(()=>{function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{}};return e[i](r,r.exports,t),r.exports}var e={134:(t,e,n)=>{"use strict";function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function f(t){var e=m();return function(){var n,i=v(t);if(e){var r=v(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?g(t):e}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function y(t,e){var n="data-clipboard-".concat(t);if(e.hasAttribute(n))return e.getAttribute(n)}n.d(e,{default:()=>E});var b=n(817),w=n.n(b),x=function(){function t(e){r(this,t),this.resolveOptions(e),this.initSelection()}return s(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),
this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top="".concat(n,"px"),this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=w()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=w()(this.target),this.copyText()}},{key:"copyText",value:function(){var t;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==i(t)||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();const C=x;var _=n(279),k=n.n(_),S=n(370),T=n.n(S),D=function(t){function e(t,i){var r;return l(this,e),(r=n.call(this)).resolveOptions(i),r.listenClick(t),r}d(e,t);var n=f(e);return u(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===a(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=T()(t,"click",(function(t){return e.onClick(t)}))}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new C({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return y("action",t)}},{key:"defaultTarget",value:function(t){var e=y("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return y("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach((function(t){n=n&&!!document.queryCommandSupported(t)})),n}}]),e}(k());const E=D},828:t=>{function e(t,e){for(;t&&t.nodeType!==n;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}t.exports=e},438:(t,e,n)=>{function i(t,e,n,i,r){var s=o.apply(this,arguments);return t.addEventListener(n,s,r),{destroy:function(){t.removeEventListener(n,s,r)}}}function r(t,e,n,r,o){return"function"==typeof t.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return i(t,e,n,r,o)})))}function o(t,e,n,i){return function(n){n.delegateTarget=s(n.target,e),n.delegateTarget&&i.call(t,n)}}var s=n(828);t.exports=r},879:(t,e)=>{e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},370:(t,e,n)=>{function i(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(t))return r(t,e,n);if(a.nodeList(t))return o(t,e,n);if(a.string(t))return s(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function r(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function o(t,e,n){return Array.prototype.forEach.call(t,(function(t){t.addEventListener(e,n)})),{destroy:function(){Array.prototype.forEach.call(t,(function(t){t.removeEventListener(e,n)}))}}}function s(t,e,n){return l(document.body,t,e,n)}var a=n(879),l=n(438);t.exports=i},817:t=>{function e(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),r=document.createRange();r.selectNodeContents(t),i.removeAllRanges(),i.addRange(r),e=i.toString()}return e}t.exports=e},279:t=>{function e(){}e.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){r.off(t,i),e.apply(n,arguments)}var r=this;return i._=e,this.on(t,i,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;i<r;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var o=0,s=i.length;o<s;o++)i[o].fn!==e&&i[o].fn._!==e&&r.push(i[o]);return r.length?n[t]=r:delete n[t],this}},t.exports=e,t.exports.TinyEmitter=e}},n={};return t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},t.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t(134)})().default})),function(){$().ready((function(){return $("[data-close]").bind("click",(function(){if(fade_out_and_remove($(this).parents("[data-alert]")),1===$("#unread_pages [data-alert]").length)return fade_out_and_remove($("#unread_pages"))}))}))}.call(this),function(){this.consumable_prompt_oil=function(t,e,n,i){var r,o,s,a,l,c;for(swal.close(),c=[],l=[],o=s=0,a=e.length;s<a;o=++s)r=e[o],l.push(o+1),c.push({title:"Oil Consumption for "+r.name,text:"Did you use oil for this flight?",html:"Did you use oil for this flight? <input type='hidden' id='bookable_id' value='"+r.id+"'/>",input:"radio",width:"800px",inputOptions:{0:"no",1:"one quart",2:"two quarts"},inputValue:"0",showCancelButton:!0,confirmButtonText:"Next",showLoaderOnConfirm:!0,preConfirm:function(e){return{quantity:e,bookable_id:document.getElementById("bookable_id").value,client_id:i,usage_id:n,item:t}}});return swal.setDefaults({input:"select",showCancelButton:!0,animation:!0,progressSteps:l}),swal.queue(c).then((function(t){swal.resetDefaults(),t.value.length>0?$.ajax({url:"/consumable_events",method:"post",data:{consumable_events:t.value},dataType:"json",success:function(t){swal("Thank You",t,"success")},error:function(t,e,n){swal("An error occurred!",n,"error")}}):swal("Thank you","Thank You","success")})).catch(swal.noop)}}.call(this),function(){this.clickCopied=function(t){var e,n,i,r;e=t.className,t.setAttribute("class",e+" click-copiedxxx"),i=$(t).position().left-10,n=$(t).append("<small id='copied' style='position: absolute; display: inline-block; left: "+i+"px; '>copied!</small>"),r=$(n).position().top,$("#copied").animate({top:r-30,opacity:0},300,"linear",(function(){$(this).remove()})),setTimeout((function(){t.setAttribute("class",e),$("#copied").remove()}),300)},this.click_copy_to_clipboard=function(t){return new ClipboardJS(t).on("success",(function(t){t.text&&clickCopied(t.trigger,"copied!")}))}}.call(this),function(){this.datepickers=function(){var t;(t=document.createElement("input")).setAttribute("type","date"),"text"===t.type&&($('input[type="date"]').css("position","relative"),$('input[type="date"]').flatpickr({inline:!1,enableTime:!1,disableMobile:!1,positin:"auto",altInput:!0,minuteIncrement:1}))},this.datetimepicker=function(t,e){var n;return null==e&&(e={}),n={altInput:!0,disableMobile:!1,enableTime:!0,time_24hr:!1,dateFormat:"Y-m-d H:i",altFormat:"D M j, h:i K",altInputClass:"chronos-datetimepick",position:"below center"},e=$.extend({},n,e),flatpickr(t,e)},this.DateRangePicker=function(t,e,n,i,r){var o;return null==r&&(r={}),o={autoUpdateInput:!0,startDate:e,startDate:e,endDate:n,linkedCalendars:!1,ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 14 Days":[moment().subtract(13,"days"),moment()],"Last 28 Days":[moment().subtract(27,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")],"This Year":[moment().startOf("year"),moment().endOf("year")]}},r=$.extend({},o,r),$("#datefilter").daterangepicker(r,i)}}.call(this),function(t,e){if("function"==typeof define&&define.amd)define(["moment","jquery"],(function(t,n){return n.fn||(n.fn={}),"function"!=typeof t&&t.hasOwnProperty("default")&&(t=t.default),e(t,n)}));else if("object"==typeof module&&module.exports){var n="undefined"!=typeof window?window.jQuery:void 0;n||(n=require("jquery")).fn||(n.fn={});var i="undefined"!=typeof window&&void 0!==window.moment?window.moment:require("moment");module.exports=e(i,n)}else t.daterangepicker=e(t.moment,t.jQuery)}("undefined"!=typeof window?window:this,(function(t,e){var n=function(n,i,r){if(this.parentEl="body",this.element=e(n),this.startDate=t().startOf("day"),this.endDate=t().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=t().subtract(100,"year").format("YYYY"),this.maxYear=t().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:t.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:t.weekdaysMin(),monthNames:t.monthsShort(),firstDay:t.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof i&&null!==i||(i={}),"string"==typeof(i=e.extend(this.element.data(),i)).template||i.template instanceof e||(i.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=i.parentEl&&e(i.parentEl).length?e(i.parentEl):e(this.parentEl),this.container=e(i.template).appendTo(this.parentEl),"object"==typeof i.locale&&("string"==typeof i.locale.direction&&(this.locale.direction=i.locale.direction),"string"==typeof i.locale.format&&(this.locale.format=i.locale.format),"string"==typeof i.locale.separator&&(this.locale.separator=i.locale.separator),"object"==typeof i.locale.daysOfWeek&&(this.locale.daysOfWeek=i.locale.daysOfWeek.slice()),"object"==typeof i.locale.monthNames&&(this.locale.monthNames=i.locale.monthNames.slice()),"number"==typeof i.locale.firstDay&&(this.locale.firstDay=i.locale.firstDay),"string"==typeof i.locale.applyLabel&&(this.locale.applyLabel=i.locale.applyLabel),"string"==typeof i.locale.cancelLabel&&(this.locale.cancelLabel=i.locale.cancelLabel),"string"==typeof i.locale.weekLabel&&(this.locale.weekLabel=i.locale.weekLabel),"string"==typeof i.locale.customRangeLabel)){(f=document.createElement("textarea")).innerHTML=i.locale.customRangeLabel;var o=f.value;this.locale.customRangeLabel=o}if(this.container.addClass(this.locale.direction),"string"==typeof i.startDate&&(this.startDate=t(i.startDate,this.locale.format)),"string"==typeof i.endDate&&(this.endDate=t(i.endDate,this.locale.format)),"string"==typeof i.minDate&&(this.minDate=t(i.minDate,this.locale.format)),"string"==typeof i.maxDate&&(this.maxDate=t(i.maxDate,this.locale.format)),"object"==typeof i.startDate&&(this.startDate=t(i.startDate)),"object"==typeof i.endDate&&(this.endDate=t(i.endDate)),"object"==typeof i.minDate&&(this.minDate=t(i.minDate)),"object"==typeof i.maxDate&&(this.maxDate=t(i.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof i.applyButtonClasses&&(this.applyButtonClasses=i.applyButtonClasses),"string"==typeof i.applyClass&&(this.applyButtonClasses=i.applyClass),"string"==typeof i.cancelButtonClasses&&(this.cancelButtonClasses=i.cancelButtonClasses),"string"==typeof i.cancelClass&&(this.cancelButtonClasses=i.cancelClass),"object"==typeof i.maxSpan&&(this.maxSpan=i.maxSpan),"object"==typeof i.dateLimit&&(this.maxSpan=i.dateLimit),"string"==typeof i.opens&&(this.opens=i.opens),"string"==typeof i.drops&&(this.drops=i.drops),"boolean"==typeof i.showWeekNumbers&&(this.showWeekNumbers=i.showWeekNumbers),"boolean"==typeof i.showISOWeekNumbers&&(this.showISOWeekNumbers=i.showISOWeekNumbers),"string"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses),"object"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses.join(" ")),"boolean"==typeof i.showDropdowns&&(this.showDropdowns=i.showDropdowns),"number"==typeof i.minYear&&(this.minYear=i.minYear),"number"==typeof i.maxYear&&(this.maxYear=i.maxYear),"boolean"==typeof i.showCustomRangeLabel&&(this.showCustomRangeLabel=i.showCustomRangeLabel),"boolean"==typeof i.singleDatePicker&&(this.singleDatePicker=i.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof i.timePicker&&(this.timePicker=i.timePicker),"boolean"==typeof i.timePickerSeconds&&(this.timePickerSeconds=i.timePickerSeconds),"number"==typeof i.timePickerIncrement&&(this.timePickerIncrement=i.timePickerIncrement),"boolean"==typeof i.timePicker24Hour&&(this.timePicker24Hour=i.timePicker24Hour),"boolean"==typeof i.autoApply&&(this.autoApply=i.autoApply),"boolean"==typeof i.autoUpdateInput&&(this.autoUpdateInput=i.autoUpdateInput),"boolean"==typeof i.linkedCalendars&&(this.linkedCalendars=i.linkedCalendars),"function"==typeof i.isInvalidDate&&(this.isInvalidDate=i.isInvalidDate),"function"==typeof i.isCustomDate&&(this.isCustomDate=i.isCustomDate),"boolean"==typeof i.alwaysShowCalendars&&(this.alwaysShowCalendars=i.alwaysShowCalendars),0!=this.locale.firstDay)for(var s=this.locale.firstDay;s>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),s--;var a,l,c;if(void 0===i.startDate&&void 0===i.endDate&&e(this.element).is(":text")){var u=e(this.element).val(),d=u.split(this.locale.separator);a=l=null,2==d.length?(a=t(d[0],this.locale.format),l=t(d[1],this.locale.format)):this.singleDatePicker&&""!==u&&(a=t(u,this.locale.format),l=t(u,this.locale.format)),null!==a&&null!==l&&(this.setStartDate(a),this.setEndDate(l))}if("object"==typeof i.ranges){for(c in i.ranges){a="string"==typeof i.ranges[c][0]?t(i.ranges[c][0],this.locale.format):t(i.ranges[c][0]),l="string"==typeof i.ranges[c][1]?t(i.ranges[c][1],this.locale.format):t(i.ranges[c][1]),this.minDate&&a.isBefore(this.minDate)&&(a=this.minDate.clone());var h=this.maxDate;if(this.maxSpan&&h&&a.clone().add(this.maxSpan).isAfter(h)&&(h=a.clone().add(this.maxSpan)),h&&l.isAfter(h)&&(l=h.clone()),!(this.minDate&&l.isBefore(this.minDate,this.timepicker?"minute":"day")||h&&a.isAfter(h,this.timepicker?"minute":"day"))){var f;(f=document.createElement("textarea")).innerHTML=c;o=f.value;this.ranges[o]=[a,l]}}var p="<ul>";for(c in this.ranges)p+='<li data-range-key="'+c+'">'+c+"</li>";this.showCustomRangeLabel&&(p+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),p+="</ul>",this.container.find(".ranges").prepend(p)}"function"==typeof r&&(this.callback=r),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),"object"==typeof i.ranges&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),!this.timePicker&&this.autoApply&&this.container.addClass("auto-apply")),(void 0===i.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".drp-calendar").on("click.daterangepicker",".prev",e.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",e.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",e.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",e.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",e.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.daterangepicker","li",e.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",e.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",e.proxy(this.clickCancel,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":e.proxy(this.show,this),"focus.daterangepicker":e.proxy(this.show,this),"keyup.daterangepicker":e.proxy(this.elementChanged,this),"keydown.daterangepicker":e.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",e.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",e.proxy(this.toggle,this))),this.updateElement()};return n.prototype={constructor:n,setStartDate:function(e){"string"==typeof e&&(this.startDate=t(e,this.locale.format)),"object"==typeof e&&(this.startDate=t(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(e){"string"==typeof e&&(this.endDate=t(e,this.locale.format)),"object"==typeof e&&(this.endDate=t(e)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".right .calendar-time select").prop("disabled",!0).addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var t,e,n,i;if(this.endDate){if(t=parseInt(this.container.find(".left .hourselect").val(),10),e=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(e)&&(e=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),n=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour)"PM"===(i=this.container.find(".left .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0)}else if(t=parseInt(this.container.find(".right .hourselect").val(),10),e=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(e)&&(e=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),n=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour)"PM"===(i=this.container.find(".right .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0);this.leftCalendar.month.hour(t).minute(e).second(n),this.rightCalendar.month.hour(t).minute(e).second(n)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(n){var i,r=(i="left"==n?this.leftCalendar:this.rightCalendar).month.month(),o=i.month.year(),s=i.month.hour(),a=i.month.minute(),l=i.month.second(),c=t([o,r]).daysInMonth(),u=t([o,r,1]),d=t([o,r,c]),h=t(u).subtract(1,"month").month(),f=t(u).subtract(1,"month").year(),p=t([f,h]).daysInMonth(),g=u.day();(i=[]).firstDay=u,i.lastDay=d;for(var m=0;m<6;m++)i[m]=[];var v=p-g+this.locale.firstDay+1;v>p&&(v-=7),g==this.locale.firstDay&&(v=p-6);for(var y=t([f,h,v,12,a,l]),b=(m=0,0),w=0;m<42;m++,b++,y=t(y).add(24,"hour"))m>0&&b%7==0&&(b=0,w++),i[w][b]=y.clone().hour(s).minute(a).second(l),y.hour(12),this.minDate&&i[w][b].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&i[w][b].isBefore(this.minDate)&&"left"==n&&(i[w][b]=this.minDate.clone()),this.maxDate&&i[w][b].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&i[w][b].isAfter(this.maxDate)&&"right"==n&&(i[w][b]=this.maxDate.clone());"left"==n?this.leftCalendar.calendar=i:this.rightCalendar.calendar=i;var x="left"==n?this.minDate:this.startDate,C=this.maxDate,_=("left"==n?this.startDate:this.endDate,this.locale.direction,'<table class="table-condensed">');_+="<thead>",_+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(_+="<th></th>"),x&&!x.isBefore(i.firstDay)||this.linkedCalendars&&"left"!=n?_+="<th></th>":_+='<th class="prev available"><span></span></th>';var k=this.locale.monthNames[i[1][1].month()]+i[1][1].format(" YYYY");if(this.showDropdowns){for(var S=i[1][1].month(),T=i[1][1].year(),D=C&&C.year()||this.maxYear,E=x&&x.year()||this.minYear,M=T==E,A=T==D,O='<select class="monthselect">',P=0;P<12;P++)(!M||x&&P>=x.month())&&(!A||C&&P<=C.month())?O+="<option value='"+P+"'"+(P===S?" selected='selected'":"")+">"+this.locale.monthNames[P]+"</option>":O+="<option value='"+P+"'"+(P===S?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[P]+"</option>";O+="</select>";for(var L='<select class="yearselect">',I=E;I<=D;I++)L+='<option value="'+I+'"'+(I===T?' selected="selected"':"")+">"+I+"</option>";k=O+(L+="</select>")}if(_+='<th colspan="5" class="month">'+k+"</th>",C&&!C.isAfter(i.lastDay)||this.linkedCalendars&&"right"!=n&&!this.singleDatePicker?_+="<th></th>":_+='<th class="next available"><span></span></th>',_+="</tr>",_+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(_+='<th class="week">'+this.locale.weekLabel+"</th>"),e.each(this.locale.daysOfWeek,(function(t,e){_+="<th>"+e+"</th>"})),_+="</tr>",_+="</thead>",_+="<tbody>",null==this.endDate&&this.maxSpan){var $=this.startDate.clone().add(this.maxSpan).endOf("day");C&&!$.isBefore(C)||(C=$)}for(w=0;w<6;w++){_+="<tr>",this.showWeekNumbers?_+='<td class="week">'+i[w][0].week()+"</td>":this.showISOWeekNumbers&&(_+='<td class="week">'+i[w][0].isoWeek()+"</td>");for(b=0;b<7;b++){var F=[];i[w][b].isSame(new Date,"day")&&F.push("today"),i[w][b].isoWeekday()>5&&F.push("weekend"),i[w][b].month()!=i[1][1].month()&&F.push("off","ends"),this.minDate&&i[w][b].isBefore(this.minDate,"day")&&F.push("off","disabled"),C&&i[w][b].isAfter(C,"day")&&F.push("off","disabled"),this.isInvalidDate(i[w][b])&&F.push("off","disabled"),i[w][b].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&F.push("active","start-date"),null!=this.endDate&&i[w][b].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&F.push("active","end-date"),null!=this.endDate&&i[w][b]>this.startDate&&i[w][b]<this.endDate&&F.push("in-range");var H=this.isCustomDate(i[w][b]);!1!==H&&("string"==typeof H?F.push(H):Array.prototype.push.apply(F,H));var N="",z=!1;for(m=0;m<F.length;m++)N+=F[m]+" ","disabled"==F[m]&&(z=!0);z||(N+="available"),_+='<td tabindex="0" class="'+N.replace(/^\s+|\s+$/g,"")+'" data-title="r'+w+"c"+b+'">'+i[w][b].date()+"</td>"}_+="</tr>"}_+="</tbody>",_+="</table>",this.container.find(".drp-calendar."+n+" .calendar-table").html(_)},renderTimePicker:function(t){if("right"!=t||this.endDate){var e,n,i,r=this.maxDate;if(!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)||(r=this.startDate.clone().add(this.maxSpan)),"left"==t)n=this.startDate.clone(),i=this.minDate;else if("right"==t){n=this.endDate.clone(),i=this.startDate;var o=this.container.find(".drp-calendar.right .calendar-time");if(""!=o.html()&&(n.hour(isNaN(n.hour())?o.find(".hourselect option:selected").val():n.hour()),n.minute(isNaN(n.minute())?o.find(".minuteselect option:selected").val():n.minute()),n.second(isNaN(n.second())?o.find(".secondselect option:selected").val():n.second()),!this.timePicker24Hour)){var s=o.find(".ampmselect option:selected").val();"PM"===s&&n.hour()<12&&n.hour(n.hour()+12),"AM"===s&&12===n.hour()&&n.hour(0)}n.isBefore(this.startDate)&&(n=this.startDate.clone()),r&&n.isAfter(r)&&(n=r.clone())}e='<select class="hourselect">';for(var a=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,c=a;c<=l;c++){var u=c;this.timePicker24Hour||(u=n.hour()>=12?12==c?12:c+12:12==c?0:c);var d=n.clone().hour(u),h=!1;i&&d.minute(59).isBefore(i)&&(h=!0),r&&d.minute(0).isAfter(r)&&(h=!0),u!=n.hour()||h?e+=h?'<option value="'+c+'" disabled="disabled" class="disabled">'+c+"</option>":'<option value="'+c+'">'+c+"</option>":e+='<option value="'+c+'" selected="selected">'+c+"</option>"}e+="</select> ",e+=': <select class="minuteselect">';for(c=0;c<60;c+=this.timePickerIncrement){var f=c<10?"0"+c:c;d=n.clone().minute(c),h=!1;i&&d.second(59).isBefore(i)&&(h=!0),r&&d.second(0).isAfter(r)&&(h=!0),n.minute()!=c||h?e+=h?'<option value="'+c+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+c+'">'+f+"</option>":e+='<option value="'+c+'" selected="selected">'+f+"</option>"}if(e+="</select> ",this.timePickerSeconds){e+=': <select class="secondselect">';for(c=0;c<60;c++){f=c<10?"0"+c:c,d=n.clone().second(c),h=!1;i&&d.isBefore(i)&&(h=!0),r&&d.isAfter(r)&&(h=!0),n.second()!=c||h?e+=h?'<option value="'+c+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+c+'">'+f+"</option>":e+='<option value="'+c+'" selected="selected">'+f+"</option>"}e+="</select> "}if(!this.timePicker24Hour){e+='<select class="ampmselect">';var p="",g="";i&&n.clone().hour(12).minute(0).second(0).isBefore(i)&&(p=' disabled="disabled" class="disabled"'),r&&n.clone().hour(0).minute(0).second(0).isAfter(r)&&(g=' disabled="disabled" class="disabled"'),n.hour()>=12?e+='<option value="AM"'+p+'>AM</option><option value="PM" selected="selected"'+g+">PM</option>":e+='<option value="AM" selected="selected"'+p+'>AM</option><option value="PM"'+g+">PM</option>",e+="</select>"}this.container.find(".drp-calendar."+t+" .calendar-time").html(e)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)},move:function(){var t,n={top:0,left:0},i=this.drops,r=e(window).width();switch(this.parentEl.is("body")||(n={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},r=this.parentEl[0].clientWidth+this.parentEl.offset().left),i){case"auto":
(t=this.element.offset().top+this.element.outerHeight()-n.top)+this.container.outerHeight()>=this.parentEl[0].scrollHeight&&(t=this.element.offset().top-this.container.outerHeight()-n.top,i="up");break;case"up":t=this.element.offset().top-this.container.outerHeight()-n.top;break;default:t=this.element.offset().top+this.element.outerHeight()-n.top}this.container.css({top:0,left:0,right:"auto"});var o=this.container.outerWidth();if(this.container.toggleClass("drop-up","up"==i),"left"==this.opens){var s=r-this.element.offset().left-this.element.outerWidth();o+s>e(window).width()?this.container.css({top:t,right:"auto",left:9}):this.container.css({top:t,right:s,left:"auto"})}else if("center"==this.opens){(a=this.element.offset().left-n.left+this.element.outerWidth()/2-o/2)<0?this.container.css({top:t,right:"auto",left:9}):a+o>e(window).width()?this.container.css({top:t,left:"auto",right:0}):this.container.css({top:t,left:a,right:"auto"})}else{var a;(a=this.element.offset().left-n.left)+o>e(window).width()?this.container.css({top:t,left:"auto",right:0}):this.container.css({top:t,left:a,right:"auto"})}},show:function(){this.isShowing||(this._outsideClickProxy=e.proxy((function(t){this.outsideClick(t)}),this),e(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),e(window).on("resize.daterangepicker",e.proxy((function(t){this.move(t)}),this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0,this.container.find(".active.start-date").filter(":visible").length?this.container.find(".active.start-date").focus():this.container.find("li.active").filter(":visible").length&&this.container.find("li.active").focus())},hide:function(){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),e(document).off(".daterangepicker"),e(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(){this.isShowing?this.hide():this.show()},outsideClick:function(t){var n=e(t.target);"focusin"==t.type||n.closest(this.element).length||n.closest(this.container).length||n.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(t){var e=t.target.getAttribute("data-range-key");if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[e];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(t){e(t.target).parents(".drp-calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){e(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(t){if(e(t.target).hasClass("available")){var n=e(t.target).attr("data-title"),i=n.substr(1,1),r=n.substr(3,1),o=e(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[i][r]:this.rightCalendar.calendar[i][r],s=this.leftCalendar,a=this.rightCalendar,l=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each((function(t,n){if(!e(n).hasClass("week")){var i=e(n).attr("data-title"),r=i.substr(1,1),c=i.substr(3,1),u=e(n).parents(".drp-calendar").hasClass("left")?s.calendar[r][c]:a.calendar[r][c];u.isAfter(l)&&u.isBefore(o)||u.isSame(o,"day")?e(n).addClass("in-range"):e(n).removeClass("in-range")}}))}},clickDate:function(t){if(e(t.target).hasClass("available")){var n=e(t.target).attr("data-title"),i=n.substr(1,1),r=n.substr(3,1),o=e(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[i][r]:this.rightCalendar.calendar[i][r];if(this.endDate||o.isBefore(this.startDate,"day")){if(this.timePicker){var s=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour)"PM"===(c=this.container.find(".left .ampmselect").val())&&s<12&&(s+=12),"AM"===c&&12===s&&(s=0);var a=parseInt(this.container.find(".left .minuteselect").val(),10);isNaN(a)&&(a=parseInt(this.container.find(".left .minuteselect option:last").val(),10));var l=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;o=o.clone().hour(s).minute(a).second(l)}this.endDate=null,this.setStartDate(o.clone())}else if(!this.endDate&&o.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var c;s=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour)"PM"===(c=this.container.find(".right .ampmselect").val())&&s<12&&(s+=12),"AM"===c&&12===s&&(s=0);a=parseInt(this.container.find(".right .minuteselect").val(),10);isNaN(a)&&(a=parseInt(this.container.find(".right .minuteselect option:last").val(),10));l=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;o=o.clone().hour(s).minute(a).second(l)}this.setEndDate(o.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),!this.timePicker&&this.autoApply&&this.clickApply()),this.updateView(),t.stopPropagation()}},calculateChosenLabel:function(){var t=!0,e=0;for(var n in this.ranges){if(this.timePicker){var i=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(i)==this.ranges[n][0].format(i)&&this.endDate.format(i)==this.ranges[n][1].format(i)){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").attr("data-range-key");break}e++}t&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var n=e(t.target).closest(".drp-calendar").hasClass("left"),i=n?"left":"right",r=this.container.find(".drp-calendar."+i),o=parseInt(r.find(".monthselect").val(),10),s=r.find(".yearselect").val();n||(s<this.startDate.year()||s==this.startDate.year()&&o<this.startDate.month())&&(o=this.startDate.month(),s=this.startDate.year()),this.minDate&&(s<this.minDate.year()||s==this.minDate.year()&&o<this.minDate.month())&&(o=this.minDate.month(),s=this.minDate.year()),this.maxDate&&(s>this.maxDate.year()||s==this.maxDate.year()&&o>this.maxDate.month())&&(o=this.maxDate.month(),s=this.maxDate.year()),n?(this.leftCalendar.month.month(o).year(s),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(o).year(s),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(t){var n=e(t.target).closest(".drp-calendar"),i=n.hasClass("left"),r=parseInt(n.find(".hourselect").val(),10),o=parseInt(n.find(".minuteselect").val(),10);isNaN(o)&&(o=parseInt(n.find(".minuteselect option:last").val(),10));var s=this.timePickerSeconds?parseInt(n.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var a=n.find(".ampmselect").val();"PM"===a&&r<12&&(r+=12),"AM"===a&&12===r&&(r=0)}if(i){var l=this.startDate.clone();l.hour(r),l.minute(o),l.second(s),this.setStartDate(l),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)&&this.setEndDate(l.clone())}else if(this.endDate){var c=this.endDate.clone();c.hour(r),c.minute(o),c.second(s),this.setEndDate(c)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var e=this.element.val().split(this.locale.separator),n=null,i=null;2===e.length&&(n=t(e[0],this.locale.format),i=t(e[1],this.locale.format)),(this.singleDatePicker||null===n||null===i)&&(i=n=t(this.element.val(),this.locale.format)),n.isValid()&&i.isValid()&&(this.setStartDate(n),this.setEndDate(i),this.updateView())}},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide(),27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.hide())},updateElement:function(){if(this.element.is("input")&&this.autoUpdateInput){var t=this.startDate.format(this.locale.format);this.singleDatePicker||(t+=this.locale.separator+this.endDate.format(this.locale.format)),t!==this.element.val()&&this.element.val(t).trigger("change")}},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},e.fn.daterangepicker=function(t,i){var r=e.extend(!0,{},e.fn.daterangepicker.defaultOptions,t);return this.each((function(){var t=e(this);t.data("daterangepicker")&&t.data("daterangepicker").remove(),t.data("daterangepicker",new n(t,r,i))})),this},n})),function(){this.calculate_datum=function(){var t;return t=$("#total_time").val()-$("#indicated_time").val(),$("#bookable_component_datum").val((Math.round(100*t)/100).toFixed(2))},this.datum_calculator=function(){return $("#indicated_time").on("input",(function(){return calculate_datum()})),$("#total_time").on("input",(function(){return calculate_datum()}))}}.call(this),function(){this.default_dropzone=function(t,e){null==e&&(e="attachment[image]"),Dropzone.autoDiscover=!1,new Dropzone(t,{paramName:e,maxFilesize:256,addRemoveLinks:!1,acceptedFiles:"image/*,application/pdf,application/doc",dictDefaultMessage:"<div class='dz-icon'></div><br/>Drop files here to upload attachments."}).on("success",(function(t,e){if(this.removeFile(t),$.getScript(e.attachment_path),e.attachable_path)return $.getScript(e.attachable_path)}))},this.endorsement_dropzone=function(t){Dropzone.autoDiscover=!1,new Dropzone(t,{paramName:"endorsement[attachment]",maxFilesize:256,addRemoveLinks:!1,acceptedFiles:"image/*,application/pdf,application/doc",dictDefaultMessage:"<div class='dz-icon'></div><br/>Drop file here to upload or replace existing attachment."}).on("success",(function(t,e){return this.removeFile(t),$.getScript(e.redirect_path)}))},this.avatar_dropzone=function(t){Dropzone.autoDiscover=!1,new Dropzone("#avatar_dropzone",{paramName:"attachment[image]",maxFilesize:2,addRemoveLinks:!1,acceptedFile:"image/jpg,image/png",dictDefaultMessage:"<div class='dz-icon'></div><br/>Upload an avatar image:  160px x 160px",success:function(){return ajaxget(t)}})}}.call(this),function(){this.default_tipster=function(t,e){var n;return null==t&&(t=".tipster"),null==e&&(e={}),n={delayTouch:[0,5e3],maxWidth:300,repositionOnScroll:!0,contentAsHTML:!0},e=$.extend({},n,e),$(t).tooltipster(e)},this.ajax_tipster=function(t,e,n){return null==n&&(n={}),$(t).tooltipster({delayTouch:[0,5e3],maxWidth:"60vw",repositionOnScroll:!0,functionBefore:function(t,n){var i;if(!(i=$(n.origin)).data("loaded"))return t.content("loading..."),$.get(e,(function(e){return t.content(e),i.data("loaded",!0)}))}})}}.call(this),function(){var t,e,n,i;this.RefreshCalendars=function(t,e,n){null==e&&(e=!0),null==n&&(n=!0),$("#flex-calendar").length&&e&&(RenderBusyCalendar(t),RenderBookingCalendar(t),ShowHideTimeMarker(t)),$("#mobile-calendar").length&&e&&RenderMobileCalendar(t)},this.RenderBusyCalendar=function(t){var e;$(".daygrid-event.free-busy").remove(),e="/free_busies",$.ajax({url:e,dataType:"json",type:"GET",data:t,success:function(t){$(".daygrid-event.free-busy").remove(),i(t)}})},this.RenderBookingCalendar=function(t){var n;n="/calendar/bookings",$(".daygrid-event.booking-event").remove(),$.ajax({url:n,dataType:"json",type:"GET",data:t,success:function(t){$(".daygrid-event.booking-event").remove(),e(t)}})},this.RemoveBookingEvent=function(t){$(".calendar-event[data-booking-id="+t+"]").remove()},this.RefreshBookingEvent=function(t,n){var i;null==n&&(n=""),$(".calendar-event[data-booking-id="+t+"]").remove(),i="/calendar/bookings/"+t,$.ajax({url:i,dataType:"json",type:"GET",data:n,success:function(n){$(".calendar-event[data-booking-id="+t+"]").remove(),e([n])}})},e=function(e){var n,i,r;for(i=0,r=e.length;i<r;i++)n=e[i],t(n);flex_calendar_setup(),AjaxPopover(".booking-pop",{placement:"auto-bottom",style:"booking-pop",multi:!1,closeable:!0,dismissible:!0})},t=function(t){var e,n,i,r,o,s;for(o=[],n=0,i=(r=t.rows).length;n<i&&(s=r[n],!(t.numblocks<0));n++)$("#"+s+"-swimlane").length?((e=$("<div>",{class:"calendar-event booking-event daygrid-event "+t.event_class})).css("background-color",""+t.backgroundColor),e.css("color",""+t.textColor),e.css("position","absolute"),e.css("left",t.left+"%"),e.css("width",t.width+"%"),e.attr("title",t.title),e.get(0).style.setProperty("--span",""+t.numblocks),e.attr("data-booking-id",""+t.id),e.html("<div class='handle resize-start'></div><a class='fullcell booking-pop' href='#' title='"+t.title+"' data-url='"+t.popover_url+"' style='background-color: "+t.backgroundColor+"; color: "+t.textColor+";'><span>"+t.titleIcons+t.calendar_text+"</span></a><div class='handle resize-end'></div>"),o.push($("#"+s+"-swimlane").prepend(e))):o.push(void 0);return o},i=function(t){var e,i,r;for(i=0,r=t.length;i<r;i++)e=t[i],n(e);flex_calendar_setup(),AjaxPopover(".busy-pop",{placement:"auto-bottom",style:"booking-pop",multi:!1,closeable:!0,dismissible:!0})},n=function(t){var e,n,i,r,o,s;for(o=[],n=0,i=(r=t.rows).length;n<i&&(s=r[n],t.titleIcons||(t.titleIcons=""),!(t.numblocks<0));n++)(e=$("<div>",{class:"daygrid-event "+t.event_class})).css("background-color",t.backgroundColor),e.css("color",t.textColor),e.css("position","absolute"),e.css("left",t.left+"%"),e.css("width",t.width+"%"),e.get(0).style.setProperty("--span",""+t.numblocks),e.attr("data-free-busy-id",""+t.id),e.html("<a class='fullcell busy-pop' href='#' data-url='"+t.popover_url+"' style='background-color: "+t.backgroundColor+"; color: "+t.textColor+";'><span>"+t.titleIcons+t.calendar_text+"</span></a>"),o.push($("#"+s+"-swimlane").append(e));return o},this.UpdateTimeMarker=function(t,e,n){var i,r,o,s,a;return null==n&&(n=0),e-t,i=n+(s=new Date).getTimezoneOffset()/60,a=new Date(s.getFullYear(),s.getMonth(),s.getDate(),t,0,0),r=new Date(s.getFullYear(),s.getMonth(),s.getDate(),e,0,0)-a,s.setHours(s.getHours()+i),o=(s-a)/r*100,$("#time-marker").css({left:o+"%"}),$("#time-marker .time").text(formatTime(s))},this.isToday=function(t){var e;return e=new Date,t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()},this.ShowHideTimeMarker=function(t){var e,n;return e=new Date(t.start),new Date(t.end),n=new Date(e.getTime()+432e5),isToday(n)?$("#time-marker").show():$("#time-marker").hide()},this.formatTime=function(t){var e,n,i;return"AM",(n=(e=new Date(t)).getHours())>12&&(n-=12),n<10&&(n=n),(i=e.getMinutes())<10&&(i="0"+i),n+":"+i+(e.getHours()>=12?"PM":"AM")}}.call(this),function(){this.menu_detection=function(){return $(document).on("mousedown",'[behavior~="async:menu"]',(function(t){var e,n,i,r;i=$(t.currentTarget),n=i[0],e=i.parent(),console.debug(i,n,e),(r=e.data("url"))?$.get(r,(function(t){var i,r,o,s;return o=e.find(".menu-dropdown"),s=$(t),o.replaceWith(s),i=(r=n.getBoundingClientRect()).bottom-20,console.debug(i,o),s.css("position","fixed"),s[0].style.setProperty("--mouse-x",r.left+"px"),s[0].style.setProperty("--mouse-y",i+"px")})):swal("Error","Invalid Menu URL","error")}))},this.ajax_into_menu=function(t,e,n){return $.ajax(t,{dataType:"html",success:function(t){return $(e).html(t),n.position()}})},this.hide_menus_on_scroll=function(){return document.getElementById("main2").addEventListener("scroll",_.throttle(hide_menus,1e3))},this.hide_menus=function(){return $(".menu-dropdown").parent().blur()}}.call(this),function(){var t,e;this.dynamic_datalist=function(e){return $(e).on("keypress",_.debounce(t,400,!1))},t=function(){var t;if($(this).val())return t=$("#"+$(this).attr("list")),e(t,$(this).val())},e=function(t,e){var n,i,r,o;return i=t.attr("label_attribute")||"text",o=t.attr("value_attribute")||"id",r=t.attr("url"),(n={})[t.attr("q")]=e,$.ajax({url:r,data:{q:n},dataType:"json",format:"json",type:"GET",error:function(){alert("error")},success:function(e){var n,r,s;if(e.length>0)for($(t).empty(),n=0,r=e.length;n<r;n++)s=e[n],$(t).append("<option label='"+s[i]+"' value='"+s[o]+"'/></option>");else $(t).html("<option label='no matches' value='no matches'/></option>")}})}}.call(this),function(){this.add_text_field=function(t,e,n,i){var r,o,s;return(r=$(document.createElement("input")).attr("type","text").attr("id",e).attr("name",n).addClass("inline left").css("width","8em").val(i)).hide(),o=$("<div class='row'>").html(r),$(t).after(o),r.fadeIn("slow"),s=$(document.createElement("span")).html('<i class="fa fa-times"></i> remove').addClass("remove-element alert-text"),r.after(s),remove_text_field(s),!1},this.remove_text_field=function(t){return $(t).click((function(){return $(this).fadeOut(),$(this).prev("input").fadeOut()}))},this.link_to_select=function(t,e){var n;n=$(e),$(t).click((function(){var t,e,i,r,o;return r=(t=$(this)).data("pushValue"),i=t.data("popValue"),o=n.val()||[],r&&o.push(r),i&&(e=o.indexOf(i),o.splice(e,1)),n.val(o),n.trigger("change"),n.closest("form").submit()}))}}.call(this),function(){this.endless_scroll=function(t,e){return new Waypoint({context:$(e),element:$(t),handler:function(e){var n;"down"===e&&(n=(n=$(t+" a[rel='next']")).attr("href"))&&($(t+" .pagination").html("<i class='fa fa-spinner fa-pulse'/> Loading..."),$.getScript(n+"&auto_page=true"))},offset:"bottom-in-view"})}}.call(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).flatpickr=e()}(this,(function(){"use strict";function t(t,e,n){var i;return void 0===n&&(n=!1),function(){var r=this,o=arguments;null!==i&&clearTimeout(i),i=window.setTimeout((function(){i=null,n||t.apply(r,o)}),e),n&&!i&&t.apply(r,o)}}function e(t,e,n){if(!0===n)return t.classList.add(e);t.classList.remove(e)}function n(t,e,n){var i=window.document.createElement(t);return e=e||"",n=n||"",i.className=e,void 0!==n&&(i.textContent=n),i}function i(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function r(t,e){return e(t)?t:t.parentNode?r(t.parentNode,e):void 0}function o(t,e){var i=n("div","numInputWrapper"),r=n("input","numInput "+t),o=n("span","arrowUp"),s=n("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?r.type="number":(r.type="text",r.pattern="\\d*"),void 0!==e)for(var a in e)r.setAttribute(a,e[a]);return i.appendChild(r),i.appendChild(o),i.appendChild(s),i}function s(t){return"function"==typeof t.composedPath?t.composedPath()[0]:t.target}function a(t,e,n){return void 0===n&&(n=!0),!1!==n?new Date(t.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):t.getTime()-e.getTime()}function l(l,c){function v(){Yt.utils={getDaysInMonth:function(t,e){return void 0===t&&(t=Yt.currentMonth),void 0===e&&(e=Yt.currentYear),1===t&&(e%4==0&&e%100!=0||e%400==0)?29:Yt.l10n.daysInMonth[t]}}}function b(){Yt.element=Yt.input=l,Yt.isOpen=!1,xt(),Ct(),Pt(),Ot(),v(),Yt.isMobile||Y(),B(),(Yt.selectedDates.length||Yt.config.noCalendar)&&(Yt.config.enableTime&&L(Yt.config.noCalendar?Yt.latestSelectedDateObj||Yt.config.minDate:void 0),jt(!1)),E(),Yt.showTimeInput=Yt.selectedDates.length>0||Yt.config.noCalendar;var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!Yt.isMobile&&t&&_t(),$t("onReady")}function x(t){return t.bind(Yt)}function E(){var t=Yt.config;!1===t.weekNumbers&&1===t.showMonths||!0!==t.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==Yt.calendarContainer&&(Yt.calendarContainer.style.visibility="hidden",Yt.calendarContainer.style.display="block"),void 0!==Yt.daysContainer){var e=(Yt.days.offsetWidth+1)*t.showMonths;Yt.daysContainer.style.width=e+"px",Yt.calendarContainer.style.width=e+(void 0!==Yt.weekWrapper?Yt.weekWrapper.offsetWidth:0)+"px",Yt.calendarContainer.style.removeProperty("visibility"),Yt.calendarContainer.style.removeProperty("display")}}))}function M(t){0===Yt.selectedDates.length&&yt(),void 0!==t&&"blur"!==t.type&&Wt(t);var e=Yt._input.value;P(),jt(),Yt._input.value!==e&&Yt._debouncedChange()}function A(t,e){return t%12+12*g(e===Yt.l10n.amPM[1])}function O(t){switch(t%24){case 0:case 12:return 12;default:return t%12}}function P(){if(void 0!==Yt.hourElement&&void 0!==Yt.minuteElement){var t=(parseInt(Yt.hourElement.value.slice(-2),10)||0)%24,e=(parseInt(Yt.minuteElement.value,10)||0)%60,n=void 0!==Yt.secondElement?(parseInt(Yt.secondElement.value,10)||0)%60:0;void 0!==Yt.amPM&&(t=A(t,Yt.amPM.textContent));var i=void 0!==Yt.config.minTime||Yt.config.minDate&&Yt.minDateHasTime&&Yt.latestSelectedDateObj&&0===a(Yt.latestSelectedDateObj,Yt.config.minDate,!0);if(void 0!==Yt.config.maxTime||Yt.config.maxDate&&Yt.maxDateHasTime&&Yt.latestSelectedDateObj&&0===a(Yt.latestSelectedDateObj,Yt.config.maxDate,!0)){var r=void 0!==Yt.config.maxTime?Yt.config.maxTime:Yt.config.maxDate;(t=Math.min(t,r.getHours()))===r.getHours()&&(e=Math.min(e,r.getMinutes())),e===r.getMinutes()&&(n=Math.min(n,r.getSeconds()))}if(i){var o=void 0!==Yt.config.minTime?Yt.config.minTime:Yt.config.minDate;(t=Math.max(t,o.getHours()))===o.getHours()&&(e=Math.max(e,o.getMinutes())),e===o.getMinutes()&&(n=Math.max(n,o.getSeconds()))}$(t,e,n)}}function L(t){var e=t||Yt.latestSelectedDateObj;e&&$(e.getHours(),e.getMinutes(),e.getSeconds())}function I(){var t=Yt.config.defaultHour,e=Yt.config.defaultMinute,n=Yt.config.defaultSeconds;if(void 0!==Yt.config.minDate){var i=Yt.config.minDate.getHours(),r=Yt.config.minDate.getMinutes();(t=Math.max(t,i))===i&&(e=Math.max(r,e)),t===i&&e===r&&(n=Yt.config.minDate.getSeconds())}if(void 0!==Yt.config.maxDate){var o=Yt.config.maxDate.getHours(),s=Yt.config.maxDate.getMinutes();(t=Math.min(t,o))===o&&(e=Math.min(s,e)),t===o&&e===s&&(n=Yt.config.maxDate.getSeconds())}$(t,e,n)}function $(t,e,n){void 0!==Yt.latestSelectedDateObj&&Yt.latestSelectedDateObj.setHours(t%24,e,n||0,0),Yt.hourElement&&Yt.minuteElement&&!Yt.isMobile&&(Yt.hourElement.value=p(Yt.config.time_24hr?t:(12+t)%12+12*g(t%12==0)),Yt.minuteElement.value=p(e),void 0!==Yt.amPM&&(Yt.amPM.textContent=Yt.l10n.amPM[g(t>=12)]),void 0!==Yt.secondElement&&(Yt.secondElement.value=p(n)))}function F(t){var e=parseInt(t.target.value)+(t.delta||0);(e/1e3>1||"Enter"===t.key&&!/[^\d]/.test(e.toString()))&&ht(e)}function H(t,e,n,i){return e instanceof Array?e.forEach((function(e){return H(t,e,n,i)})):t instanceof Array?t.forEach((function(t){return H(t,e,n,i)})):(t.addEventListener(e,n,i),void Yt._handlers.push({element:t,event:e,handler:n,options:i}))}function N(t){return function(e){1===e.which&&t(e)}}function z(){$t("onChange")}function B(){if(Yt.config.wrap&&["open","close","toggle","clear"].forEach((function(t){Array.prototype.forEach.call(Yt.element.querySelectorAll("[data-"+t+"]"),(function(e){return H(e,"click",Yt[t])}))})),Yt.isMobile)Lt();else{var e=t(vt,50);if(Yt._debouncedChange=t(z,T),Yt.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&H(Yt.daysContainer,"mouseover",(function(t){"range"===Yt.config.mode&&mt(t.target)})),H(window.document.body,"keydown",gt),Yt.config.inline||Yt.config.static||H(window,"resize",e),void 0!==window.ontouchstart?H(window.document,"touchstart",dt):H(window.document,"mousedown",N(dt)),H(window.document,"focus",dt,{capture:!0}),!0===Yt.config.clickOpens&&(H(Yt._input,"focus",Yt.open),H(Yt._input,"mousedown",N(Yt.open))),void 0!==Yt.daysContainer&&(H(Yt.monthNav,"mousedown",N(Rt)),H(Yt.monthNav,["keyup","increment"],F),H(Yt.daysContainer,"mousedown",N(Tt))),void 0!==Yt.timeContainer&&void 0!==Yt.minuteElement&&void 0!==Yt.hourElement){var n=function(t){return t.target.select()};H(Yt.timeContainer,["increment"],M),H(Yt.timeContainer,"blur",M,{capture:!0}),H(Yt.timeContainer,"mousedown",N(R)),H([Yt.hourElement,Yt.minuteElement],["focus","click"],n),void 0!==Yt.secondElement&&H(Yt.secondElement,"focus",(function(){return Yt.secondElement&&Yt.secondElement.select()})),void 0!==Yt.amPM&&H(Yt.amPM,"mousedown",N((function(t){M(t),z()})))}}}function j(t,e){var n=void 0!==t?Yt.parseDate(t):Yt.latestSelectedDateObj||(Yt.config.minDate&&Yt.config.minDate>Yt.now?Yt.config.minDate:Yt.config.maxDate&&Yt.config.maxDate<Yt.now?Yt.config.maxDate:Yt.now),i=Yt.currentYear,r=Yt.currentMonth;try{void 0!==n&&(Yt.currentYear=n.getFullYear(),Yt.currentMonth=n.getMonth())}catch(t){t.message="Invalid date supplied: "+n,Yt.config.errorHandler(t)}e&&Yt.currentYear!==i&&($t("onYearChange"),Z()),!e||Yt.currentYear===i&&Yt.currentMonth===r||$t("onMonthChange"),Yt.redraw()}function R(t){~t.target.className.indexOf("arrow")&&W(t,t.target.classList.contains("arrowUp")?1:-1)}function W(t,e,n){var i=t&&t.target,r=n||i&&i.parentNode&&i.parentNode.firstChild,o=Ft("increment");o.delta=e,r&&r.dispatchEvent(o)}function Y(){var t=window.document.createDocumentFragment();if(Yt.calendarContainer=n("div","flatpickr-calendar"),Yt.calendarContainer.tabIndex=-1,!Yt.config.noCalendar){if(t.appendChild(et()),Yt.innerContainer=n("div","flatpickr-innerContainer"),Yt.config.weekNumbers){var i=ot(),r=i.weekWrapper,o=i.weekNumbers;Yt.innerContainer.appendChild(r),Yt.weekNumbers=o,Yt.weekWrapper=r}Yt.rContainer=n("div","flatpickr-rContainer"),Yt.rContainer.appendChild(it()),Yt.daysContainer||(Yt.daysContainer=n("div","flatpickr-days"),Yt.daysContainer.tabIndex=-1),K(),Yt.rContainer.appendChild(Yt.daysContainer),Yt.innerContainer.appendChild(Yt.rContainer),t.appendChild(Yt.innerContainer)}Yt.config.enableTime&&t.appendChild(nt()),e(Yt.calendarContainer,"rangeMode","range"===Yt.config.mode),e(Yt.calendarContainer,"animate",!0===Yt.config.animate),e(Yt.calendarContainer,"multiMonth",Yt.config.showMonths>1),Yt.calendarContainer.appendChild(t);var s=void 0!==Yt.config.appendTo&&void 0!==Yt.config.appendTo.nodeType;if((Yt.config.inline||Yt.config.static)&&(Yt.calendarContainer.classList.add(Yt.config.inline?"inline":"static"),Yt.config.inline&&(!s&&Yt.element.parentNode?Yt.element.parentNode.insertBefore(Yt.calendarContainer,Yt._input.nextSibling):void 0!==Yt.config.appendTo&&Yt.config.appendTo.appendChild(Yt.calendarContainer)),Yt.config.static)){var a=n("div","flatpickr-wrapper");Yt.element.parentNode&&Yt.element.parentNode.insertBefore(a,Yt.element),a.appendChild(Yt.element),Yt.altInput&&a.appendChild(Yt.altInput),a.appendChild(Yt.calendarContainer)}Yt.config.static||Yt.config.inline||(void 0!==Yt.config.appendTo?Yt.config.appendTo:window.document.body).appendChild(Yt.calendarContainer)}function q(t,i,r,o){var s=ft(i,!0),l=n("span","flatpickr-day "+t,i.getDate().toString());return l.dateObj=i,l.$i=o,l.setAttribute("aria-label",Yt.formatDate(i,Yt.config.ariaDateFormat)),-1===t.indexOf("hidden")&&0===a(i,Yt.now)&&(Yt.todayDateElem=l,l.classList.add("today"),l.setAttribute("aria-current","date")),s?(l.tabIndex=-1,Ht(i)&&(l.classList.add("selected"),Yt.selectedDateElem=l,"range"===Yt.config.mode&&(e(l,"startRange",Yt.selectedDates[0]&&0===a(i,Yt.selectedDates[0],!0)),e(l,"endRange",Yt.selectedDates[1]&&0===a(i,Yt.selectedDates[1],!0)),"nextMonthDay"===t&&l.classList.add("inRange")))):l.classList.add("flatpickr-disabled"),"range"===Yt.config.mode&&Nt(i)&&!Ht(i)&&l.classList.add("inRange"),Yt.weekNumbers&&1===Yt.config.showMonths&&"prevMonthDay"!==t&&r%7==1&&Yt.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+Yt.config.getWeek(i)+"</span>"),$t("onDayCreate",l),l}function V(t){t.focus(),"range"===Yt.config.mode&&mt(t)}function U(t){for(var e=t>0?0:Yt.config.showMonths-1,n=t>0?Yt.config.showMonths:-1,i=e;i!=n;i+=t)for(var r=Yt.daysContainer.children[i],o=t>0?0:r.children.length-1,s=t>0?r.children.length:-1,a=o;a!=s;a+=t){var l=r.children[a];if(-1===l.className.indexOf("hidden")&&ft(l.dateObj))return l}}function G(t,e){for(var n=-1===t.className.indexOf("Month")?t.dateObj.getMonth():Yt.currentMonth,i=e>0?Yt.config.showMonths:-1,r=e>0?1:-1,o=n-Yt.currentMonth;o!=i;o+=r)for(var s=Yt.daysContainer.children[o],a=n-Yt.currentMonth===o?t.$i+e:e<0?s.children.length-1:0,l=s.children.length,c=a;c>=0&&c<l&&c!=(e>0?l:-1);c+=r){var u=s.children[c];if(-1===u.className.indexOf("hidden")&&ft(u.dateObj)&&Math.abs(t.$i-c)>=Math.abs(e))return V(u)}Yt.changeMonth(r),X(U(r),0)}function X(t,e){var n=pt(document.activeElement||document.body),i=void 0!==t?t:n?document.activeElement:void 0!==Yt.selectedDateElem&&pt(Yt.selectedDateElem)?Yt.selectedDateElem:void 0!==Yt.todayDateElem&&pt(Yt.todayDateElem)?Yt.todayDateElem:U(e>0?1:-1);return void 0===i?Yt._input.focus():n?void G(i,e):V(i)}function Q(t,e){for(var i=(new Date(t,e,1).getDay()-Yt.l10n.firstDayOfWeek+7)%7,r=Yt.utils.getDaysInMonth((e-1+12)%12),o=Yt.utils.getDaysInMonth(e),s=window.document.createDocumentFragment(),a=Yt.config.showMonths>1,l=a?"prevMonthDay hidden":"prevMonthDay",c=a?"nextMonthDay hidden":"nextMonthDay",u=r+1-i,d=0;u<=r;u++,d++)s.appendChild(q(l,new Date(t,e-1,u),u,d));for(u=1;u<=o;u++,d++)s.appendChild(q("",new Date(t,e,u),u,d));for(var h=o+1;h<=42-i&&(1===Yt.config.showMonths||d%7!=0);h++,d++)s.appendChild(q(c,new Date(t,e+1,h%o),h,d));var f=n("div","dayContainer");return f.appendChild(s),f}function K(){if(void 0!==Yt.daysContainer){i(Yt.daysContainer),Yt.weekNumbers&&i(Yt.weekNumbers);for(var t=document.createDocumentFragment(),e=0;e<Yt.config.showMonths;e++){var n=new Date(Yt.currentYear,Yt.currentMonth,1);n.setMonth(Yt.currentMonth+e),t.appendChild(Q(n.getFullYear(),n.getMonth()))}Yt.daysContainer.appendChild(t),Yt.days=Yt.daysContainer.firstChild,"range"===Yt.config.mode&&1===Yt.selectedDates.length&&mt()}}function Z(){if(!(Yt.config.showMonths>1||"dropdown"!==Yt.config.monthSelectorType)){var t=function(t){return!(void 0!==Yt.config.minDate&&Yt.currentYear===Yt.config.minDate.getFullYear()&&t<Yt.config.minDate.getMonth())&&!(void 0!==Yt.config.maxDate&&Yt.currentYear===Yt.config.maxDate.getFullYear()&&t>Yt.config.maxDate.getMonth())};Yt.monthsDropdownContainer.tabIndex=-1,Yt.monthsDropdownContainer.innerHTML="";for(var e=0;e<12;e++)if(t(e)){var i=n("option","flatpickr-monthDropdown-month");i.value=new Date(Yt.currentYear,e).getMonth().toString(),i.textContent=y(e,Yt.config.shorthandCurrentMonth,Yt.l10n),i.tabIndex=-1,Yt.currentMonth===e&&(i.selected=!0),Yt.monthsDropdownContainer.appendChild(i)}}}function J(){var t,e=n("div","flatpickr-month"),i=window.document.createDocumentFragment();Yt.config.showMonths>1||"static"===Yt.config.monthSelectorType?t=n("span","cur-month"):(Yt.monthsDropdownContainer=n("select","flatpickr-monthDropdown-months"),H(Yt.monthsDropdownContainer,"change",(function(t){var e=t.target,n=parseInt(e.value,10);Yt.changeMonth(n-Yt.currentMonth),$t("onMonthChange")})),Z(),t=Yt.monthsDropdownContainer);var r=o("cur-year",{tabindex:"-1"}),s=r.getElementsByTagName("input")[0];s.setAttribute("aria-label",Yt.l10n.yearAriaLabel),Yt.config.minDate&&s.setAttribute("min",Yt.config.minDate.getFullYear().toString()),Yt.config.maxDate&&(s.setAttribute("max",Yt.config.maxDate.getFullYear().toString()),s.disabled=!!Yt.config.minDate&&Yt.config.minDate.getFullYear()===Yt.config.maxDate.getFullYear());var a=n("div","flatpickr-current-month");return a.appendChild(t),a.appendChild(r),i.appendChild(a),e.appendChild(i),{container:e,yearElement:s,monthElement:t}}function tt(){i(Yt.monthNav),
Yt.monthNav.appendChild(Yt.prevMonthNav),Yt.config.showMonths&&(Yt.yearElements=[],Yt.monthElements=[]);for(var t=Yt.config.showMonths;t--;){var e=J();Yt.yearElements.push(e.yearElement),Yt.monthElements.push(e.monthElement),Yt.monthNav.appendChild(e.container)}Yt.monthNav.appendChild(Yt.nextMonthNav)}function et(){return Yt.monthNav=n("div","flatpickr-months"),Yt.yearElements=[],Yt.monthElements=[],Yt.prevMonthNav=n("span","flatpickr-prev-month"),Yt.prevMonthNav.innerHTML=Yt.config.prevArrow,Yt.nextMonthNav=n("span","flatpickr-next-month"),Yt.nextMonthNav.innerHTML=Yt.config.nextArrow,tt(),Object.defineProperty(Yt,"_hidePrevMonthArrow",{get:function(){return Yt.__hidePrevMonthArrow},set:function(t){Yt.__hidePrevMonthArrow!==t&&(e(Yt.prevMonthNav,"flatpickr-disabled",t),Yt.__hidePrevMonthArrow=t)}}),Object.defineProperty(Yt,"_hideNextMonthArrow",{get:function(){return Yt.__hideNextMonthArrow},set:function(t){Yt.__hideNextMonthArrow!==t&&(e(Yt.nextMonthNav,"flatpickr-disabled",t),Yt.__hideNextMonthArrow=t)}}),Yt.currentYearElement=Yt.yearElements[0],zt(),Yt.monthNav}function nt(){Yt.calendarContainer.classList.add("hasTime"),Yt.config.noCalendar&&Yt.calendarContainer.classList.add("noCalendar"),Yt.timeContainer=n("div","flatpickr-time"),Yt.timeContainer.tabIndex=-1;var t=n("span","flatpickr-time-separator",":"),e=o("flatpickr-hour",{"aria-label":Yt.l10n.hourAriaLabel});Yt.hourElement=e.getElementsByTagName("input")[0];var i=o("flatpickr-minute",{"aria-label":Yt.l10n.minuteAriaLabel});if(Yt.minuteElement=i.getElementsByTagName("input")[0],Yt.hourElement.tabIndex=Yt.minuteElement.tabIndex=-1,Yt.hourElement.value=p(Yt.latestSelectedDateObj?Yt.latestSelectedDateObj.getHours():Yt.config.time_24hr?Yt.config.defaultHour:O(Yt.config.defaultHour)),Yt.minuteElement.value=p(Yt.latestSelectedDateObj?Yt.latestSelectedDateObj.getMinutes():Yt.config.defaultMinute),Yt.hourElement.setAttribute("step",Yt.config.hourIncrement.toString()),Yt.minuteElement.setAttribute("step",Yt.config.minuteIncrement.toString()),Yt.hourElement.setAttribute("min",Yt.config.time_24hr?"0":"1"),Yt.hourElement.setAttribute("max",Yt.config.time_24hr?"23":"12"),Yt.minuteElement.setAttribute("min","0"),Yt.minuteElement.setAttribute("max","59"),Yt.timeContainer.appendChild(e),Yt.timeContainer.appendChild(t),Yt.timeContainer.appendChild(i),Yt.config.time_24hr&&Yt.timeContainer.classList.add("time24hr"),Yt.config.enableSeconds){Yt.timeContainer.classList.add("hasSeconds");var r=o("flatpickr-second");Yt.secondElement=r.getElementsByTagName("input")[0],Yt.secondElement.value=p(Yt.latestSelectedDateObj?Yt.latestSelectedDateObj.getSeconds():Yt.config.defaultSeconds),Yt.secondElement.setAttribute("step",Yt.minuteElement.getAttribute("step")),Yt.secondElement.setAttribute("min","0"),Yt.secondElement.setAttribute("max","59"),Yt.timeContainer.appendChild(n("span","flatpickr-time-separator",":")),Yt.timeContainer.appendChild(r)}return Yt.config.time_24hr||(Yt.amPM=n("span","flatpickr-am-pm",Yt.l10n.amPM[g((Yt.latestSelectedDateObj?Yt.hourElement.value:Yt.config.defaultHour)>11)]),Yt.amPM.title=Yt.l10n.toggleTitle,Yt.amPM.tabIndex=-1,Yt.timeContainer.appendChild(Yt.amPM)),Yt.timeContainer}function it(){Yt.weekdayContainer?i(Yt.weekdayContainer):Yt.weekdayContainer=n("div","flatpickr-weekdays");for(var t=Yt.config.showMonths;t--;){var e=n("div","flatpickr-weekdaycontainer");Yt.weekdayContainer.appendChild(e)}return rt(),Yt.weekdayContainer}function rt(){if(Yt.weekdayContainer){var t=Yt.l10n.firstDayOfWeek,e=Yt.l10n.weekdays.shorthand.slice();t>0&&t<e.length&&(e=e.splice(t,e.length).concat(e.splice(0,t)));for(var n=Yt.config.showMonths;n--;)Yt.weekdayContainer.children[n].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+e.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function ot(){Yt.calendarContainer.classList.add("hasWeeks");var t=n("div","flatpickr-weekwrapper");t.appendChild(n("span","flatpickr-weekday",Yt.l10n.weekAbbreviation));var e=n("div","flatpickr-weeks");return t.appendChild(e),{weekWrapper:t,weekNumbers:e}}function st(t,e){void 0===e&&(e=!0);var n=e?t:t-Yt.currentMonth;n<0&&!0===Yt._hidePrevMonthArrow||n>0&&!0===Yt._hideNextMonthArrow||(Yt.currentMonth+=n,(Yt.currentMonth<0||Yt.currentMonth>11)&&(Yt.currentYear+=Yt.currentMonth>11?1:-1,Yt.currentMonth=(Yt.currentMonth+12)%12,$t("onYearChange"),Z()),K(),$t("onMonthChange"),zt())}function at(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0),Yt.input.value="",void 0!==Yt.altInput&&(Yt.altInput.value=""),void 0!==Yt.mobileInput&&(Yt.mobileInput.value=""),Yt.selectedDates=[],Yt.latestSelectedDateObj=void 0,!0===e&&(Yt.currentYear=Yt._initialDate.getFullYear(),Yt.currentMonth=Yt._initialDate.getMonth()),Yt.showTimeInput=!1,!0===Yt.config.enableTime&&I(),Yt.redraw(),t&&$t("onChange")}function lt(){Yt.isOpen=!1,Yt.isMobile||(void 0!==Yt.calendarContainer&&Yt.calendarContainer.classList.remove("open"),void 0!==Yt._input&&Yt._input.classList.remove("active")),$t("onClose")}function ct(){void 0!==Yt.config&&$t("onDestroy");for(var t=Yt._handlers.length;t--;){var e=Yt._handlers[t];e.element.removeEventListener(e.event,e.handler,e.options)}if(Yt._handlers=[],Yt.mobileInput)Yt.mobileInput.parentNode&&Yt.mobileInput.parentNode.removeChild(Yt.mobileInput),Yt.mobileInput=void 0;else if(Yt.calendarContainer&&Yt.calendarContainer.parentNode)if(Yt.config.static&&Yt.calendarContainer.parentNode){var n=Yt.calendarContainer.parentNode;if(n.lastChild&&n.removeChild(n.lastChild),n.parentNode){for(;n.firstChild;)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}}else Yt.calendarContainer.parentNode.removeChild(Yt.calendarContainer);Yt.altInput&&(Yt.input.type="text",Yt.altInput.parentNode&&Yt.altInput.parentNode.removeChild(Yt.altInput),delete Yt.altInput),Yt.input&&(Yt.input.type=Yt.input._type,Yt.input.classList.remove("flatpickr-input"),Yt.input.removeAttribute("readonly"),Yt.input.value=""),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(t){try{delete Yt[t]}catch(t){}}))}function ut(t){return!(!Yt.config.appendTo||!Yt.config.appendTo.contains(t))||Yt.calendarContainer.contains(t)}function dt(t){if(Yt.isOpen&&!Yt.config.inline){var e=s(t),n=ut(e),i=e===Yt.input||e===Yt.altInput||Yt.element.contains(e)||t.path&&t.path.indexOf&&(~t.path.indexOf(Yt.input)||~t.path.indexOf(Yt.altInput)),r="blur"===t.type?i&&t.relatedTarget&&!ut(t.relatedTarget):!i&&!n&&!ut(t.relatedTarget),o=!Yt.config.ignoredFocusElements.some((function(t){return t.contains(e)}));r&&o&&(Yt.close(),"range"===Yt.config.mode&&1===Yt.selectedDates.length&&(Yt.clear(!1),Yt.redraw()))}}function ht(t){if(!(!t||Yt.config.minDate&&t<Yt.config.minDate.getFullYear()||Yt.config.maxDate&&t>Yt.config.maxDate.getFullYear())){var e=t,n=Yt.currentYear!==e;Yt.currentYear=e||Yt.currentYear,Yt.config.maxDate&&Yt.currentYear===Yt.config.maxDate.getFullYear()?Yt.currentMonth=Math.min(Yt.config.maxDate.getMonth(),Yt.currentMonth):Yt.config.minDate&&Yt.currentYear===Yt.config.minDate.getFullYear()&&(Yt.currentMonth=Math.max(Yt.config.minDate.getMonth(),Yt.currentMonth)),n&&(Yt.redraw(),$t("onYearChange"),Z())}}function ft(t,e){void 0===e&&(e=!0);var n=Yt.parseDate(t,void 0,e);if(Yt.config.minDate&&n&&a(n,Yt.config.minDate,void 0!==e?e:!Yt.minDateHasTime)<0||Yt.config.maxDate&&n&&a(n,Yt.config.maxDate,void 0!==e?e:!Yt.maxDateHasTime)>0)return!1;if(0===Yt.config.enable.length&&0===Yt.config.disable.length)return!0;if(void 0===n)return!1;for(var i=Yt.config.enable.length>0,r=i?Yt.config.enable:Yt.config.disable,o=0,s=void 0;o<r.length;o++){if("function"==typeof(s=r[o])&&s(n))return i;if(s instanceof Date&&void 0!==n&&s.getTime()===n.getTime())return i;if("string"==typeof s&&void 0!==n){var l=Yt.parseDate(s,void 0,!0);return l&&l.getTime()===n.getTime()?i:!i}if("object"==typeof s&&void 0!==n&&s.from&&s.to&&n.getTime()>=s.from.getTime()&&n.getTime()<=s.to.getTime())return i}return!i}function pt(t){return void 0!==Yt.daysContainer&&(-1===t.className.indexOf("hidden")&&Yt.daysContainer.contains(t))}function gt(t){var e=t.target===Yt._input,n=Yt.config.allowInput,i=Yt.isOpen&&(!n||!e),r=Yt.config.inline&&e&&!n;if(13===t.keyCode&&e){if(n)return Yt.setDate(Yt._input.value,!0,t.target===Yt.altInput?Yt.config.altFormat:Yt.config.dateFormat),t.target.blur();Yt.open()}else if(ut(t.target)||i||r){var o=!!Yt.timeContainer&&Yt.timeContainer.contains(t.target);switch(t.keyCode){case 13:o?(t.preventDefault(),M(),St()):Tt(t);break;case 27:t.preventDefault(),St();break;case 8:case 46:e&&!Yt.config.allowInput&&(t.preventDefault(),Yt.clear());break;case 37:case 39:if(o||e)Yt.hourElement&&Yt.hourElement.focus();else if(t.preventDefault(),void 0!==Yt.daysContainer&&(!1===n||document.activeElement&&pt(document.activeElement))){var s=39===t.keyCode?1:-1;t.ctrlKey?(t.stopPropagation(),st(s),X(U(1),0)):X(void 0,s)}break;case 38:case 40:t.preventDefault();var a=40===t.keyCode?1:-1;Yt.daysContainer&&void 0!==t.target.$i||t.target===Yt.input||t.target===Yt.altInput?t.ctrlKey?(t.stopPropagation(),ht(Yt.currentYear-a),X(U(1),0)):o||X(void 0,7*a):t.target===Yt.currentYearElement?ht(Yt.currentYear-a):Yt.config.enableTime&&(!o&&Yt.hourElement&&Yt.hourElement.focus(),M(t),Yt._debouncedChange());break;case 9:if(o){var l=[Yt.hourElement,Yt.minuteElement,Yt.secondElement,Yt.amPM].concat(Yt.pluginElements).filter((function(t){return t})),c=l.indexOf(t.target);if(-1!==c){var u=l[c+(t.shiftKey?-1:1)];t.preventDefault(),(u||Yt._input).focus()}}else!Yt.config.noCalendar&&Yt.daysContainer&&Yt.daysContainer.contains(t.target)&&t.shiftKey&&(t.preventDefault(),Yt._input.focus())}}if(void 0!==Yt.amPM&&t.target===Yt.amPM)switch(t.key){case Yt.l10n.amPM[0].charAt(0):case Yt.l10n.amPM[0].charAt(0).toLowerCase():Yt.amPM.textContent=Yt.l10n.amPM[0],P(),jt();break;case Yt.l10n.amPM[1].charAt(0):case Yt.l10n.amPM[1].charAt(0).toLowerCase():Yt.amPM.textContent=Yt.l10n.amPM[1],P(),jt()}(e||ut(t.target))&&$t("onKeyDown",t)}function mt(t){if(1===Yt.selectedDates.length&&(!t||t.classList.contains("flatpickr-day")&&!t.classList.contains("flatpickr-disabled"))){for(var e=t?t.dateObj.getTime():Yt.days.firstElementChild.dateObj.getTime(),n=Yt.parseDate(Yt.selectedDates[0],void 0,!0).getTime(),i=Math.min(e,Yt.selectedDates[0].getTime()),r=Math.max(e,Yt.selectedDates[0].getTime()),o=!1,s=0,a=0,l=i;l<r;l+=S.DAY)ft(new Date(l),!0)||(o=o||l>i&&l<r,l<n&&(!s||l>s)?s=l:l>n&&(!a||l<a)&&(a=l));for(var c=0;c<Yt.config.showMonths;c++)for(var u=Yt.daysContainer.children[c],d=function(i){var r=u.children[i],l=r.dateObj.getTime(),c=s>0&&l<s||a>0&&l>a;return c?(r.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach((function(t){r.classList.remove(t)})),"continue"):o&&!c?"continue":(["startRange","inRange","endRange","notAllowed"].forEach((function(t){r.classList.remove(t)})),void(void 0!==t&&(t.classList.add(e<=Yt.selectedDates[0].getTime()?"startRange":"endRange"),n<e&&l===n?r.classList.add("startRange"):n>e&&l===n&&r.classList.add("endRange"),l>=s&&(0===a||l<=a)&&k(l,n,e)&&r.classList.add("inRange"))))},h=0,f=u.children.length;h<f;h++)d(h,f)}}function vt(){!Yt.isOpen||Yt.config.static||Yt.config.inline||_t()}function yt(){Yt.setDate(void 0!==Yt.config.minDate?new Date(Yt.config.minDate.getTime()):new Date,!0),I(),jt()}function bt(t,e){if(void 0===e&&(e=Yt._positionElement),!0===Yt.isMobile)return t&&(t.preventDefault(),t.target&&t.target.blur()),void 0!==Yt.mobileInput&&(Yt.mobileInput.focus(),Yt.mobileInput.click()),void $t("onOpen");if(!Yt._input.disabled&&!Yt.config.inline){var n=Yt.isOpen;Yt.isOpen=!0,n||(Yt.calendarContainer.classList.add("open"),Yt._input.classList.add("active"),$t("onOpen"),_t(e)),!0===Yt.config.enableTime&&!0===Yt.config.noCalendar&&(0===Yt.selectedDates.length&&yt(),!1!==Yt.config.allowInput||void 0!==t&&Yt.timeContainer.contains(t.relatedTarget)||setTimeout((function(){return Yt.hourElement.select()}),50))}}function wt(t){return function(e){var n=Yt.config["_"+t+"Date"]=Yt.parseDate(e,Yt.config.dateFormat),i=Yt.config["_"+("min"===t?"max":"min")+"Date"];void 0!==n&&(Yt["min"===t?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),Yt.selectedDates&&(Yt.selectedDates=Yt.selectedDates.filter((function(t){return ft(t)})),Yt.selectedDates.length||"min"!==t||L(n),jt()),Yt.daysContainer&&(kt(),void 0!==n?Yt.currentYearElement[t]=n.getFullYear().toString():Yt.currentYearElement.removeAttribute(t),Yt.currentYearElement.disabled=!!i&&void 0!==n&&i.getFullYear()===n.getFullYear())}}function xt(){var t=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],e=u({},c,JSON.parse(JSON.stringify(l.dataset||{}))),n={};Yt.config.parseDate=e.parseDate,Yt.config.formatDate=e.formatDate,Object.defineProperty(Yt.config,"enable",{get:function(){return Yt.config._enable},set:function(t){Yt.config._enable=At(t)}}),Object.defineProperty(Yt.config,"disable",{get:function(){return Yt.config._disable},set:function(t){Yt.config._disable=At(t)}});var i="time"===e.mode;if(!e.dateFormat&&(e.enableTime||i)){var r=D.defaultConfig.dateFormat||h.dateFormat;n.dateFormat=e.noCalendar||i?"H:i"+(e.enableSeconds?":S":""):r+" H:i"+(e.enableSeconds?":S":"")}if(e.altInput&&(e.enableTime||i)&&!e.altFormat){var o=D.defaultConfig.altFormat||h.altFormat;n.altFormat=e.noCalendar||i?"h:i"+(e.enableSeconds?":S K":" K"):o+" h:i"+(e.enableSeconds?":S":"")+" K"}e.altInputClass||(Yt.config.altInputClass=Yt.input.className+" "+Yt.config.altInputClass),Object.defineProperty(Yt.config,"minDate",{get:function(){return Yt.config._minDate},set:wt("min")}),Object.defineProperty(Yt.config,"maxDate",{get:function(){return Yt.config._maxDate},set:wt("max")});var s=function(t){return function(e){Yt.config["min"===t?"_minTime":"_maxTime"]=Yt.parseDate(e,"H:i:S")}};Object.defineProperty(Yt.config,"minTime",{get:function(){return Yt.config._minTime},set:s("min")}),Object.defineProperty(Yt.config,"maxTime",{get:function(){return Yt.config._maxTime},set:s("max")}),"time"===e.mode&&(Yt.config.noCalendar=!0,Yt.config.enableTime=!0),Object.assign(Yt.config,n,e);for(var a=0;a<t.length;a++)Yt.config[t[a]]=!0===Yt.config[t[a]]||"true"===Yt.config[t[a]];d.filter((function(t){return void 0!==Yt.config[t]})).forEach((function(t){Yt.config[t]=m(Yt.config[t]||[]).map(x)})),Yt.isMobile=!Yt.config.disableMobile&&!Yt.config.inline&&"single"===Yt.config.mode&&!Yt.config.disable.length&&!Yt.config.enable.length&&!Yt.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(a=0;a<Yt.config.plugins.length;a++){var f=Yt.config.plugins[a](Yt)||{};for(var p in f)d.indexOf(p)>-1?Yt.config[p]=m(f[p]).map(x).concat(Yt.config[p]):void 0===e[p]&&(Yt.config[p]=f[p])}$t("onParseConfig")}function Ct(){"object"!=typeof Yt.config.locale&&void 0===D.l10ns[Yt.config.locale]&&Yt.config.errorHandler(new Error("flatpickr: invalid locale "+Yt.config.locale)),Yt.l10n=u({},D.l10ns.default,"object"==typeof Yt.config.locale?Yt.config.locale:"default"!==Yt.config.locale?D.l10ns[Yt.config.locale]:void 0),w.K="("+Yt.l10n.amPM[0]+"|"+Yt.l10n.amPM[1]+"|"+Yt.l10n.amPM[0].toLowerCase()+"|"+Yt.l10n.amPM[1].toLowerCase()+")",void 0===u({},c,JSON.parse(JSON.stringify(l.dataset||{}))).time_24hr&&void 0===D.defaultConfig.time_24hr&&(Yt.config.time_24hr=Yt.l10n.time_24hr),Yt.formatDate=C(Yt),Yt.parseDate=_({config:Yt.config,l10n:Yt.l10n})}function _t(t){if(void 0!==Yt.calendarContainer){$t("onPreCalendarPosition");var n=t||Yt._positionElement,i=Array.prototype.reduce.call(Yt.calendarContainer.children,(function(t,e){return t+e.offsetHeight}),0),r=Yt.calendarContainer.offsetWidth,o=Yt.config.position.split(" "),s=o[0],a=o.length>1?o[1]:null,l=n.getBoundingClientRect(),c=window.innerHeight-l.bottom,u="above"===s||"below"!==s&&c<i&&l.top>i,d=window.pageYOffset+l.top+(u?-i-2:n.offsetHeight+2);if(e(Yt.calendarContainer,"arrowTop",!u),e(Yt.calendarContainer,"arrowBottom",u),!Yt.config.inline){var h=window.pageXOffset+l.left-(null!=a&&"center"===a?(r-l.width)/2:0),f=window.document.body.offsetWidth-(window.pageXOffset+l.right),p=h+r>window.document.body.offsetWidth,g=f+r>window.document.body.offsetWidth;if(e(Yt.calendarContainer,"rightMost",p),!Yt.config.static)if(Yt.calendarContainer.style.top=d+"px",p)if(g){var m=document.styleSheets[0];if(void 0===m)return;var v=window.document.body.offsetWidth,y=Math.max(0,v/2-r/2),b=".flatpickr-calendar.centerMost:before",w=".flatpickr-calendar.centerMost:after",x=m.cssRules.length,C="{left:"+l.left+"px;right:auto;}";e(Yt.calendarContainer,"rightMost",!1),e(Yt.calendarContainer,"centerMost",!0),m.insertRule(b+","+w+C,x),Yt.calendarContainer.style.left=y+"px",Yt.calendarContainer.style.right="auto"}else Yt.calendarContainer.style.left="auto",Yt.calendarContainer.style.right=f+"px";else Yt.calendarContainer.style.left=h+"px",Yt.calendarContainer.style.right="auto"}}}function kt(){Yt.config.noCalendar||Yt.isMobile||(zt(),K())}function St(){Yt._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(Yt.close,0):Yt.close()}function Tt(t){t.preventDefault(),t.stopPropagation();var e=function(t){return t.classList&&t.classList.contains("flatpickr-day")&&!t.classList.contains("flatpickr-disabled")&&!t.classList.contains("notAllowed")},n=r(t.target,e);if(void 0!==n){var i=n,o=Yt.latestSelectedDateObj=new Date(i.dateObj.getTime()),s=(o.getMonth()<Yt.currentMonth||o.getMonth()>Yt.currentMonth+Yt.config.showMonths-1)&&"range"!==Yt.config.mode;if(Yt.selectedDateElem=i,"single"===Yt.config.mode)Yt.selectedDates=[o];else if("multiple"===Yt.config.mode){var l=Ht(o);l?Yt.selectedDates.splice(parseInt(l),1):Yt.selectedDates.push(o)}else"range"===Yt.config.mode&&(2===Yt.selectedDates.length&&Yt.clear(!1,!1),Yt.latestSelectedDateObj=o,Yt.selectedDates.push(o),0!==a(o,Yt.selectedDates[0],!0)&&Yt.selectedDates.sort((function(t,e){return t.getTime()-e.getTime()})));if(P(),s){var c=Yt.currentYear!==o.getFullYear();Yt.currentYear=o.getFullYear(),Yt.currentMonth=o.getMonth(),c&&($t("onYearChange"),Z()),$t("onMonthChange")}if(zt(),K(),jt(),Yt.config.enableTime&&setTimeout((function(){return Yt.showTimeInput=!0}),50),s||"range"===Yt.config.mode||1!==Yt.config.showMonths?void 0!==Yt.selectedDateElem&&void 0===Yt.hourElement&&Yt.selectedDateElem&&Yt.selectedDateElem.focus():V(i),void 0!==Yt.hourElement&&void 0!==Yt.hourElement&&Yt.hourElement.focus(),Yt.config.closeOnSelect){var u="single"===Yt.config.mode&&!Yt.config.enableTime,d="range"===Yt.config.mode&&2===Yt.selectedDates.length&&!Yt.config.enableTime;(u||d)&&St()}z()}}function Dt(t,e){if(null!==t&&"object"==typeof t)for(var n in Object.assign(Yt.config,t),t)void 0!==qt[n]&&qt[n].forEach((function(t){return t()}));else Yt.config[t]=e,void 0!==qt[t]?qt[t].forEach((function(t){return t()})):d.indexOf(t)>-1&&(Yt.config[t]=m(e));Yt.redraw(),jt(!1)}function Et(t,e){var n=[];if(t instanceof Array)n=t.map((function(t){return Yt.parseDate(t,e)}));else if(t instanceof Date||"number"==typeof t)n=[Yt.parseDate(t,e)];else if("string"==typeof t)switch(Yt.config.mode){case"single":case"time":n=[Yt.parseDate(t,e)];break;case"multiple":n=t.split(Yt.config.conjunction).map((function(t){return Yt.parseDate(t,e)}));break;case"range":n=t.split(Yt.l10n.rangeSeparator).map((function(t){return Yt.parseDate(t,e)}))}else Yt.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(t)));Yt.selectedDates=n.filter((function(t){return t instanceof Date&&ft(t,!1)})),"range"===Yt.config.mode&&Yt.selectedDates.sort((function(t,e){return t.getTime()-e.getTime()}))}function Mt(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=Yt.config.dateFormat),0!==t&&!t||t instanceof Array&&0===t.length)return Yt.clear(e);Et(t,n),Yt.showTimeInput=Yt.selectedDates.length>0,Yt.latestSelectedDateObj=Yt.selectedDates[Yt.selectedDates.length-1],Yt.redraw(),j(),L(),0===Yt.selectedDates.length&&Yt.clear(!1),jt(e),e&&$t("onChange")}function At(t){return t.slice().map((function(t){return"string"==typeof t||"number"==typeof t||t instanceof Date?Yt.parseDate(t,void 0,!0):t&&"object"==typeof t&&t.from&&t.to?{from:Yt.parseDate(t.from,void 0),to:Yt.parseDate(t.to,void 0)}:t})).filter((function(t){return t}))}function Ot(){Yt.selectedDates=[],Yt.now=Yt.parseDate(Yt.config.now)||new Date;var t=Yt.config.defaultDate||("INPUT"!==Yt.input.nodeName&&"TEXTAREA"!==Yt.input.nodeName||!Yt.input.placeholder||Yt.input.value!==Yt.input.placeholder?Yt.input.value:null);t&&Et(t,Yt.config.dateFormat),Yt._initialDate=Yt.selectedDates.length>0?Yt.selectedDates[0]:Yt.config.minDate&&Yt.config.minDate.getTime()>Yt.now.getTime()?Yt.config.minDate:Yt.config.maxDate&&Yt.config.maxDate.getTime()<Yt.now.getTime()?Yt.config.maxDate:Yt.now,Yt.currentYear=Yt._initialDate.getFullYear(),Yt.currentMonth=Yt._initialDate.getMonth(),Yt.selectedDates.length>0&&(Yt.latestSelectedDateObj=Yt.selectedDates[0]),void 0!==Yt.config.minTime&&(Yt.config.minTime=Yt.parseDate(Yt.config.minTime,"H:i")),void 0!==Yt.config.maxTime&&(Yt.config.maxTime=Yt.parseDate(Yt.config.maxTime,"H:i")),Yt.minDateHasTime=!!Yt.config.minDate&&(Yt.config.minDate.getHours()>0||Yt.config.minDate.getMinutes()>0||Yt.config.minDate.getSeconds()>0),Yt.maxDateHasTime=!!Yt.config.maxDate&&(Yt.config.maxDate.getHours()>0||Yt.config.maxDate.getMinutes()>0||Yt.config.maxDate.getSeconds()>0),Object.defineProperty(Yt,"showTimeInput",{get:function(){return Yt._showTimeInput},set:function(t){Yt._showTimeInput=t,Yt.calendarContainer&&e(Yt.calendarContainer,"showTimeInput",t),Yt.isOpen&&_t()}})}function Pt(){Yt.input=Yt.config.wrap?l.querySelector("[data-input]"):l,Yt.input?(Yt.input._type=Yt.input.type,Yt.input.type="text",Yt.input.classList.add("flatpickr-input"),Yt._input=Yt.input,Yt.config.altInput&&(Yt.altInput=n(Yt.input.nodeName,Yt.config.altInputClass),Yt._input=Yt.altInput,Yt.altInput.placeholder=Yt.input.placeholder,Yt.altInput.disabled=Yt.input.disabled,Yt.altInput.required=Yt.input.required,Yt.altInput.tabIndex=Yt.input.tabIndex,Yt.altInput.type="text",Yt.input.setAttribute("type","hidden"),!Yt.config.static&&Yt.input.parentNode&&Yt.input.parentNode.insertBefore(Yt.altInput,Yt.input.nextSibling)),Yt.config.allowInput||Yt._input.setAttribute("readonly","readonly"),Yt._positionElement=Yt.config.positionElement||Yt._input):Yt.config.errorHandler(new Error("Invalid input element specified"))}function Lt(){var t=Yt.config.enableTime?Yt.config.noCalendar?"time":"datetime-local":"date";Yt.mobileInput=n("input",Yt.input.className+" flatpickr-mobile"),Yt.mobileInput.step=Yt.input.getAttribute("step")||"any",Yt.mobileInput.tabIndex=1,Yt.mobileInput.type=t,Yt.mobileInput.disabled=Yt.input.disabled,Yt.mobileInput.required=Yt.input.required,Yt.mobileInput.placeholder=Yt.input.placeholder,Yt.mobileFormatStr="datetime-local"===t?"Y-m-d\\TH:i:S":"date"===t?"Y-m-d":"H:i:S",Yt.selectedDates.length>0&&(Yt.mobileInput.defaultValue=Yt.mobileInput.value=Yt.formatDate(Yt.selectedDates[0],Yt.mobileFormatStr)),Yt.config.minDate&&(Yt.mobileInput.min=Yt.formatDate(Yt.config.minDate,"Y-m-d")),Yt.config.maxDate&&(Yt.mobileInput.max=Yt.formatDate(Yt.config.maxDate,"Y-m-d")),Yt.input.type="hidden",void 0!==Yt.altInput&&(Yt.altInput.type="hidden");try{Yt.input.parentNode&&Yt.input.parentNode.insertBefore(Yt.mobileInput,Yt.input.nextSibling)}catch(t){}H(Yt.mobileInput,"change",(function(t){Yt.setDate(t.target.value,!1,Yt.mobileFormatStr),$t("onChange"),$t("onClose")}))}function It(t){if(!0===Yt.isOpen)return Yt.close();Yt.open(t)}function $t(t,e){if(void 0!==Yt.config){var n=Yt.config[t];if(void 0!==n&&n.length>0)for(var i=0;n[i]&&i<n.length;i++)n[i](Yt.selectedDates,Yt.input.value,Yt,e);"onChange"===t&&(Yt.input.dispatchEvent(Ft("change")),Yt.input.dispatchEvent(Ft("input")))}}function Ft(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e}function Ht(t){for(var e=0;e<Yt.selectedDates.length;e++)if(0===a(Yt.selectedDates[e],t))return""+e;return!1}function Nt(t){return!("range"!==Yt.config.mode||Yt.selectedDates.length<2)&&(a(t,Yt.selectedDates[0])>=0&&a(t,Yt.selectedDates[1])<=0)}function zt(){Yt.config.noCalendar||Yt.isMobile||!Yt.monthNav||(Yt.yearElements.forEach((function(t,e){var n=new Date(Yt.currentYear,Yt.currentMonth,1);n.setMonth(Yt.currentMonth+e),Yt.config.showMonths>1||"static"===Yt.config.monthSelectorType?Yt.monthElements[e].textContent=y(n.getMonth(),Yt.config.shorthandCurrentMonth,Yt.l10n)+" ":Yt.monthsDropdownContainer.value=n.getMonth().toString(),t.value=n.getFullYear().toString()})),Yt._hidePrevMonthArrow=void 0!==Yt.config.minDate&&(Yt.currentYear===Yt.config.minDate.getFullYear()?Yt.currentMonth<=Yt.config.minDate.getMonth():Yt.currentYear<Yt.config.minDate.getFullYear()),Yt._hideNextMonthArrow=void 0!==Yt.config.maxDate&&(Yt.currentYear===Yt.config.maxDate.getFullYear()?Yt.currentMonth+1>Yt.config.maxDate.getMonth():Yt.currentYear>Yt.config.maxDate.getFullYear()))}function Bt(t){return Yt.selectedDates.map((function(e){return Yt.formatDate(e,t)})).filter((function(t,e,n){return"range"!==Yt.config.mode||Yt.config.enableTime||n.indexOf(t)===e})).join("range"!==Yt.config.mode?Yt.config.conjunction:Yt.l10n.rangeSeparator)}function jt(t){void 0===t&&(t=!0),void 0!==Yt.mobileInput&&Yt.mobileFormatStr&&(Yt.mobileInput.value=void 0!==Yt.latestSelectedDateObj?Yt.formatDate(Yt.latestSelectedDateObj,Yt.mobileFormatStr):""),Yt.input.value=Bt(Yt.config.dateFormat),void 0!==Yt.altInput&&(Yt.altInput.value=Bt(Yt.config.altFormat)),!1!==t&&$t("onValueUpdate")}function Rt(t){var e=Yt.prevMonthNav.contains(t.target),n=Yt.nextMonthNav.contains(t.target);e||n?st(e?-1:1):Yt.yearElements.indexOf(t.target)>=0?t.target.select():t.target.classList.contains("arrowUp")?Yt.changeYear(Yt.currentYear+1):t.target.classList.contains("arrowDown")&&Yt.changeYear(Yt.currentYear-1)}function Wt(t){t.preventDefault();var e="keydown"===t.type,n=t.target;void 0!==Yt.amPM&&t.target===Yt.amPM&&(Yt.amPM.textContent=Yt.l10n.amPM[g(Yt.amPM.textContent===Yt.l10n.amPM[0])]);var i=parseFloat(n.getAttribute("min")),r=parseFloat(n.getAttribute("max")),o=parseFloat(n.getAttribute("step")),s=parseInt(n.value,10),a=s+o*(t.delta||(e?38===t.which?1:-1:0));if(void 0!==n.value&&2===n.value.length){var l=n===Yt.hourElement,c=n===Yt.minuteElement;a<i?(a=r+a+g(!l)+(g(l)&&g(!Yt.amPM)),c&&W(void 0,-1,Yt.hourElement)):a>r&&(a=n===Yt.hourElement?a-r-g(!Yt.amPM):i,c&&W(void 0,1,Yt.hourElement)),Yt.amPM&&l&&(1===o?a+s===23:Math.abs(a-s)>o)&&(Yt.amPM.textContent=Yt.l10n.amPM[g(Yt.amPM.textContent===Yt.l10n.amPM[0])]),n.value=p(a)}}var Yt={config:u({},h,D.defaultConfig),l10n:f};Yt.parseDate=_({config:Yt.config,l10n:Yt.l10n}),Yt._handlers=[],Yt.pluginElements=[],Yt.loadedPlugins=[],Yt._bind=H,Yt._setHoursFromDate=L,Yt._positionCalendar=_t,Yt.changeMonth=st,Yt.changeYear=ht,Yt.clear=at,Yt.close=lt,Yt._createElement=n,Yt.destroy=ct,Yt.isEnabled=ft,Yt.jumpToDate=j,Yt.open=bt,Yt.redraw=kt,Yt.set=Dt,Yt.setDate=Mt,Yt.toggle=It;var qt={locale:[Ct,rt],showMonths:[tt,E,it],minDate:[j],maxDate:[j]};return b(),Yt}function c(t,e){for(var n=Array.prototype.slice.call(t).filter((function(t){return t instanceof HTMLElement})),i=[],r=0;r<n.length;r++){var o=n[r];try{if(null!==o.getAttribute("data-fp-omit"))continue;void 0!==o._flatpickr&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=l(o,e||{}),i.push(o._flatpickr)}catch(t){console.error(t)}}return 1===i.length?i[0]:i}var u=function(){return u=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},u.apply(this,arguments)},d=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],h={_disable:[],_enable:[],allowInput:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:function(t){return"undefined"!=typeof console&&console.warn(t)},getWeek:function(t){var e=new Date(t.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var n=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},f={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(t){var e=t%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},p=function(t){return("0"+t).slice(-2)},g=function(t){return!0===t?1:0},m=function(t){return t instanceof Array?t:[t]},v=function(){},y=function(t,e,n){return n.months[e?"shorthand":"longhand"][t]},b={D:v,F:function(t,e,n){t.setMonth(n.months.longhand.indexOf(e))},G:function(t,e){t.setHours(parseFloat(e))},H:function(t,e){t.setHours(parseFloat(e))},J:function(t,e){t.setDate(parseFloat(e))},K:function(t,e,n){t.setHours(t.getHours()%12+12*g(new RegExp(n.amPM[1],"i").test(e)))},M:function(t,e,n){t.setMonth(n.months.shorthand.indexOf(e))},S:function(t,e){t.setSeconds(parseFloat(e))},U:function(t,e){return new Date(1e3*parseFloat(e))},W:function(t,e,n){var i=parseInt(e),r=new Date(t.getFullYear(),0,2+7*(i-1),0,0,0,0);return r.setDate(r.getDate()-r.getDay()+n.firstDayOfWeek),r},Y:function(t,e){t.setFullYear(parseFloat(e))},Z:function(t,e){return new Date(e)},d:function(t,e){t.setDate(parseFloat(e))},h:function(t,e){t.setHours(parseFloat(e))},i:function(t,e){t.setMinutes(parseFloat(e))},j:function(t,e){t.setDate(parseFloat(e))},l:v,m:function(t,e){t.setMonth(parseFloat(e)-1)},n:function(t,e){t.setMonth(parseFloat(e)-1)},s:function(t,e){t.setSeconds(parseFloat(e))},u:function(t,e){return new Date(parseFloat(e))},w:v,y:function(t,e){t.setFullYear(2e3+parseFloat(e))}},w={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},x={Z:function(t){return t.toISOString()},D:function(t,e,n){return e.weekdays.shorthand[x.w(t,e,n)]},F:function(t,e,n){return y(x.n(t,e,n)-1,!1,e)},G:function(t,e,n){return p(x.h(t,e,n))},H:function(t){return p(t.getHours())},J:function(t,e){return void 0!==e.ordinal?t.getDate()+e.ordinal(t.getDate()):t.getDate()},K:function(t,e){return e.amPM[g(t.getHours()>11)]},M:function(t,e){return y(t.getMonth(),!0,e)},S:function(t){
return p(t.getSeconds())},U:function(t){return t.getTime()/1e3},W:function(t,e,n){return n.getWeek(t)},Y:function(t){return t.getFullYear()},d:function(t){return p(t.getDate())},h:function(t){return t.getHours()%12?t.getHours()%12:12},i:function(t){return p(t.getMinutes())},j:function(t){return t.getDate()},l:function(t,e){return e.weekdays.longhand[t.getDay()]},m:function(t){return p(t.getMonth()+1)},n:function(t){return t.getMonth()+1},s:function(t){return t.getSeconds()},u:function(t){return t.getTime()},w:function(t){return t.getDay()},y:function(t){return String(t.getFullYear()).substring(2)}},C=function(t){var e=t.config,n=void 0===e?h:e,i=t.l10n,r=void 0===i?f:i;return function(t,e,i){var o=i||r;return void 0!==n.formatDate?n.formatDate(t,e,o):e.split("").map((function(e,i,r){return x[e]&&"\\"!==r[i-1]?x[e](t,o,n):"\\"!==e?e:""})).join("")}},_=function(t){var e=t.config,n=void 0===e?h:e,i=t.l10n,r=void 0===i?f:i;return function(t,e,i,o){if(0===t||t){var s,a=o||r,l=t;if(t instanceof Date)s=new Date(t.getTime());else if("string"!=typeof t&&void 0!==t.toFixed)s=new Date(t);else if("string"==typeof t){var c=e||(n||h).dateFormat,u=String(t).trim();if("today"===u)s=new Date,i=!0;else if(/Z$/.test(u)||/GMT$/.test(u))s=new Date(t);else if(n&&n.parseDate)s=n.parseDate(t,c);else{s=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var d=void 0,f=[],p=0,g=0,m="";p<c.length;p++){var v=c[p],y="\\"===v,x="\\"===c[p-1]||y;if(w[v]&&!x){m+=w[v];var C=new RegExp(m).exec(t);C&&(d=!0)&&f["Y"!==v?"push":"unshift"]({fn:b[v],val:C[++g]})}else y||(m+=".");f.forEach((function(t){var e=t.fn,n=t.val;return s=e(s,n,a)||s}))}s=d?s:void 0}}if(s instanceof Date&&!isNaN(s.getTime()))return!0===i&&s.setHours(0,0,0,0),s;n.errorHandler(new Error("Invalid date provided: "+l))}}},k=function(t,e,n){return t>Math.min(e,n)&&t<Math.max(e,n)},S={DAY:864e5};"function"!=typeof Object.assign&&(Object.assign=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!t)throw TypeError("Cannot convert undefined or null to object");for(var i=function(e){e&&Object.keys(e).forEach((function(n){return t[n]=e[n]}))},r=0,o=e;r<o.length;r++){i(o[r])}return t});var T=300;"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return c(this,t)},HTMLElement.prototype.flatpickr=function(t){return c([this],t)});var D=function(t,e){return"string"==typeof t?c(window.document.querySelectorAll(t),e):t instanceof Node?c([t],e):c(t,e)};return D.defaultConfig={},D.l10ns={en:u({},f),default:u({},f)},D.localize=function(t){D.l10ns.default=u({},D.l10ns.default,t)},D.setDefaults=function(t){D.defaultConfig=u({},D.defaultConfig,t)},D.parseDate=_({}),D.formatDate=C({}),D.compareDates=a,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(t){return c(this,t)}),Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof t?parseInt(t,10):t))},"undefined"!=typeof window&&(window.flatpickr=D),D})),function(){var t,e,n,i,r,o;t=24,i=void 0,o=void 0,r=void 0,n=void 0,e=!1,this.touch_calendar_resizeX=function(t){var r,s;n&&(s=n,r=t.changedTouches[0].clientX-i,window.getComputedStyle(s),flex_get_span(s),flex_set_span(s,""+Math.floor(r+o)),(Math.abs(r)>=20||e)&&(e=!0),t.stopPropagation())},this.flex_calendar_resizeX=function(t){var r,s;n&&(s=n,r=t.x-i,window.getComputedStyle(s),flex_get_span(s),flex_set_span(s,""+Math.floor(r+o)),(Math.abs(r)>=20||e)&&(e=!0),t.stopPropagation())},this.touch_calendar_move=function(t){var o,s;n&&(s=$(n),o=t.changedTouches[0].clientX-i,s.css("left"),(Math.abs(o)>=20||e)&&(s.css("left",Math.floor(o+parseInt(r))+"px"),e=!0),t.stopPropagation())},this.flex_calendar_move=function(t){var o,s;n&&(s=$(n),o=t.x-i,s.css("left"),(Math.abs(o)>=20||e)&&(s.css("left",Math.floor(o+parseInt(r))+"px"),e=!0),t.stopPropagation())},this.flex_calendar_update=function(){var t,i,r,o,s,a,l,c;if(n&&e)return(i=$(n)).css("left"),flex_get_span(n),o=$(i).position(),c=(l=$(i).parent(".swimlane")).outerWidth(),r=l.data("minutes")/c,a=o.left*r,t=i.outerWidth()*r,document.removeEventListener("mousemove",touch_calendar_resizeX,!0),document.removeEventListener("mousemove",flex_calendar_move,!0),s={id:i.data("booking-id"),start_pos:a,duration:t},n=void 0,$.ajax({url:"/calendar/bookings/"+i.data("booking-id"),data:s,method:"PATCH",error:function(t){return console.debug(t)}})},this.flex_calendar_setup=function(){return $(".daygrid-event.locked").on("dragstart",(function(){return swal({title:"",html:"This item may not be moved visually.  Edit the item to adjust the starting and ending times.",type:"warning",backdrop:!1,showConfirmButton:!1,timer:2250,toast:!0,position:"top-end"})})),$(".daygrid-event:not('.locked,.touch-active')").on("touchend",(function(t){return $(".touch-active").removeClass("touch-active"),$(t.currentTarget).addClass("touch-active")})),$(".daygrid-event:not(.locked)").on("touchstart",(function(s){var a,l,c,u;u=s.originalEvent,$(s.currentTarget).hasClass("touch-active")&&((c=u.touches[0].clientX)>(a=s.target.getBoundingClientRect()).right-1.5*t?(s.preventDefault(),n=s.currentTarget,i=c,l=window.getComputedStyle(n),o=parseInt(l.width),document.addEventListener("touchmove",touch_calendar_resizeX,!0),document.removeEventListener("touchmove",touch_calendar_move,!0)):c>a.left&&c<a.left+1.5*t?(s.preventDefault(),n=s.currentTarget,i=c,l=window.getComputedStyle(n),r=$(n).css("left"),document.addEventListener("touchmove",touch_calendar_move,!0),document.removeEventListener("touchmove",touch_calendar_resizeX,!0)):(n=void 0,e=!1,document.removeEventListener("touchmove",touch_calendar_resizeX,!0)))})),$(".daygrid-event:not('.locked')").on("mousedown",(function(e){var s;e.preventDefault(),e.originalEvent.sourceCapabilities&&e.originalEvent.sourceCapabilities.firesTouchEvents||(e.offsetX>e.target.offsetWidth-t&&0===e.button?(n=e.currentTarget,i=e.pageX,s=window.getComputedStyle(n),o=parseInt(s.width),document.addEventListener("mousemove",flex_calendar_resizeX,!0),document.removeEventListener("mousemove",flex_calendar_move,!0)):0===e.button&&(n=e.currentTarget,i=e.pageX,s=window.getComputedStyle(n),r=$(n).css("left"),document.addEventListener("mousemove",flex_calendar_move,!0),document.removeEventListener("mousemove",flex_calendar_resizeX,!0)))})),$(document).on("mouseup touchend",(function(){e&&flex_calendar_update(),n=void 0,e=!1}))},this.flex_resize_cursor=function(e){var n;if(n=$(e.currentTarget),e.clientX>n.width()-t)return n.css("cursor","ew-resize")},this.flex_get_span=function(t){var e;return e=window.getComputedStyle(t),parseInt(e.getPropertyValue("--span"))},this.flex_set_span=function(t,e){window.getComputedStyle(t),$(t).css("width",e)}}.call(this),function(){this.init_fragments=function(){return $(document).on("fragment:refresh",'[behavior~="fragment"]',(function(){var t;if(t=$(this).attr("url"))return ajax_replace_target(t,this)}))}}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}((function(t,e){function n(t){return U(t,Ut)}function i(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function r(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function o(){t("body").addClass("fc-not-allowed")}function s(){t("body").removeClass("fc-not-allowed")}function a(e,n,i){var r=Math.floor(n/e.length),o=Math.floor(n-r*(e.length-1)),s=[],a=[],c=[],u=0;l(e),e.each((function(n,i){var l=n===e.length-1?o:r,d=t(i).outerHeight(!0);d<l?(s.push(i),a.push(d),c.push(t(i).height())):u+=d})),i&&(n-=u,r=Math.floor(n/s.length),o=Math.floor(n-r*(s.length-1))),t(s).each((function(e,n){var i=e===s.length-1?o:r,l=a[e],u=i-(l-c[e]);l<i&&t(n).height(u)}))}function l(t){t.height("")}function c(e){var n=0;return e.find("> *").each((function(e,i){var r=t(i).outerWidth();r>n&&(n=r)})),n++,e.width(n),n}function u(t,e){var n,i=t.add(e);return i.css({position:"relative",left:-1}),n=t.outerHeight()-e.outerHeight(),i.css({position:"",left:""}),n}function d(e){var n=e.css("position"),i=e.parents().filter((function(){var e=t(this);return/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))})).eq(0);return"fixed"!==n&&i.length?i:t(e[0].ownerDocument||document)}function h(t,e){var n=t.offset(),i=n.left-(e?e.left:0),r=n.top-(e?e.top:0);return{left:i,right:i+t.outerWidth(),top:r,bottom:r+t.outerHeight()}}function f(t,e){var n=t.offset(),i=g(t),r=n.left+y(t,"border-left-width")+i.left-(e?e.left:0),o=n.top+y(t,"border-top-width")+i.top-(e?e.top:0);return{left:r,right:r+t[0].clientWidth,top:o,bottom:o+t[0].clientHeight}}function p(t,e){var n=t.offset(),i=n.left+y(t,"border-left-width")+y(t,"padding-left")-(e?e.left:0),r=n.top+y(t,"border-top-width")+y(t,"padding-top")-(e?e.top:0);return{left:i,right:i+t.width(),top:r,bottom:r+t.height()}}function g(t){var e=t.innerWidth()-t[0].clientWidth,n={left:0,right:0,top:0,bottom:t.innerHeight()-t[0].clientHeight};return m()&&"rtl"==t.css("direction")?n.left=e:n.right=e,n}function m(){return null===Gt&&(Gt=v()),Gt}function v(){var e=t("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),n=e.children().offset().left>e.offset().left;return e.remove(),n}function y(t,e){return parseFloat(t.css(e))||0}function b(t){return 1==t.which&&!t.ctrlKey}function w(t){if(void 0!==t.pageX)return t.pageX;var e=t.originalEvent.touches;return e?e[0].pageX:void 0}function x(t){if(void 0!==t.pageY)return t.pageY;var e=t.originalEvent.touches;return e?e[0].pageY:void 0}function C(t){return/^touch/.test(t.type)}function _(t){t.addClass("fc-unselectable").on("selectstart",k)}function k(t){t.preventDefault()}function S(t){return!!window.addEventListener&&(window.addEventListener("scroll",t,!0),!0)}function T(t){return!!window.removeEventListener&&(window.removeEventListener("scroll",t,!0),!0)}function D(t,e){var n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom&&n}function E(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function M(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function A(t,e){return{left:t.left-e.left,top:t.top-e.top}}function O(e){var n,i,r=[],o=[];for("string"==typeof e?o=e.split(/\s*,\s*/):"function"==typeof e?o=[e]:t.isArray(e)&&(o=e),n=0;n<o.length;n++)"string"==typeof(i=o[n])?r.push("-"==i.charAt(0)?{field:i.substring(1),order:-1}:{field:i,order:1}):"function"==typeof i&&r.push({func:i});return r}function P(t,e,n){var i,r;for(i=0;i<n.length;i++)if(r=L(t,e,n[i]))return r;return 0}function L(t,e,n){return n.func?n.func(t,e):I(t[n.field],e[n.field])*(n.order||1)}function I(e,n){return e||n?null==n?-1:null==e?1:"string"===t.type(e)||"string"===t.type(n)?String(e).localeCompare(String(n)):e-n:0}function $(t,e){var n,i,r,o,s=t.start,a=t.end,l=e.start,c=e.end;if(a>l&&s<c)return s>=l?(n=s.clone(),r=!0):(n=l.clone(),r=!1),a<=c?(i=a.clone(),o=!0):(i=c.clone(),o=!1),{start:n,end:i,isStart:r,isEnd:o}}function F(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:t.time()-n.time()})}function H(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days")})}function N(t,n,i){return e.duration(Math.round(t.diff(n,i,!0)),i)}function z(t,e){var n,i,r;for(n=0;n<Qt.length&&!((r=B(i=Qt[n],t,e))>=1&&st(r));n++);return i}function B(t,n,i){return null!=i?i.diff(n,t,!0):e.isDuration(n)?n.as(t):n.end.diff(n.start,t,!0)}function j(t,e,n){var i;return Y(n)?(e-t)/n:(i=n.asMonths(),Math.abs(i)>=1&&st(i)?e.diff(t,"months",!0)/i:e.diff(t,"days",!0)/n.asDays())}function R(t,e){var n,i;return Y(t)||Y(e)?t/e:(n=t.asMonths(),i=e.asMonths(),Math.abs(n)>=1&&st(n)&&Math.abs(i)>=1&&st(i)?n/i:t.asDays()/e.asDays())}function W(t,n){var i;return Y(t)?e.duration(t*n):(i=t.asMonths(),Math.abs(i)>=1&&st(i)?e.duration({months:i*n}):e.duration({days:t.asDays()*n}))}function Y(t){return Boolean(t.hours()||t.minutes()||t.seconds()||t.milliseconds())}function q(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function V(t){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)}function U(t,e){var n,i,r,o,s,a,l={};if(e)for(n=0;n<e.length;n++){for(i=e[n],r=[],o=t.length-1;o>=0;o--)if("object"==typeof(s=t[o][i]))r.unshift(s);else if(void 0!==s){l[i]=s;break}r.length&&(l[i]=U(r))}for(n=t.length-1;n>=0;n--)for(i in a=t[n])i in l||(l[i]=a[i]);return l}function G(t){var e=function(){};return e.prototype=t,new e}function X(t,e){for(var n in t)Q(t,n)&&(e[n]=t[n])}function Q(t,e){return Kt.call(t,e)}function K(e){return/undefined|null|boolean|number|string/.test(t.type(e))}function Z(e,n,i){if(t.isFunction(e)&&(e=[e]),e){var r,o;for(r=0;r<e.length;r++)o=e[r].apply(n,i)||o;return o}}function J(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}function tt(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function et(t){return t.replace(/&.*?;/g,"")}function nt(e){var n=[];return t.each(e,(function(t,e){null!=e&&n.push(t+":"+e)})),n.join(";")}function it(e){var n=[];return t.each(e,(function(t,e){null!=e&&n.push(t+'="'+tt(e)+'"')})),n.join(" ")}function rt(t){return t.charAt(0).toUpperCase()+t.slice(1)}function ot(t,e){return t-e}function st(t){return t%1==0}function at(t,e){var n=t[e];return function(){return n.apply(t,arguments)}}function lt(t,e,n){var i,r,o,s,a,l=function(){var c=+new Date-s;c<e?i=setTimeout(l,e-c):(i=null,n||(a=t.apply(o,r),o=r=null))};return function(){o=this,r=arguments,s=+new Date;var c=n&&!i;return i||(i=setTimeout(l,e)),c&&(a=t.apply(o,r),o=r=null),a}}function ct(e,n){return e&&e.then&&"resolved"!==e.state()?n?e.then(n):void 0:t.when(n())}function ut(n,i,r){var o,s,a,l,c=n[0],u=1==n.length&&"string"==typeof c;return e.isMoment(c)||q(c)||void 0===c?l=e.apply(null,n):(o=!1,s=!1,u?Zt.test(c)?(n=[c+="-01"],o=!0,s=!0):(a=Jt.exec(c))&&(o=!a[5],s=!0):t.isArray(c)&&(s=!0),l=i||o?e.utc.apply(e,n):e.apply(null,n),o?(l._ambigTime=!0,l._ambigZone=!0):r&&(s?l._ambigZone=!0:u&&l.utcOffset(c))),l._fullCalendar=!0,l}function dt(t,e){return ee.format.call(t,e)}function ht(t,e){return ft(t,yt(e))}function ft(t,e){var n,i="";for(n=0;n<e.length;n++)i+=pt(t,e[n]);return i}function pt(t,e){var n,i;return"string"==typeof e?e:(n=e.token)?ie[n]?ie[n](t):dt(t,n):e.maybe&&(i=ft(t,e.maybe)).match(/[1-9]/)?i:""}function gt(t,e,n,i,r){var o;return t=qt.moment.parseZone(t),e=qt.moment.parseZone(e),o=t.localeData(),i=i||" - ",mt(t,e,yt(n=o.longDateFormat(n)||n),i,r)}function mt(t,e,n,i,r){var o,s,a,l,c=t.clone().stripZone(),u=e.clone().stripZone(),d="",h="",f="",p="",g="";for(s=0;s<n.length&&!1!==(o=vt(t,e,c,u,n[s]));s++)d+=o;for(a=n.length-1;a>s&&!1!==(o=vt(t,e,c,u,n[a]));a--)h=o+h;for(l=s;l<=a;l++)f+=pt(t,n[l]),p+=pt(e,n[l]);return(f||p)&&(g=r?p+i+f:f+i+p),d+g+h}function vt(t,e,n,i,r){var o,s;return"string"==typeof r?r:!!((o=r.token)&&(s=re[o.charAt(0)])&&n.isSame(i,s))&&dt(t,o)}function yt(t){return t in oe?oe[t]:oe[t]=bt(t)}function bt(t){for(var e,n=[],i=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=i.exec(t);)e[1]?n.push(e[1]):e[2]?n.push({maybe:bt(e[2])}):e[3]?n.push({token:e[3]}):e[5]&&n.push(e[5]);return n}function wt(){}function xt(t,e){var n;return Q(e,"constructor")&&(n=e.constructor),"function"!=typeof n&&(n=e.constructor=function(){t.apply(this,arguments)}),n.prototype=G(t.prototype),X(e,n.prototype),X(t,n),n}function Ct(t,e){X(e,t.prototype)}function _t(t,e){return!t&&!e||!(!t||!e)&&(t.component===e.component&&kt(t,e)&&kt(e,t))}function kt(t,e){for(var n in t)if(!/^(component|left|right|top|bottom)$/.test(n)&&t[n]!==e[n])return!1;return!0}function St(t){return{start:t.start.clone(),end:t.end?t.end.clone():null,allDay:t.allDay}}function Tt(t){var e=Et(t);return"background"===e||"inverse-background"===e}function Dt(t){return"inverse-background"===Et(t)}function Et(t){return J((t.source||{}).rendering,t.rendering)}function Mt(t){var e,n,i={};for(e=0;e<t.length;e++)(i[(n=t[e])._id]||(i[n._id]=[])).push(n);return i}function At(t,e){return t.start-e.start}function Ot(n){var i,r,o,s,a=qt.dataAttrPrefix;return a&&(a+="-"),(i=n.data(a+"event")||null)&&(null==(r=(i="object"==typeof i?t.extend({},i):{}).start)&&(r=i.time),o=i.duration,s=i.stick,delete i.start,delete i.time,delete i.duration,delete i.stick),null==r&&(r=n.data(a+"start")),null==r&&(r=n.data(a+"time")),null==o&&(o=n.data(a+"duration")),null==s&&(s=n.data(a+"stick")),{eventProps:i,startTime:r=null!=r?e.duration(r):null,duration:o=null!=o?e.duration(o):null,stick:s=Boolean(s)}}function Pt(t,e){var n,i;for(n=0;n<e.length;n++)if((i=e[n]).leftCol<=t.rightCol&&i.rightCol>=t.leftCol)return!0;return!1}function Lt(t,e){return t.leftCol-e.leftCol}function It(t){var e,n,i,r=[];for(e=0;e<t.length;e++){for(n=t[e],i=0;i<r.length&&Ht(n,r[i]).length;i++);n.level=i,(r[i]||(r[i]=[])).push(n)}return r}function $t(t){var e,n,i,r,o;for(e=0;e<t.length;e++)for(n=t[e],i=0;i<n.length;i++)for((r=n[i]).forwardSegs=[],o=e+1;o<t.length;o++)Ht(r,t[o],r.forwardSegs)}function Ft(t){var e,n,i=t.forwardSegs,r=0;if(void 0===t.forwardPressure){for(e=0;e<i.length;e++)Ft(n=i[e]),r=Math.max(r,1+n.forwardPressure);t.forwardPressure=r}}function Ht(t,e,n){n=n||[];for(var i=0;i<e.length;i++)Nt(t,e[i])&&n.push(e[i]);return n}function Nt(t,e){return t.bottom>e.top&&t.top<e.bottom}function zt(n,i){function r(t){t._locale=q}function o(){X?c()&&(p(),u()):s()}function s(){n.addClass("fc"),n.on("click.fc","a[data-goto]",(function(e){var n=t(this).data("goto"),i=V.moment(n.date),r=n.type,o=Q.opt("navLink"+rt(r)+"Click");"function"==typeof o?o(i,e):("string"==typeof o&&(r=o),F(i,r))})),V.bindOption("theme",(function(t){t?"ui":"fc",n.toggleClass("ui-widget",t),n.toggleClass("fc-unthemed",!t)})),V.bindOptions(["isRTL","locale"],(function(t){n.toggleClass("fc-ltr",!t),n.toggleClass("fc-rtl",t)})),X=t("<div class='fc-view-container'/>").prependTo(n),U=V.header=new Rt(V),a(),u(V.options.defaultView),V.options.handleWindowResize&&(Z=lt(v,V.options.windowResizeDelay),t(window).resize(Z))}function a(){U.render(),U.el&&n.prepend(U.el)}function l(){Q&&Q.removeElement(),U.removeElement(),X.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),n.off(".fc"),Z&&t(window).unbind("resize",Z)}function c(){return n.is(":visible")}function u(e,n){st++,Q&&e&&Q.type!==e&&(N(),d()),!Q&&e&&((Q=V.view=ot[e]||(ot[e]=V.instantiateView(e))).setElement(t("<div class='fc-view fc-"+e+"-view' />").appendTo(X)),U.activateButton(e)),Q&&(J=Q.massageCurrentDate(J),Q.displaying&&J>=Q.intervalStart&&J<Q.intervalEnd||c()&&(Q.display(J,n),z(),S(),T(),x())),z(),st--}function d(){U.deactivateButton(Q.type),Q.removeElement(),Q=V.view=null}function h(){st++,N();var t=Q.type,e=Q.queryScroll();d(),u(t,e),z(),st--}function f(t){if(c())return t&&g(),st++,Q.updateSize(!0),st--,!0}function p(){c()&&g()}function g(){var t=V.options.contentHeight,e=V.options.height;K="number"==typeof t?t:"function"==typeof t?t():"number"==typeof e?e-m():"function"==typeof e?e()-m():"parent"===e?n.parent().height()-m():Math.round(X.width()/Math.max(V.options.aspectRatio,.5))}function m(){return U.el?U.el.outerHeight(!0):0}function v(t){!st&&t.target===window&&Q.start&&f(!0)&&Q.trigger("windowResize",it)}function y(){C()}function b(t){nt(V.getEventSourcesByMatchArray(t))}function w(){c()&&(N(),Q.displayEvents(at),z())}function x(){!V.options.lazyFetching||tt(Q.start,Q.end)?C():w()}function C(){et(Q.start,Q.end)}function _(t){at=t,w()}function k(){w()}function S(){U.updateTitle(Q.title)}function T(){var t=V.getNow();t>=Q.intervalStart&&t<Q.intervalEnd?U.disableButton("today"):U.enableButton("today")}function D(t,e){Q.select(V.buildSelectSpan.apply(V,arguments))}function E(){Q&&Q.unselect()}function M(){J=Q.computePrevDate(J),u()}function A(){J=Q.computeNextDate(J),u()}function O(){J.add(-1,"years"),u()}function P(){J.add(1,"years"),u()}function L(){J=V.getNow(),u()}function I(t){J=V.moment(t).stripZone(),u()}function $(t){J.add(e.duration(t)),u()}function F(t,e){var n;e=e||"day",n=V.getViewSpec(e)||V.getUnitViewSpec(e),J=t.clone(),u(n?n.type:null)}function H(){return V.applyTimezone(J)}function N(){X.css({width:"100%",height:X.height(),overflow:"hidden"})}function z(){X.css({width:"",height:"",overflow:""})}function B(){return V}function j(){return Q}function R(t,e){var n;if("string"==typeof t){if(void 0===e)return V.options[t];(n={})[t]=e,W(n)}else"object"==typeof t&&W(t)}function W(t){var e,n=0;for(e in t)V.dynamicOverrides[e]=t[e];for(e in V.viewSpecCache={},V.populateOptionsHash(),t)V.triggerOptionHandlers(e),n++;if(1===n){if("height"===e||"contentHeight"===e||"aspectRatio"===e)return void f(!0);if("defaultDate"===e)return;if("businessHours"===e)return void(Q&&(Q.unrenderBusinessHours(),Q.renderBusinessHours()));if("timezone"===e)return V.rezoneArrayEventSources(),void y()}a(),ot={},h()}function Y(t,e){var n=Array.prototype.slice.call(arguments,2);if(e=e||it,this.triggerWith(t,e,n),V.options[t])return V.options[t].apply(e,n)}var q,V=this;V.render=o,V.destroy=l,V.refetchEvents=y,V.refetchEventSources=b,V.reportEvents=_,V.reportEventChange=k,V.rerenderEvents=w,V.changeView=u,V.select=D,V.unselect=E,V.prev=M,V.next=A,V.prevYear=O,V.nextYear=P,V.today=L,V.gotoDate=I,V.incrementDate=$,V.zoomTo=F,V.getDate=H,V.getCalendar=B,V.getView=j,V.option=R,V.trigger=Y,V.dynamicOverrides={},V.viewSpecCache={},V.optionHandlers={},V.overrides=t.extend({},i),V.populateOptionsHash(),V.bindOptions(["locale","monthNames","monthNamesShort","dayNames","dayNamesShort","firstDay","weekNumberCalculation"],(function(t,e,n,i,o,s,a){if("iso"===a&&(a="ISO"),q=G(jt(t)),e&&(q._months=e),n&&(q._monthsShort=n),i&&(q._weekdays=i),o&&(q._weekdaysShort=o),null==s&&"ISO"===a&&(s=1),null!=s){var l=G(q._week);l.dow=s,q._week=l}"ISO"!==a&&"local"!==a&&"function"!=typeof a||(q._fullCalendar_weekCalc=a),J&&r(J)})),V.defaultAllDayEventDuration=e.duration(V.options.defaultAllDayEventDuration),V.defaultTimedEventDuration=e.duration(V.options.defaultTimedEventDuration),V.moment=function(){var t;return"local"===V.options.timezone?(t=qt.moment.apply(null,arguments)).hasTime()&&t.local():t="UTC"===V.options.timezone?qt.moment.utc.apply(null,arguments):qt.moment.parseZone.apply(null,arguments),r(t),t},V.localizeMoment=r,V.getIsAmbigTimezone=function(){return"local"!==V.options.timezone&&"UTC"!==V.options.timezone},V.applyTimezone=function(t){if(!t.hasTime())return t.clone();var e,n=V.moment(t.toArray()),i=t.time()-n.time();return i&&(e=n.clone().add(i),t.time()-e.time()==0&&(n=e)),n},V.getNow=function(){var t=V.options.now;return"function"==typeof t&&(t=t()),V.moment(t).stripZone()},V.getEventEnd=function(t){return t.end?t.end.clone():V.getDefaultEventEnd(t.allDay,t.start)},V.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add(V.defaultAllDayEventDuration):n.add(V.defaultTimedEventDuration),V.getIsAmbigTimezone()&&n.stripZone(),n},V.humanizeDuration=function(t){return t.locale(V.options.locale).humanize()},Wt.call(V);var U,X,Q,K,Z,J,tt=V.isFetchNeeded,et=V.fetchEvents,nt=V.fetchEventSources,it=n[0],ot={},st=0,at=[];J=null!=V.options.defaultDate?V.moment(V.options.defaultDate).stripZone():V.getNow(),V.getSuggestedViewHeight=function(){return void 0===K&&p(),K},V.isHeightAuto=function(){return"auto"===V.options.contentHeight||"auto"===V.options.height},V.freezeContentHeight=N,V.unfreezeContentHeight=z,V.initialize()}function Bt(e){t.each(Se,(function(t,n){null==e[t]&&(e[t]=n(e))}))}function jt(t){return e.localeData(t)||e.localeData("en")}function Rt(e){function n(){var n=e.options,o=n.header;f=n.theme?"ui":"fc",o?(d?d.empty():d=this.el=t("<div class='fc-toolbar'/>"),d.append(r("left")).append(r("right")).append(r("center")).append('<div class="fc-clear"/>')):i()}function i(){d&&(d.remove(),d=h.el=null)}function r(n){var i=t('<div class="fc-'+n+'"/>'),r=e.options,o=r.header[n];return o&&t.each(o.split(" "),(function(){var n,o=t(),s=!0;t.each(this.split(","),(function(n,i){var a,l,c,u,d,h,g,m,v;"title"==i?(o=o.add(t("<h2>&nbsp;</h2>")),s=!1):((a=(r.customButtons||{})[i])?(c=function(t){a.click&&a.click.call(v[0],t)},u="",d=a.text):(l=e.getViewSpec(i))?(c=function(){e.changeView(i)},p.push(i),u=l.buttonTextOverride,d=l.buttonTextDefault):e[i]&&(c=function(){e[i]()},u=(e.overrides.buttonText||{})[i],d=r.buttonText[i]),c&&(h=a?a.themeIcon:r.themeButtonIcons[i],g=a?a.icon:r.buttonIcons[i],m=u?tt(u):h&&r.theme?"<span class='ui-icon ui-icon-"+h+"'></span>":g&&!r.theme?"<span class='fc-icon fc-icon-"+g+"'></span>":tt(d),v=t('<button type="button" class="'+["fc-"+i+"-button",f+"-button",f+"-state-default"].join(" ")+'">'+m+"</button>").click((function(t){v.hasClass(f+"-state-disabled")||(c(t),(v.hasClass(f+"-state-active")||v.hasClass(f+"-state-disabled"))&&v.removeClass(f+"-state-hover"))})).mousedown((function(){v.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-down")})).mouseup((function(){v.removeClass(f+"-state-down")})).hover((function(){v.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-hover")}),(function(){v.removeClass(f+"-state-hover").removeClass(f+"-state-down")})),o=o.add(v)))})),s&&o.first().addClass(f+"-corner-left").end().last().addClass(f+"-corner-right").end(),o.length>1?(n=t("<div/>"),s&&n.addClass("fc-button-group"),n.append(o),i.append(n)):i.append(o)})),i}function o(t){d&&d.find("h2").text(t)}function s(t){d&&d.find(".fc-"+t+"-button").addClass(f+"-state-active")}function a(t){d&&d.find(".fc-"+t+"-button").removeClass(f+"-state-active")}function l(t){d&&d.find(".fc-"+t+"-button").prop("disabled",!0).addClass(f+"-state-disabled")}function c(t){d&&d.find(".fc-"+t+"-button").prop("disabled",!1).removeClass(f+"-state-disabled")}function u(){return p}var d,h=this;h.render=n,h.removeElement=i,h.updateTitle=o,h.activateButton=s,h.deactivateButton=a,h.disableButton=l,h.enableButton=c,h.getViewsWithButtons=u,h.el=null;var f,p=[]}function Wt(){function n(t,e){return!z||t<z||e>B}function i(t,e){z=t,B=e,r(W,"reset")}function r(t,e){var n,i;for("reset"===e?q=[]:"add"!==e&&(q=w(q,t)),n=0;n<t.length;n++)"pending"!==(i=t[n])._status&&Y++,i._fetchId=(i._fetchId||0)+1,i._status="pending";for(n=0;n<t.length;n++)o(i=t[n],i._fetchId)}function o(e,n){l(e,(function(i){var r,o,s,l=t.isArray(e.events);if(n===e._fetchId&&"rejected"!==e._status){if(e._status="resolved",i)for(r=0;r<i.length;r++)o=i[r],(s=l?o:E(o,e))&&q.push.apply(q,P(s));a()}}))}function s(t){var e="pending"===t._status;t._status="rejected",e&&a()}function a(){--Y||j(q)}function l(e,n){var i,r,o=qt.sourceFetchers;for(i=0;i<o.length;i++){if(!0===(r=o[i].call($,e,z.clone(),B.clone(),$.options.timezone,n)))return;if("object"==typeof r)return void l(r,n)}var s=e.events;if(s)t.isFunction(s)?($.pushLoading(),s.call($,z.clone(),B.clone(),$.options.timezone,(function(t){n(t),$.popLoading()}))):t.isArray(s)?n(s):n();else if(e.url){var a,c=e.success,u=e.error,d=e.complete;a=t.isFunction(e.data)?e.data():e.data;var h=t.extend({},a||{}),f=J(e.startParam,$.options.startParam),p=J(e.endParam,$.options.endParam),g=J(e.timezoneParam,$.options.timezoneParam);f&&(h[f]=z.format()),p&&(h[p]=B.format()),$.options.timezone&&"local"!=$.options.timezone&&(h[g]=$.options.timezone),$.pushLoading(),t.ajax(t.extend({},Te,e,{data:h,success:function(e){e=e||[];var i=Z(c,this,arguments);t.isArray(i)&&(e=i),n(e)},error:function(){Z(u,this,arguments),n()},complete:function(){Z(d,this,arguments),$.popLoading()}}))}else n()}function c(t){var e=u(t);e&&(W.push(e),r([e],"add"))}function u(e){var n,i,r=qt.sourceNormalizers;if(t.isFunction(e)||t.isArray(e)?n={events:e}:"string"==typeof e?n={url:e}:"object"==typeof e&&(n=t.extend({},e)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],t.isArray(n.events)&&(n.origArray=n.events,n.events=t.map(n.events,(function(t){return E(t,n)}))),i=0;i<r.length;i++)r[i].call($,n);return n}}function d(t){f(v(t))}function h(t){null==t?f(W,!0):f(m(t))}function f(e,n){var i;for(i=0;i<e.length;i++)s(e[i]);n?(W=[],q=[]):(W=t.grep(W,(function(t){for(i=0;i<e.length;i++)if(t===e[i])return!1;return!0})),q=w(q,e)),j(q)}function p(){return W.slice(1)}function g(e){return t.grep(W,(function(t){return t.id&&t.id===e}))[0]}function m(e){e?t.isArray(e)||(e=[e]):e=[];var n,i=[];for(n=0;n<e.length;n++)i.push.apply(i,v(e[n]));return i}function v(e){var n,i;for(n=0;n<W.length;n++)if((i=W[n])===e)return[i];return(i=g(e))?[i]:t.grep(W,(function(t){return y(e,t)}))}function y(t,e){return t&&e&&b(t)==b(e)}function b(t){return("object"==typeof t?t.origArray||t.googleCalendarId||t.url||t.events:null)||t}function w(e,n){return t.grep(e,(function(t){for(var e=0;e<n.length;e++)if(t.source===n[e])return!1;return!0}))}function x(t){t.start=$.moment(t.start),t.end?t.end=$.moment(t.end):t.end=null,L(t,C(t)),j(q)}function C(e){var n={};return t.each(e,(function(t,e){_(t)&&void 0!==e&&K(e)&&(n[t]=e)})),n}function _(t){return!/^_|^(id|allDay|start|end)$/.test(t)}function k(t,e){var n,i,r,o=E(t);if(o){for(n=P(o),i=0;i<n.length;i++)(r=n[i]).source||(e&&(R.events.push(r),r.source=R),q.push(r));return j(q),n}return[]}function S(e){var n,i;for(null==e?e=function(){return!0}:t.isFunction(e)||(n=e+"",e=function(t){return t._id==n}),q=t.grep(q,e,!0),i=0;i<W.length;i++)t.isArray(W[i].events)&&(W[i].events=t.grep(W[i].events,e,!0));j(q)}function T(e){return t.isFunction(e)?t.grep(q,e):null!=e?(e+="",t.grep(q,(function(t){return t._id==e}))):q}function D(t){t.start=$.moment(t.start),t.end&&(t.end=$.moment(t.end)),Yt(t)}function E(n,i){var r,o,s,a={};if($.options.eventDataTransform&&(n=$.options.eventDataTransform(n)),i&&i.eventDataTransform&&(n=i.eventDataTransform(n)),t.extend(a,n),i&&(a.source=i),a._id=n._id||(void 0===n.id?"_fc"+De++:n.id+""),n.className?"string"==typeof n.className?a.className=n.className.split(/\s+/):a.className=n.className:a.className=[],r=n.start||n.date,o=n.end,V(r)&&(r=e.duration(r)),V(o)&&(o=e.duration(o)),n.dow||e.isDuration(r)||e.isDuration(o))a.start=r?e.duration(r):null,a.end=o?e.duration(o):null,a._recurring=!0;else{if(r&&!(r=$.moment(r)).isValid())return!1;o&&((o=$.moment(o)).isValid()||(o=null)),void 0===(s=n.allDay)&&(s=J(i?i.allDayDefault:void 0,$.options.allDayDefault)),M(r,o,s,a)}return $.normalizeEvent(a),a}function M(t,e,n,i){i.start=t,i.end=e,i.allDay=n,A(i),Yt(i)}function A(t){O(t),t.end&&!t.end.isAfter(t.start)&&(t.end=null),t.end||($.options.forceEventDuration?t.end=$.getDefaultEventEnd(t.allDay,t.start):t.end=null)}function O(t){null==t.allDay&&(t.allDay=!(t.start.hasTime()||t.end&&t.end.hasTime())),t.allDay?(t.start.stripTime(),t.end&&t.end.stripTime()):(t.start.hasTime()||(t.start=$.applyTimezone(t.start.time(0))),t.end&&!t.end.hasTime()&&(t.end=$.applyTimezone(t.end.time(0))))}function P(e,n,i){var r,o,s,a,l,c,u,d,h,f=[];if(n=n||z,i=i||B,e)if(e._recurring){if(o=e.dow)for(r={},s=0;s<o.length;s++)r[o[s]]=!0;for(a=n.clone().stripTime();a.isBefore(i);)r&&!r[a.day()]||(l=e.start,c=e.end,u=a.clone(),d=null,l&&(u=u.time(l)),c&&(d=a.clone().time(c)),M(u,d,!l&&!c,h=t.extend({},e)),f.push(h)),a.add(1,"days")}else f.push(e);return f}function L(e,n,i){function r(t,e){return i?N(t,e,i):n.allDay?H(t,e):F(t,e)}var o,s,a,l,c={};return(n=n||{}).start||(n.start=e.start.clone()),void 0===n.end&&(n.end=e.end?e.end.clone():null),null==n.allDay&&(n.allDay=e.allDay),A(n),A(o={start:e._start.clone(),end:e._end?e._end.clone():$.getDefaultEventEnd(e._allDay,e._start),allDay:n.allDay}),s=null!==e._end&&null===n.end,a=r(n.start,o.start),l=n.end?r(n.end,o.end).subtract(a):null,t.each(n,(function(t,e){_(t)&&void 0!==e&&(c[t]=e)})),{dateDelta:a,durationDelta:l,undo:I(T(e._id),s,n.allDay,a,l,c)}}function I(e,n,i,r,o,s){var a=$.getIsAmbigTimezone(),l=[];return r&&!r.valueOf()&&(r=null),o&&!o.valueOf()&&(o=null),t.each(e,(function(e,c){var u,d;u={start:c.start.clone(),end:c.end?c.end.clone():null,allDay:c.allDay},t.each(s,(function(t){u[t]=c[t]})),A(d={start:c._start,end:c._end,allDay:i}),n?d.end=null:o&&!d.end&&(d.end=$.getDefaultEventEnd(d.allDay,d.start)),r&&(d.start.add(r),d.end&&d.end.add(r)),o&&d.end.add(o),a&&!d.allDay&&(r||o)&&(d.start.stripZone(),d.end&&d.end.stripZone()),t.extend(c,s,d),Yt(c),l.push((function(){t.extend(c,u),Yt(c)}))})),function(){
for(var t=0;t<l.length;t++)l[t]()}}var $=this;$.isFetchNeeded=n,$.fetchEvents=i,$.fetchEventSources=r,$.getEventSources=p,$.getEventSourceById=g,$.getEventSourcesByMatchArray=m,$.getEventSourcesByMatch=v,$.addEventSource=c,$.removeEventSource=d,$.removeEventSources=h,$.updateEvent=x,$.renderEvent=k,$.removeEvents=S,$.clientEvents=T,$.mutateEvent=L,$.normalizeEventDates=A,$.normalizeEventTimes=O;var z,B,j=$.reportEvents,R={events:[]},W=[R],Y=0,q=[];t.each(($.options.events?[$.options.events]:[]).concat($.options.eventSources||[]),(function(t,e){var n=u(e);n&&W.push(n)})),$.rezoneArrayEventSources=function(){var e,n,i;for(e=0;e<W.length;e++)if(n=W[e].events,t.isArray(n))for(i=0;i<n.length;i++)D(n[i])},$.buildEventFromInput=E,$.expandEvent=P,$.getEventCache=function(){return q}}function Yt(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}var qt=t.fullCalendar={version:"3.0.0",internalApiVersion:6},Vt=qt.views={};t.fn.fullCalendar=function(e){var n=Array.prototype.slice.call(arguments,1),i=this;return this.each((function(r,o){var s,a=t(o),l=a.data("fullCalendar");"string"==typeof e?l&&t.isFunction(l[e])&&(s=l[e].apply(l,n),r||(i=s),"destroy"===e&&a.removeData("fullCalendar")):l||(l=new xe(a,e),a.data("fullCalendar",l),l.render())})),i};var Ut=["header","buttonText","buttonIcons","themeButtonIcons"];qt.intersectRanges=$,qt.applyAll=Z,qt.debounce=lt,qt.isInt=st,qt.htmlEscape=tt,qt.cssToStr=nt,qt.proxy=at,qt.capitaliseFirstLetter=rt,qt.getOuterRect=h,qt.getClientRect=f,qt.getContentRect=p,qt.getScrollbarWidths=g;var Gt=null;qt.preventDefault=k,qt.intersectRects=D,qt.parseFieldSpecs=O,qt.compareByFieldSpecs=P,qt.compareByFieldSpec=L,qt.flexibleCompare=I,qt.computeIntervalUnit=z,qt.divideRangeByDuration=j,qt.divideDurationByDuration=R,qt.multiplyDuration=W,qt.durationHasTime=Y;var Xt=["sun","mon","tue","wed","thu","fri","sat"],Qt=["year","month","week","day","hour","minute","second","millisecond"];qt.log=function(){var t=window.console;if(t&&t.log)return t.log.apply(t,arguments)},qt.warn=function(){var t=window.console;return t&&t.warn?t.warn.apply(t,arguments):qt.log.apply(qt,arguments)};var Kt={}.hasOwnProperty,Zt=/^\s*\d{4}-\d\d$/,Jt=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,te=e.fn,ee=t.extend({},te),ne=e.momentProperties;ne.push("_fullCalendar"),ne.push("_ambigTime"),ne.push("_ambigZone"),qt.moment=function(){return ut(arguments)},qt.moment.utc=function(){var t=ut(arguments,!0);return t.hasTime()&&t.utc(),t},qt.moment.parseZone=function(){return ut(arguments,!0,!0)},te.week=te.weeks=function(t){var e=this._locale._fullCalendar_weekCalc;return null==t&&"function"==typeof e?e(this):"ISO"===e?ee.isoWeek.apply(this,arguments):ee.week.apply(this,arguments)},te.time=function(t){if(!this._fullCalendar)return ee.time.apply(this,arguments);if(null==t)return e.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,e.isDuration(t)||e.isMoment(t)||(t=e.duration(t));var n=0;return e.isDuration(t)&&(n=24*Math.floor(t.asDays())),this.hours(n+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},te.stripTime=function(){return this._ambigTime||(this.utc(!0),this.set({hours:0,minutes:0,seconds:0,ms:0}),this._ambigTime=!0,this._ambigZone=!0),this},te.hasTime=function(){return!this._ambigTime},te.stripZone=function(){var t;return this._ambigZone||(t=this._ambigTime,this.utc(!0),this._ambigTime=t||!1,this._ambigZone=!0),this},te.hasZone=function(){return!this._ambigZone},te.local=function(t){return ee.local.call(this,this._ambigZone||t),this._ambigTime=!1,this._ambigZone=!1,this},te.utc=function(t){return ee.utc.call(this,t),this._ambigTime=!1,this._ambigZone=!1,this},te.utcOffset=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),ee.utcOffset.apply(this,arguments)},te.format=function(){return this._fullCalendar&&arguments[0]?ht(this,arguments[0]):this._ambigTime?dt(this,"YYYY-MM-DD"):this._ambigZone?dt(this,"YYYY-MM-DD[T]HH:mm:ss"):ee.format.apply(this,arguments)},te.toISOString=function(){return this._ambigTime?dt(this,"YYYY-MM-DD"):this._ambigZone?dt(this,"YYYY-MM-DD[T]HH:mm:ss"):ee.toISOString.apply(this,arguments)};var ie={t:function(t){return dt(t,"a").charAt(0)},T:function(t){return dt(t,"A").charAt(0)}};qt.formatRange=gt;var re={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},oe={};qt.Class=wt,wt.extend=function(){var t,e,n=arguments.length;for(t=0;t<n;t++)e=arguments[t],t<n-1&&Ct(this,e);return xt(this,e||{})},wt.mixin=function(t){Ct(this,t)};var se,ae=qt.EmitterMixin={on:function(e,n){var i=function(t,e){return n.apply(e.context||this,e.args||[])};return n.guid||(n.guid=t.guid++),i.guid=n.guid,t(this).on(e,i),this},off:function(e,n){return t(this).off(e,n),this},trigger:function(e){var n=Array.prototype.slice.call(arguments,1);return t(this).triggerHandler(e,{args:n}),this},triggerWith:function(e,n,i){return t(this).triggerHandler(e,{context:n,args:i}),this}},le=qt.ListenerMixin=(se=0,{listenerId:null,listenTo:function(e,n,i){if("object"==typeof n)for(var r in n)n.hasOwnProperty(r)&&this.listenTo(e,r,n[r]);else"string"==typeof n&&e.on(n+"."+this.getListenerNamespace(),t.proxy(i,this))},stopListeningTo:function(t,e){t.off((e||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){return null==this.listenerId&&(this.listenerId=se++),"_listener"+this.listenerId}}),ce={isIgnoringMouse:!1,delayUnignoreMouse:null,initMouseIgnoring:function(t){this.delayUnignoreMouse=lt(at(this,"unignoreMouse"),t||1e3)},tempIgnoreMouse:function(){this.isIgnoringMouse=!0,this.delayUnignoreMouse()},unignoreMouse:function(){this.isIgnoringMouse=!1}},ue=wt.extend(le,{isHidden:!0,options:null,el:null,margin:10,constructor:function(t){this.options=t||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var e=this,n=this.options;this.el=t('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",(function(){e.hide()})),n.autoHide&&this.listenTo(t(document),"mousedown",this.documentMousedown)},documentMousedown:function(e){this.el&&!t(e.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),this.stopListeningTo(t(document),"mousedown")},position:function(){var e,n,i,r,o,s=this.options,a=this.el.offsetParent().offset(),l=this.el.outerWidth(),c=this.el.outerHeight(),u=t(window),h=d(this.el);r=s.top||0,o=void 0!==s.left?s.left:void 0!==s.right?s.right-l:0,h.is(window)||h.is(document)?(h=u,e=0,n=0):(e=(i=h.offset()).top,n=i.left),e+=u.scrollTop(),n+=u.scrollLeft(),!1!==s.viewportConstrain&&(r=Math.min(r,e+h.outerHeight()-c-this.margin),r=Math.max(r,e+this.margin),o=Math.min(o,n+h.outerWidth()-l-this.margin),o=Math.max(o,n+this.margin)),this.el.css({top:r-a.top,left:o-a.left})},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))}}),de=qt.CoordCache=wt.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(e){this.els=t(e.els),this.isHorizontal=e.isHorizontal,this.isVertical=e.isVertical,this.forcedOffsetParentEl=e.offsetParent?t(e.offsetParent):null},build:function(){var t=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=t.offset(),this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals()},clear:function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},buildElHorizontals:function(){var e=[],n=[];this.els.each((function(i,r){var o=t(r),s=o.offset().left,a=o.outerWidth();e.push(s),n.push(s+a)})),this.lefts=e,this.rights=n},buildElVerticals:function(){var e=[],n=[];this.els.each((function(i,r){var o=t(r),s=o.offset().top,a=o.outerHeight();e.push(s),n.push(s+a)})),this.tops=e,this.bottoms=n},getHorizontalIndex:function(t){this.ensureBuilt();var e,n=this.lefts,i=this.rights,r=n.length;for(e=0;e<r;e++)if(t>=n[e]&&t<i[e])return e},getVerticalIndex:function(t){this.ensureBuilt();var e,n=this.tops,i=this.bottoms,r=n.length;for(e=0;e<r;e++)if(t>=n[e]&&t<i[e])return e},getLeftOffset:function(t){return this.ensureBuilt(),this.lefts[t]},getLeftPosition:function(t){return this.ensureBuilt(),this.lefts[t]-this.origin.left},getRightOffset:function(t){return this.ensureBuilt(),this.rights[t]},getRightPosition:function(t){return this.ensureBuilt(),this.rights[t]-this.origin.left},getWidth:function(t){return this.ensureBuilt(),this.rights[t]-this.lefts[t]},getTopOffset:function(t){return this.ensureBuilt(),this.tops[t]},getTopPosition:function(t){return this.ensureBuilt(),this.tops[t]-this.origin.top},getBottomOffset:function(t){return this.ensureBuilt(),this.bottoms[t]},getBottomPosition:function(t){return this.ensureBuilt(),this.bottoms[t]-this.origin.top},getHeight:function(t){return this.ensureBuilt(),this.bottoms[t]-this.tops[t]},queryBoundingRect:function(){var t=d(this.els.eq(0));if(!t.is(document))return f(t)},isPointInBounds:function(t,e){return this.isLeftInBounds(t)&&this.isTopInBounds(e)},isLeftInBounds:function(t){return!this.boundingRect||t>=this.boundingRect.left&&t<this.boundingRect.right},isTopInBounds:function(t){return!this.boundingRect||t>=this.boundingRect.top&&t<this.boundingRect.bottom}}),he=qt.DragListener=wt.extend(le,ce,{options:null,subjectEl:null,originX:null,originY:null,scrollEl:null,isInteracting:!1,isDistanceSurpassed:!1,isDelayEnded:!1,isDragging:!1,isTouch:!1,delay:null,delayTimeoutId:null,minDistance:null,handleTouchScrollProxy:null,constructor:function(t){this.options=t||{},this.handleTouchScrollProxy=at(this,"handleTouchScroll"),this.initMouseIgnoring(500)},startInteraction:function(e,n){var i=C(e);if("mousedown"===e.type){if(this.isIgnoringMouse)return;if(!b(e))return;e.preventDefault()}this.isInteracting||(n=n||{},this.delay=J(n.delay,this.options.delay,0),this.minDistance=J(n.distance,this.options.distance,0),this.subjectEl=this.options.subjectEl,this.isInteracting=!0,this.isTouch=i,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.originX=w(e),this.originY=x(e),this.scrollEl=d(t(e.target)),this.bindHandlers(),this.initAutoScroll(),this.handleInteractionStart(e),this.startDelay(e),this.minDistance||this.handleDistanceSurpassed(e))},handleInteractionStart:function(t){this.trigger("interactionStart",t)},endInteraction:function(t,e){this.isInteracting&&(this.endDrag(t),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null),this.destroyAutoScroll(),this.unbindHandlers(),this.isInteracting=!1,this.handleInteractionEnd(t,e),this.isTouch&&this.tempIgnoreMouse())},handleInteractionEnd:function(t,e){this.trigger("interactionEnd",t,e||!1)},bindHandlers:function(){var e=this,n=1;this.isTouch?(this.listenTo(t(document),{touchmove:this.handleTouchMove,touchend:this.endInteraction,touchcancel:this.endInteraction,touchstart:function(t){n?n--:e.endInteraction(t,!0)}}),!S(this.handleTouchScrollProxy)&&this.scrollEl&&this.listenTo(this.scrollEl,"scroll",this.handleTouchScroll)):this.listenTo(t(document),{mousemove:this.handleMouseMove,mouseup:this.endInteraction}),this.listenTo(t(document),{selectstart:k,contextmenu:k})},unbindHandlers:function(){this.stopListeningTo(t(document)),T(this.handleTouchScrollProxy),this.scrollEl&&this.stopListeningTo(this.scrollEl,"scroll")},startDrag:function(t,e){this.startInteraction(t,e),this.isDragging||(this.isDragging=!0,this.handleDragStart(t))},handleDragStart:function(t){this.trigger("dragStart",t)},handleMove:function(t){var e=w(t)-this.originX,n=x(t)-this.originY,i=this.minDistance;this.isDistanceSurpassed||e*e+n*n>=i*i&&this.handleDistanceSurpassed(t),this.isDragging&&this.handleDrag(e,n,t)},handleDrag:function(t,e,n){this.trigger("drag",t,e,n),this.updateAutoScroll(n)},endDrag:function(t){this.isDragging&&(this.isDragging=!1,this.handleDragEnd(t))},handleDragEnd:function(t){this.trigger("dragEnd",t)},startDelay:function(t){var e=this;this.delay?this.delayTimeoutId=setTimeout((function(){e.handleDelayEnd(t)}),this.delay):this.handleDelayEnd(t)},handleDelayEnd:function(t){this.isDelayEnded=!0,this.isDistanceSurpassed&&this.startDrag(t)},handleDistanceSurpassed:function(t){this.isDistanceSurpassed=!0,this.isDelayEnded&&this.startDrag(t)},handleTouchMove:function(t){this.isDragging&&t.preventDefault(),this.handleMove(t)},handleMouseMove:function(t){this.handleMove(t)},handleTouchScroll:function(t){this.isDragging||this.endInteraction(t,!0)},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1)),this["_"+t]&&this["_"+t].apply(this,Array.prototype.slice.call(arguments,1))}});he.mixin({isAutoScroll:!1,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var t=this.scrollEl;this.isAutoScroll=this.options.scroll&&t&&!t.is(window)&&!t.is(document),this.isAutoScroll&&this.listenTo(t,"scroll",lt(this.handleDebouncedScroll,100))},destroyAutoScroll:function(){this.endAutoScroll(),this.isAutoScroll&&this.stopListeningTo(this.scrollEl,"scroll")},computeScrollBounds:function(){this.isAutoScroll&&(this.scrollBounds=h(this.scrollEl))},updateAutoScroll:function(t){var e,n,i,r,o=this.scrollSensitivity,s=this.scrollBounds,a=0,l=0;s&&(e=(o-(x(t)-s.top))/o,n=(o-(s.bottom-x(t)))/o,i=(o-(w(t)-s.left))/o,r=(o-(s.right-w(t)))/o,e>=0&&e<=1?a=e*this.scrollSpeed*-1:n>=0&&n<=1&&(a=n*this.scrollSpeed),i>=0&&i<=1?l=i*this.scrollSpeed*-1:r>=0&&r<=1&&(l=r*this.scrollSpeed)),this.setScrollVel(a,l)},setScrollVel:function(t,e){this.scrollTopVel=t,this.scrollLeftVel=e,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(at(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var t=this.scrollEl;this.scrollTopVel<0?t.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?t.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.endAutoScroll()},endAutoScroll:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.handleScrollEnd())},handleDebouncedScroll:function(){this.scrollIntervalId||this.handleScrollEnd()},handleScrollEnd:function(){}});var fe=he.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(t,e){he.call(this,e),this.component=t},handleInteractionStart:function(t){var e,n,i,r=this.subjectEl;this.computeCoords(),t?(i=n={left:w(t),top:x(t)},r&&(i=E(i,e=h(r))),this.origHit=this.queryHit(i.left,i.top),r&&this.options.subjectCenter&&(this.origHit&&(e=D(this.origHit,e)||e),i=M(e)),this.coordAdjust=A(i,n)):(this.origHit=null,this.coordAdjust=null),he.prototype.handleInteractionStart.apply(this,arguments)},computeCoords:function(){this.component.prepareHits(),this.computeScrollBounds()},handleDragStart:function(t){var e;he.prototype.handleDragStart.apply(this,arguments),(e=this.queryHit(w(t),x(t)))&&this.handleHitOver(e)},handleDrag:function(t,e,n){var i;he.prototype.handleDrag.apply(this,arguments),_t(i=this.queryHit(w(n),x(n)),this.hit)||(this.hit&&this.handleHitOut(),i&&this.handleHitOver(i))},handleDragEnd:function(){this.handleHitDone(),he.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(t){var e=_t(t,this.origHit);this.hit=t,this.trigger("hitOver",this.hit,e,this.origHit)},handleHitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.handleHitDone(),this.hit=null)},handleHitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},handleInteractionEnd:function(){he.prototype.handleInteractionEnd.apply(this,arguments),this.origHit=null,this.hit=null,this.component.releaseHits()},handleScrollEnd:function(){he.prototype.handleScrollEnd.apply(this,arguments),this.computeCoords()},queryHit:function(t,e){return this.coordAdjust&&(t+=this.coordAdjust.left,e+=this.coordAdjust.top),this.component.queryHit(t,e)}}),pe=wt.extend(le,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(e,n){this.options=n=n||{},this.sourceEl=e,this.parentEl=n.parentEl?t(n.parentEl):e.parent()},start:function(e){this.isFollowing||(this.isFollowing=!0,this.y0=x(e),this.x0=w(e),this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),C(e)?this.listenTo(t(document),"touchmove",this.handleMove):this.listenTo(t(document),"mousemove",this.handleMove))},stop:function(e,n){function i(){r.isAnimating=!1,r.removeElement(),r.top0=r.left0=null,n&&n()}var r=this,o=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,this.stopListeningTo(t(document)),e&&o&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:o,complete:i})):i())},getEl:function(){var t=this.el;return t||((t=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex})).addClass("fc-unselectable"),t.appendTo(this.parentEl)),t},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var t,e;this.getEl(),null===this.top0&&(t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(t){this.topDelta=x(t)-this.y0,this.leftDelta=w(t)-this.x0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),ge=qt.Grid=wt.extend(le,ce,{hasDayInteractions:!0,view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayDragListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(t){this.view=t,this.isRTL=t.opt("isRTL"),this.elsByFill={},this.dayDragListener=this.buildDayDragListener(),this.initMouseIgnoring()},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(t){this.start=t.start.clone(),this.end=t.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var t,e,n=this.view;this.eventTimeFormat=n.opt("eventTimeFormat")||n.opt("timeFormat")||this.computeEventTimeFormat(),null==(t=n.opt("displayEventTime"))&&(t=this.computeDisplayEventTime()),null==(e=n.opt("displayEventEnd"))&&(e=this.computeDisplayEventEnd()),this.displayEventTime=t,this.displayEventEnd=e},spanToSegs:function(){},diffDates:function(t,e){return this.largeUnit?N(t,e,this.largeUnit):F(t,e)},prepareHits:function(){},releaseHits:function(){},queryHit:function(){},getHitSpan:function(){},getHitEl:function(){},setElement:function(t){this.el=t,this.hasDayInteractions&&(_(t),this.bindDayHandler("touchstart",this.dayTouchStart),this.bindDayHandler("mousedown",this.dayMousedown)),this.bindSegHandlers(),this.bindGlobalHandlers()},bindDayHandler:function(e,n){var i=this;this.el.on(e,(function(e){if(!t(e.target).is(i.segSelector+","+i.segSelector+" *,.fc-more,a[data-goto]"))return n.call(i,e)}))},removeElement:function(){this.unbindGlobalHandlers(),this.clearDragListeners(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(t(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(t(document))},dayMousedown:function(t){this.isIgnoringMouse||this.dayDragListener.startInteraction(t,{})},dayTouchStart:function(t){var e=this.view;(e.isSelected||e.selectedEvent)&&this.tempIgnoreMouse(),this.dayDragListener.startInteraction(t,{delay:this.view.opt("longPressDelay")})},buildDayDragListener:function(){var t,e,n=this,i=this.view,r=i.opt("selectable"),a=new fe(this,{scroll:i.opt("dragScroll"),interactionStart:function(){t=a.origHit,e=null},dragStart:function(){i.unselect()},hitOver:function(i,s,a){a&&(s||(t=null),r&&((e=n.computeSelection(n.getHitSpan(a),n.getHitSpan(i)))?n.renderSelection(e):!1===e&&o()))},hitOut:function(){t=null,e=null,n.unrenderSelection()},hitDone:function(){s()},interactionEnd:function(r,o){o||(t&&!n.isIgnoringMouse&&i.triggerDayClick(n.getHitSpan(t),n.getHitEl(t),r),e&&i.reportSelection(e,r))}});return a},clearDragListeners:function(){this.dayDragListener.endInteraction(),this.segDragListener&&this.segDragListener.endInteraction(),this.segResizeListener&&this.segResizeListener.endInteraction(),this.externalDragListener&&this.externalDragListener.endInteraction()},renderEventLocationHelper:function(t,e){var n=this.fabricateHelperEvent(t,e);return this.renderHelper(n,e)},fabricateHelperEvent:function(t,e){var n=e?G(e.event):{};return n.start=t.start.clone(),n.end=t.end?t.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventDates(n),n.className=(n.className||[]).concat("fc-helper"),e||(n.editable=!1),n},renderHelper:function(){},unrenderHelper:function(){},renderSelection:function(t){this.renderHighlight(t)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(t,e){var n=this.computeSelectionSpan(t,e);return!(n&&!this.view.calendar.isSelectionSpanAllowed(n))&&n},computeSelectionSpan:function(t,e){var n=[t.start,t.end,e.start,e.end];return n.sort(ot),{start:n[0].clone(),end:n[3].clone()}},renderHighlight:function(t){this.renderFill("highlight",this.spanToSegs(t))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(){},unrenderNowIndicator:function(){},renderFill:function(){},unrenderFill:function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},renderFillSegEls:function(e,n){var i,r=this,o=this[e+"SegEl"],s="",a=[];if(n.length){for(i=0;i<n.length;i++)s+=this.fillSegHtml(e,n[i]);t(s).each((function(e,i){var s=n[e],l=t(i);o&&(l=o.call(r,s,l)),l&&(l=t(l)).is(r.fillSegTag)&&(s.el=l,a.push(s))}))}return a},fillSegTag:"div",fillSegHtml:function(t,e){var n=this[t+"SegClasses"],i=this[t+"SegCss"],r=n?n.call(this,e):[],o=nt(i?i.call(this,e):{});return"<"+this.fillSegTag+(r.length?' class="'+r.join(" ")+'"':"")+(o?' style="'+o+'"':"")+" />"},getDayClasses:function(t){var e=this.view,n=e.calendar.getNow(),i=["fc-"+Xt[t.day()]];return 1==e.intervalDuration.as("months")&&t.month()!=e.intervalStart.month()&&i.push("fc-other-month"),t.isSame(n,"day")?i.push("fc-today",e.highlightStateClass):t<n?i.push("fc-past"):i.push("fc-future"),i}});ge.mixin({segSelector:".fc-event-container > *",mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(t){var e,n=[],i=[];for(e=0;e<t.length;e++)(Tt(t[e])?n:i).push(t[e]);this.segs=[].concat(this.renderBgEvents(n),this.renderFgEvents(i))},renderBgEvents:function(t){var e=this.eventsToSegs(t);return this.renderBgSegs(e)||e},renderFgEvents:function(t){var e=this.eventsToSegs(t);return this.renderFgSegs(e)||e},unrenderEvents:function(){this.handleSegMouseout(),this.clearDragListeners(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(){},unrenderFgSegs:function(){},renderFgSegEls:function(e,n){var i,r=this.view,o="",s=[];if(e.length){for(i=0;i<e.length;i++)o+=this.fgSegHtml(e[i],n);t(o).each((function(n,i){var o=e[n],a=r.resolveEventEl(o.event,t(i));a&&(a.data("fc-seg",o),o.el=a,s.push(o))}))}return s},fgSegHtml:function(){},renderBgSegs:function(t){return this.renderFill("bgEvent",t)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(t,e){return this.view.resolveEventEl(t.event,e)},bgEventSegClasses:function(t){var e=t.event,n=e.source||{};return["fc-bgevent"].concat(e.className,n.className||[])},bgEventSegCss:function(t){return{"background-color":this.getSegSkinCss(t)["background-color"]}},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},buildBusinessHourSegs:function(e){var n=this.view.calendar.getCurrentBusinessHourEvents(e);return!n.length&&this.view.calendar.options.businessHours&&(n=[t.extend({},Ee,{start:this.view.end,end:this.view.end,dow:null})]),this.eventsToSegs(n)},bindSegHandlers:function(){this.bindSegHandlersToEl(this.el)},bindSegHandlersToEl:function(t){this.bindSegHandlerToEl(t,"touchstart",this.handleSegTouchStart),this.bindSegHandlerToEl(t,"touchend",this.handleSegTouchEnd),this.bindSegHandlerToEl(t,"mouseenter",this.handleSegMouseover),this.bindSegHandlerToEl(t,"mouseleave",this.handleSegMouseout),this.bindSegHandlerToEl(t,"mousedown",this.handleSegMousedown),this.bindSegHandlerToEl(t,"click",this.handleSegClick)},bindSegHandlerToEl:function(e,n,i){var r=this;e.on(n,this.segSelector,(function(e){var n=t(this).data("fc-seg");if(n&&!r.isDraggingSeg&&!r.isResizingSeg)return i.call(r,n,e)}))},handleSegClick:function(t,e){!1===this.view.trigger("eventClick",t.el[0],t.event,e)&&e.preventDefault()},handleSegMouseover:function(t,e){this.isIgnoringMouse||this.mousedOverSeg||(this.mousedOverSeg=t,this.view.isEventResizable(t.event)&&t.el.addClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseover",t.el[0],t.event,e))},handleSegMouseout:function(t,e){e=e||{},this.mousedOverSeg&&(t=t||this.mousedOverSeg,this.mousedOverSeg=null,this.view.isEventResizable(t.event)&&t.el.removeClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseout",t.el[0],t.event,e))},handleSegMousedown:function(t,e){!this.startSegResize(t,e,{distance:5})&&this.view.isEventDraggable(t.event)&&this.buildSegDragListener(t).startInteraction(e,{distance:5})},handleSegTouchStart:function(t,e){var n=this.view,i=t.event,r=n.isEventSelected(i),o=n.isEventDraggable(i),s=n.isEventResizable(i),a=!1;r&&s&&(a=this.startSegResize(t,e)),a||!o&&!s||(o?this.buildSegDragListener(t):this.buildSegSelectListener(t)).startInteraction(e,{delay:r?0:this.view.opt("longPressDelay")}),this.tempIgnoreMouse()},handleSegTouchEnd:function(){this.tempIgnoreMouse()},startSegResize:function(e,n,i){return!!t(n.target).is(".fc-resizer")&&(this.buildSegResizeListener(e,t(n.target).is(".fc-start-resizer")).startInteraction(n,i),!0)},buildSegDragListener:function(t){var e,n,i,r=this,a=this.view,l=a.calendar,c=t.el,u=t.event;if(this.segDragListener)return this.segDragListener;var d=this.segDragListener=new fe(a,{scroll:a.opt("dragScroll"),subjectEl:c,subjectCenter:!0,interactionStart:function(i){t.component=r,e=!1,(n=new pe(t.el,{additionalClass:"fc-dragging",parentEl:a.el,opacity:d.isTouch?null:a.opt("dragOpacity"),revertDuration:a.opt("dragRevertDuration"),zIndex:2})).hide(),n.start(i)},dragStart:function(n){d.isTouch&&!a.isEventSelected(u)&&a.selectEvent(u),e=!0,r.handleSegMouseout(t,n),r.segDragStart(t,n),a.hideEvent(u)},hitOver:function(e,s,c){var h;t.hit&&(c=t.hit),(i=r.computeEventDrop(c.component.getHitSpan(c),e.component.getHitSpan(e),u))&&!l.isEventSpanAllowed(r.eventToSpan(i),u)&&(o(),i=null),i&&(h=a.renderDrag(i,t))?(h.addClass("fc-dragging"),d.isTouch||r.applyDragOpacity(h),n.hide()):n.show(),s&&(i=null)},hitOut:function(){a.unrenderDrag(),n.show(),i=null},hitDone:function(){s()},interactionEnd:function(o){delete t.component,n.stop(!i,(function(){e&&(a.unrenderDrag(),a.showEvent(u),r.segDragStop(t,o)),i&&a.reportEventDrop(u,i,this.largeUnit,c,o)})),r.segDragListener=null}});return d},buildSegSelectListener:function(t){var e=this,n=this.view,i=t.event;if(this.segDragListener)return this.segDragListener;var r=this.segDragListener=new he({dragStart:function(){r.isTouch&&!n.isEventSelected(i)&&n.selectEvent(i)},interactionEnd:function(){e.segDragListener=null}});return r},segDragStart:function(t,e){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",t.el[0],t.event,e,{})},segDragStop:function(t,e){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",t.el[0],t.event,e,{})},computeEventDrop:function(t,e,n){var i,r,o=this.view.calendar,s=t.start,a=e.start;return s.hasTime()===a.hasTime()?(i=this.diffDates(a,s),n.allDay&&Y(i)?(r={start:n.start.clone(),end:o.getEventEnd(n),allDay:!1},o.normalizeEventTimes(r)):r=St(n),r.start.add(i),r.end&&r.end.add(i)):r={start:a.clone(),end:null,allDay:!a.hasTime()},r},applyDragOpacity:function(t){var e=this.view.opt("dragOpacity");null!=e&&t.css("opacity",e)},externalDragStart:function(e,n){var i,r,o=this.view;o.opt("droppable")&&(i=t((n?n.item:null)||e.target),r=o.opt("dropAccept"),(t.isFunction(r)?r.call(i[0],i):i.is(r))&&(this.isDraggingExternal||this.listenToExternalDrag(i,e,n)))},listenToExternalDrag:function(t,e,n){var i,r=this,a=this.view.calendar,l=Ot(t),c=r.externalDragListener=new fe(this,{interactionStart:function(){r.isDraggingExternal=!0},hitOver:function(t){(i=r.computeExternalDrop(t.component.getHitSpan(t),l))&&!a.isExternalSpanAllowed(r.eventToSpan(i),i,l.eventProps)&&(o(),i=null),i&&r.renderDrag(i)},hitOut:function(){i=null},hitDone:function(){s(),r.unrenderDrag()},interactionEnd:function(e){i&&r.view.reportExternalDrop(l,i,t,e,n),r.isDraggingExternal=!1,r.externalDragListener=null}});c.startDrag(e)},computeExternalDrop:function(t,e){var n={start:this.view.calendar.applyTimezone(t.start),end:null};return e.startTime&&!n.start.hasTime()&&n.start.time(e.startTime),e.duration&&(n.end=n.start.clone().add(e.duration)),n},renderDrag:function(){},unrenderDrag:function(){},buildSegResizeListener:function(t,e){var n,i,r=this,a=this.view,l=a.calendar,c=t.el,u=t.event,d=l.getEventEnd(u);return this.segResizeListener=new fe(this,{scroll:a.opt("dragScroll"),subjectEl:c,interactionStart:function(){n=!1},dragStart:function(e){n=!0,r.handleSegMouseout(t,e),r.segResizeStart(t,e)},hitOver:function(n,s,c){var h=r.getHitSpan(c),f=r.getHitSpan(n);(i=e?r.computeEventStartResize(h,f,u):r.computeEventEndResize(h,f,u))&&(l.isEventSpanAllowed(r.eventToSpan(i),u)?i.start.isSame(u.start.clone().stripZone())&&i.end.isSame(d.clone().stripZone())&&(i=null):(o(),i=null)),i&&(a.hideEvent(u),r.renderEventResize(i,t))},hitOut:function(){i=null},hitDone:function(){r.unrenderEventResize(),a.showEvent(u),s()},interactionEnd:function(e){n&&r.segResizeStop(t,e),i&&a.reportEventResize(u,i,this.largeUnit,c,e),r.segResizeListener=null}})},segResizeStart:function(t,e){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",t.el[0],t.event,e,{})},segResizeStop:function(t,e){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",t.el[0],t.event,e,{})},computeEventStartResize:function(t,e,n){return this.computeEventResize("start",t,e,n)},computeEventEndResize:function(t,e,n){return this.computeEventResize("end",t,e,n)},computeEventResize:function(t,e,n,i){var r,o,s=this.view.calendar,a=this.diffDates(n[t],e[t]);return(r={start:i.start.clone(),end:s.getEventEnd(i),allDay:i.allDay}).allDay&&Y(a)&&(r.allDay=!1,s.normalizeEventTimes(r)),r[t].add(a),r.start.isBefore(r.end)||(o=this.minResizeDuration||(i.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration),"start"==t?r.start=r.end.clone().subtract(o):r.end=r.start.clone().add(o)),r},renderEventResize:function(){},unrenderEventResize:function(){},getEventTimeText:function(t,e,n){return null==e&&(e=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),
this.displayEventTime&&t.start.hasTime()?n&&t.end?this.view.formatRange(t,e):t.start.format(e):""},getSegClasses:function(t,e,n){var i=this.view,r=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(this.getSegCustomClasses(t));return e&&r.push("fc-draggable"),n&&r.push("fc-resizable"),i.isEventSelected(t.event)&&r.push("fc-selected"),r},getSegCustomClasses:function(t){var e=t.event;return[].concat(e.className,e.source?e.source.className:[])},getSegSkinCss:function(t){return{"background-color":this.getSegBackgroundColor(t),"border-color":this.getSegBorderColor(t),color:this.getSegTextColor(t)}},getSegBackgroundColor:function(t){return t.event.backgroundColor||t.event.color||this.getSegDefaultBackgroundColor(t)},getSegDefaultBackgroundColor:function(t){var e=t.event.source||{};return e.backgroundColor||e.color||this.view.opt("eventBackgroundColor")||this.view.opt("eventColor")},getSegBorderColor:function(t){return t.event.borderColor||t.event.color||this.getSegDefaultBorderColor(t)},getSegDefaultBorderColor:function(t){var e=t.event.source||{};return e.borderColor||e.color||this.view.opt("eventBorderColor")||this.view.opt("eventColor")},getSegTextColor:function(t){return t.event.textColor||this.getSegDefaultTextColor(t)},getSegDefaultTextColor:function(t){return(t.event.source||{}).textColor||this.view.opt("eventTextColor")},eventToSegs:function(t){return this.eventsToSegs([t])},eventToSpan:function(t){return this.eventToSpans(t)[0]},eventToSpans:function(t){var e=this.eventToRange(t);return this.eventRangeToSpans(e,t)},eventsToSegs:function(e,n){var i=this,r=Mt(e),o=[];return t.each(r,(function(t,e){var r,s=[];for(r=0;r<e.length;r++)s.push(i.eventToRange(e[r]));if(Dt(e[0]))for(s=i.invertRanges(s),r=0;r<s.length;r++)o.push.apply(o,i.eventRangeToSegs(s[r],e[0],n));else for(r=0;r<s.length;r++)o.push.apply(o,i.eventRangeToSegs(s[r],e[r],n))})),o},eventToRange:function(t){var e=this.view.calendar,n=t.start.clone().stripZone(),i=(t.end?t.end.clone():e.getDefaultEventEnd(null!=t.allDay?t.allDay:!t.start.hasTime(),t.start)).stripZone();return e.localizeMoment(n),e.localizeMoment(i),{start:n,end:i}},eventRangeToSegs:function(t,e,n){var i,r=this.eventRangeToSpans(t,e),o=[];for(i=0;i<r.length;i++)o.push.apply(o,this.eventSpanToSegs(r[i],e,n));return o},eventRangeToSpans:function(e){return[t.extend({},e)]},eventSpanToSegs:function(t,e,n){var i,r,o=n?n(t):this.spanToSegs(t);for(i=0;i<o.length;i++)(r=o[i]).event=e,r.eventStartMS=+t.start,r.eventDurationMS=t.end-t.start;return o},invertRanges:function(t){var e,n,i=this.view,r=i.start.clone(),o=i.end.clone(),s=[],a=r;for(t.sort(At),e=0;e<t.length;e++)(n=t[e]).start>a&&s.push({start:a,end:n.start}),a=n.end;return a<o&&s.push({start:a,end:o}),s},sortEventSegs:function(t){t.sort(at(this,"compareEventSegs"))},compareEventSegs:function(t,e){return t.eventStartMS-e.eventStartMS||e.eventDurationMS-t.eventDurationMS||e.event.allDay-t.event.allDay||P(t.event,e.event,this.view.eventOrderSpecs)}}),qt.pluckEventDateProps=St,qt.isBgEvent=Tt,qt.dataAttrPrefix="";var me=qt.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var t,e,n,i=this.view,r=this.start.clone(),o=-1,s=[],a=[];r.isBefore(this.end);)i.isHiddenDay(r)?s.push(o+.5):(o++,s.push(o),a.push(r.clone())),r.add(1,"days");if(this.breakOnWeeks){for(e=a[0].day(),t=1;t<a.length&&a[t].day()!=e;t++);n=Math.ceil(a.length/t)}else n=1,t=a.length;this.dayDates=a,this.dayIndices=s,this.daysPerRow=t,this.rowCnt=n,this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(t,e){return this.dayDates[this.getCellDayIndex(t,e)].clone()},getCellRange:function(t,e){var n=this.getCellDate(t,e),i=n.clone().add(1,"days");return{start:n,end:i}},getCellDayIndex:function(t,e){return t*this.daysPerRow+this.getColDayIndex(e)},getColDayIndex:function(t){return this.isRTL?this.colCnt-1-t:t},getDateDayIndex:function(t){var e=this.dayIndices,n=t.diff(this.start,"days");return n<0?e[0]-1:n>=e.length?e[e.length-1]+1:e[n]},computeColHeadFormat:function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(t){var e,n,i,r,o,s=this.daysPerRow,a=this.view.computeDayRange(t),l=this.getDateDayIndex(a.start),c=this.getDateDayIndex(a.end.clone().subtract(1,"days")),u=[];for(e=0;e<this.rowCnt;e++)i=(n=e*s)+s-1,r=Math.max(l,n),o=Math.min(c,i),(r=Math.ceil(r))<=(o=Math.floor(o))&&u.push({row:e,firstRowDayIndex:r-n,lastRowDayIndex:o-n,isStart:r===l,isEnd:o===c});return u},sliceRangeByDay:function(t){var e,n,i,r,o,s,a=this.daysPerRow,l=this.view.computeDayRange(t),c=this.getDateDayIndex(l.start),u=this.getDateDayIndex(l.end.clone().subtract(1,"days")),d=[];for(e=0;e<this.rowCnt;e++)for(i=(n=e*a)+a-1,r=n;r<=i;r++)o=Math.max(c,r),s=Math.min(u,r),(o=Math.ceil(o))<=(s=Math.floor(s))&&d.push({row:e,firstRowDayIndex:o-n,lastRowDayIndex:s-n,isStart:o===c,isEnd:s===u});return d},renderHeadHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var t,e,n=[];for(t=0;t<this.colCnt;t++)e=this.getCellDate(0,t),n.push(this.renderHeadDateCellHtml(e));return n.join("")},renderHeadDateCellHtml:function(t,e,n){var i=this.view;return'<th class="fc-day-header '+i.widgetHeaderClass+" fc-"+Xt[t.day()]+'"'+(1===this.rowCnt?' data-date="'+t.format("YYYY-MM-DD")+'"':"")+(e>1?' colspan="'+e+'"':"")+(n?" "+n:"")+">"+i.buildGotoAnchorHtml({date:t,forceOff:this.rowCnt>1||1===this.colCnt},tt(t.format(this.colHeadFormat)))+"</th>"},renderBgTrHtml:function(t){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(t))+this.renderBgCellsHtml(t)+(this.isRTL?this.renderBgIntroHtml(t):"")+"</tr>"},renderBgIntroHtml:function(){return this.renderIntroHtml()},renderBgCellsHtml:function(t){var e,n,i=[];for(e=0;e<this.colCnt;e++)n=this.getCellDate(t,e),i.push(this.renderBgCellHtml(n));return i.join("")},renderBgCellHtml:function(t,e){var n=this.view,i=this.getDayClasses(t);return i.unshift("fc-day",n.widgetContentClass),'<td class="'+i.join(" ")+'" data-date="'+t.format("YYYY-MM-DD")+'"'+(e?" "+e:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(t){var e=this.renderIntroHtml();e&&(this.isRTL?t.append(e):t.prepend(e))}},ve=qt.DayGrid=ge.extend(me,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(t){var e,n,i=this.view,r=this.rowCnt,o=this.colCnt,s="";for(e=0;e<r;e++)s+=this.renderDayRowHtml(e,t);for(this.el.html(s),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day"),this.rowCoordCache=new de({els:this.rowEls,isVertical:!0}),this.colCoordCache=new de({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),e=0;e<r;e++)for(n=0;n<o;n++)i.trigger("dayRender",null,this.getCellDate(e,n),this.getCellEl(e,n))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var t=this.buildBusinessHourSegs(!0);this.renderFill("businessHours",t,"bgevent")},unrenderBusinessHours:function(){this.unrenderFill("businessHours")},renderDayRowHtml:function(t,e){var n=["fc-row","fc-week",this.view.widgetContentClass];return e&&n.push("fc-rigid"),'<div class="'+n.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(t)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(t){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(t))+this.renderNumberCellsHtml(t)+(this.isRTL?this.renderNumberIntroHtml(t):"")+"</tr>"},renderNumberIntroHtml:function(){return this.renderIntroHtml()},renderNumberCellsHtml:function(t){var e,n,i=[];for(e=0;e<this.colCnt;e++)n=this.getCellDate(t,e),i.push(this.renderNumberCellHtml(n));return i.join("")},renderNumberCellHtml:function(t){var e,n,i="";return this.view.dayNumbersVisible||this.view.cellWeekNumbersVisible?((e=this.getDayClasses(t)).unshift("fc-day-top"),this.view.cellWeekNumbersVisible&&(n="ISO"===t._locale._fullCalendar_weekCalc?1:t._locale.firstDayOfWeek()),i+='<td class="'+e.join(" ")+'" data-date="'+t.format()+'">',this.view.cellWeekNumbersVisible&&t.day()==n&&(i+=this.view.buildGotoAnchorHtml({date:t,type:"week"},{class:"fc-week-number"},t.format("w"))),this.view.dayNumbersVisible&&(i+=this.view.buildGotoAnchorHtml(t,{class:"fc-day-number"},t.date())),i+="</td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(t){var e,n,i=this.sliceRangeByRow(t);for(e=0;e<i.length;e++)n=i[e],this.isRTL?(n.leftCol=this.daysPerRow-1-n.lastRowDayIndex,n.rightCol=this.daysPerRow-1-n.firstRowDayIndex):(n.leftCol=n.firstRowDayIndex,n.rightCol=n.lastRowDayIndex);return i},prepareHits:function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},queryHit:function(t,e){if(this.colCoordCache.isLeftInBounds(t)&&this.rowCoordCache.isTopInBounds(e)){var n=this.colCoordCache.getHorizontalIndex(t),i=this.rowCoordCache.getVerticalIndex(e);if(null!=i&&null!=n)return this.getCellHit(i,n)}},getHitSpan:function(t){return this.getCellRange(t.row,t.col)},getHitEl:function(t){return this.getCellEl(t.row,t.col)},getCellHit:function(t,e){return{row:t,col:e,component:this,left:this.colCoordCache.getLeftOffset(e),right:this.colCoordCache.getRightOffset(e),top:this.rowCoordCache.getTopOffset(t),bottom:this.rowCoordCache.getBottomOffset(t)}},getCellEl:function(t,e){return this.cellEls.eq(t*this.colCnt+e)},renderDrag:function(t,e){if(this.renderHighlight(this.eventToSpan(t)),e&&e.component!==this)return this.renderEventLocationHelper(t,e)},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(t,e){return this.renderHighlight(this.eventToSpan(t)),this.renderEventLocationHelper(t,e)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(e,n){var i,r=[],o=this.eventToSegs(e);return o=this.renderFgSegEls(o),i=this.renderSegRows(o),this.rowEls.each((function(e,o){var s,a=t(o),l=t('<div class="fc-helper-skeleton"><table/></div>');s=n&&n.row===e?n.el.position().top:a.find(".fc-content-skeleton tbody").position().top,l.css("top",s).find("table").append(i[e].tbodyEl),a.append(l),r.push(l[0])})),this.helperEls=t(r)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(e,n,i){var r,o,s,a=[];for(n=this.renderFillSegEls(e,n),r=0;r<n.length;r++)o=n[r],s=this.renderFillRow(e,o,i),this.rowEls.eq(o.row).append(s),a.push(s[0]);return this.elsByFill[e]=t(a),n},renderFillRow:function(e,n,i){var r,o,s=this.colCnt,a=n.leftCol,l=n.rightCol+1;return i=i||e.toLowerCase(),o=(r=t('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>')).find("tr"),a>0&&o.append('<td colspan="'+a+'"/>'),o.append(n.el.attr("colspan",l-a)),l<s&&o.append('<td colspan="'+(s-l)+'"/>'),this.bookendCells(o),r}});ve.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),ge.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return ge.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(e){var n=t.grep(e,(function(t){return t.event.allDay}));return ge.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(e){var n;return e=this.renderFgSegEls(e),n=this.rowStructs=this.renderSegRows(e),this.rowEls.each((function(e,i){t(i).find(".fc-content-skeleton > table").append(n[e].tbodyEl)})),e},unrenderFgSegs:function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(t){var e,n,i=[];for(e=this.groupSegRows(t),n=0;n<e.length;n++)i.push(this.renderSegRow(n,e[n]));return i},fgSegHtml:function(t,e){var n,i,r=this.view,o=t.event,s=r.isEventDraggable(o),a=!e&&o.allDay&&t.isStart&&r.isEventResizableFromStart(o),l=!e&&o.allDay&&t.isEnd&&r.isEventResizableFromEnd(o),c=this.getSegClasses(t,s,a||l),u=nt(this.getSegSkinCss(t)),d="",h=o.data_url||o.url;return c.unshift("fc-day-grid-event","fc-h-event"),t.isStart&&(n=this.getEventTimeText(o))&&(d='<span class="fc-time">'+tt(n)+"</span>"),i='<span class="fc-title '+o.titleClass+'" title="'+o.description+'">'+(tt(o.title||"")||"&nbsp;")+"</span>",o.titleIcons&&(i=o.titleIcons+i),'<a data-url="'+h+'" class="'+c.join(" ")+'"'+(o.url?' href="'+tt(o.url)+'"':"")+(u?' style="'+u+'"':"")+'><div class="fc-content">'+(this.isRTL?i+" "+d:d+" "+i)+"</div>"+(a?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(e,n){function i(e){for(;s<e;)(u=(v[r-1]||[])[s])?u.attr("rowspan",parseInt(u.attr("rowspan")||1,10)+1):(u=t("<td/>"),a.append(u)),m[r][s]=u,v[r][s]=u,s++}var r,o,s,a,l,c,u,d=this.colCnt,h=this.buildSegLevels(n),f=Math.max(1,h.length),p=t("<tbody/>"),g=[],m=[],v=[];for(r=0;r<f;r++){if(o=h[r],s=0,a=t("<tr/>"),g.push([]),m.push([]),v.push([]),o)for(l=0;l<o.length;l++){for(i((c=o[l]).leftCol),u=t('<td class="fc-event-container"/>').append(c.el),c.leftCol!=c.rightCol?u.attr("colspan",c.rightCol-c.leftCol+1):v[r][s]=u;s<=c.rightCol;)m[r][s]=u,g[r][s]=c,s++;a.append(u)}i(d),this.bookendCells(a),p.append(a)}return{row:e,tbodyEl:p,cellMatrix:m,segMatrix:g,segLevels:h,segs:n}},buildSegLevels:function(t){var e,n,i,r=[];for(this.sortEventSegs(t),e=0;e<t.length;e++){for(n=t[e],i=0;i<r.length&&Pt(n,r[i]);i++);n.level=i,(r[i]||(r[i]=[])).push(n)}for(i=0;i<r.length;i++)r[i].sort(Lt);return r},groupSegRows:function(t){var e,n=[];for(e=0;e<this.rowCnt;e++)n.push([]);for(e=0;e<t.length;e++)n[t[e].row].push(t[e]);return n}}),ve.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(t){var e,n,i=this.rowStructs||[];for(e=0;e<i.length;e++)this.unlimitRow(e),!1!==(n=!!t&&("number"==typeof t?t:this.computeRowLevelLimit(e)))&&this.limitRow(e,n)},computeRowLevelLimit:function(e){function n(e,n){o=Math.max(o,t(n).outerHeight())}var i,r,o,s=this.rowEls.eq(e).height(),a=this.rowStructs[e].tbodyEl.children();for(i=0;i<a.length;i++)if(r=a.eq(i).removeClass("fc-limited"),o=0,r.find("> td > :first-child").each(n),r.position().top+o>s)return i;return!1},limitRow:function(e,n){function i(i){for(;C<i;)(c=b.getCellSegs(e,C,n)).length&&(h=o[n-1][C],y=b.renderMoreLink(e,C,c),v=t("<div/>").append(y),h.append(v),x.push(v[0])),C++}var r,o,s,a,l,c,u,d,h,f,p,g,m,v,y,b=this,w=this.rowStructs[e],x=[],C=0;if(n&&n<w.segLevels.length){for(r=w.segLevels[n-1],o=w.cellMatrix,s=w.tbodyEl.children().slice(n).addClass("fc-limited").get(),a=0;a<r.length;a++){for(i((l=r[a]).leftCol),d=[],u=0;C<=l.rightCol;)c=this.getCellSegs(e,C,n),d.push(c),u+=c.length,C++;if(u){for(f=(h=o[n-1][l.leftCol]).attr("rowspan")||1,p=[],g=0;g<d.length;g++)m=t('<td class="fc-more-cell"/>').attr("rowspan",f),c=d[g],y=this.renderMoreLink(e,l.leftCol+g,[l].concat(c)),v=t("<div/>").append(y),m.append(v),p.push(m[0]),x.push(m[0]);h.addClass("fc-limited").after(t(p)),s.push(h[0])}}i(this.colCnt),w.moreEls=t(x),w.limitedEls=t(s)}},unlimitRow:function(t){var e=this.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},renderMoreLink:function(e,n,i){var r=this,o=this.view;return t('<a class="fc-more"/>').text(this.getMoreLinkText(i.length)).on("click",(function(s){var a=o.opt("eventLimitClick"),l=r.getCellDate(e,n),c=t(this),u=r.getCellEl(e,n),d=r.getCellSegs(e,n),h=r.resliceDaySegs(d,l),f=r.resliceDaySegs(i,l);"function"==typeof a&&(a=o.trigger("eventLimitClick",null,{date:l,dayEl:u,moreEl:c,segs:h,hiddenSegs:f},s)),"popover"===a?r.showSegPopover(e,n,c,h):"string"==typeof a&&o.calendar.zoomTo(l,a)}))},showSegPopover:function(t,e,n,i){var r,o,s=this,a=this.view,l=n.parent();r=1==this.rowCnt?a.el:this.rowEls.eq(t),o={className:"fc-more-popover",content:this.renderSegPopoverContent(t,e,i),parentEl:this.view.el,top:r.offset().top,autoHide:!0,viewportConstrain:a.opt("popoverViewportConstrain"),hide:function(){s.segPopover.removeElement(),s.segPopover=null,s.popoverSegs=null}},this.isRTL?o.right=l.offset().left+l.outerWidth()+1:o.left=l.offset().left-1,this.segPopover=new ue(o),this.segPopover.show(),this.bindSegHandlersToEl(this.segPopover.el)},renderSegPopoverContent:function(e,n,i){var r,o=this.view,s=o.opt("theme"),a=this.getCellDate(e,n).format(o.opt("dayPopoverFormat")),l=t('<div class="fc-header '+o.widgetHeaderClass+'"><span class="fc-close '+(s?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+tt(a)+'</span><div class="fc-clear"/></div><div class="fc-body '+o.widgetContentClass+'"><div class="fc-event-container"></div></div>'),c=l.find(".fc-event-container");for(i=this.renderFgSegEls(i,!0),this.popoverSegs=i,r=0;r<i.length;r++)this.prepareHits(),i[r].hit=this.getCellHit(e,n),this.releaseHits(),c.append(i[r].el);return l},resliceDaySegs:function(e,n){var i=t.map(e,(function(t){return t.event})),r=n.clone(),o=r.clone().add(1,"days"),s={start:r,end:o};return e=this.eventsToSegs(i,(function(t){var e=$(t,s);return e?[e]:[]})),this.sortEventSegs(e),e},getMoreLinkText:function(t){var e=this.view.opt("eventLimitText");return"function"==typeof e?e(t):"+"+t+" "+e},getCellSegs:function(t,e,n){for(var i,r=this.rowStructs[t].segMatrix,o=n||0,s=[];o<r.length;)(i=r[o][e])&&s.push(i),o++;return s}});var ye=qt.TimeGrid=ge.extend(me,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){ge.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.colEls=this.el.find(".fc-day"),this.slatContainerEl=this.el.find(".fc-slats"),this.slatEls=this.slatContainerEl.find("tr"),this.colCoordCache=new de({els:this.colEls,isHorizontal:!0}),this.slatCoordCache=new de({els:this.slatEls,isVertical:!0}),this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){for(var t,n,i,r=this.view,o=this.isRTL,s="",a=e.duration(+this.minTime);a<this.maxTime;)t=this.start.clone().time(a),n=st(R(a,this.labelInterval)),i='<td class="fc-axis fc-time '+r.widgetContentClass+'" '+r.axisStyleAttr()+">"+(n?"<span>"+tt(t.format(this.labelFormat))+"</span>":"")+"</td>",s+='<tr data-time="'+t.format("HH:mm:ss")+'"'+(n?"":' class="fc-minor"')+">"+(o?"":i)+'<td class="'+r.widgetContentClass+'"/>'+(o?i:"")+"</tr>",a.add(this.slotDuration);return s},processOptions:function(){var n,i=this.view,r=i.opt("slotDuration"),o=i.opt("snapDuration");r=e.duration(r),o=o?e.duration(o):r,this.slotDuration=r,this.snapDuration=o,this.snapsPerSlot=r/o,this.minResizeDuration=o,this.minTime=e.duration(i.opt("minTime")),this.maxTime=e.duration(i.opt("maxTime")),n=i.opt("slotLabelFormat"),t.isArray(n)&&(n=n[n.length-1]),this.labelFormat=n||i.opt("smallTimeFormat"),n=i.opt("slotLabelInterval"),this.labelInterval=n?e.duration(n):this.computeLabelInterval(r)},computeLabelInterval:function(t){var n,i,r;for(n=Fe.length-1;n>=0;n--)if(st(r=R(i=e.duration(Fe[n]),t))&&r>1)return i;return e.duration(t)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build(),this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(t,e){var n=this.snapsPerSlot,i=this.colCoordCache,r=this.slatCoordCache;if(i.isLeftInBounds(t)&&r.isTopInBounds(e)){var o=i.getHorizontalIndex(t),s=r.getVerticalIndex(e);if(null!=o&&null!=s){var a=r.getTopOffset(s),l=r.getHeight(s),c=(e-a)/l,u=Math.floor(c*n),d=a+u/n*l,h=a+(u+1)/n*l;return{col:o,snap:s*n+u,component:this,left:i.getLeftOffset(o),right:i.getRightOffset(o),top:d,bottom:h}}}},getHitSpan:function(t){var e,n=this.getCellDate(0,t.col),i=this.computeSnapTime(t.snap);return n.time(i),e=n.clone().add(this.snapDuration),{start:n,end:e}},getHitEl:function(t){return this.colEls.eq(t.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(t){return e.duration(this.minTime+this.snapDuration*t)},spanToSegs:function(t){var e,n=this.sliceRangeByTimes(t);for(e=0;e<n.length;e++)this.isRTL?n[e].col=this.daysPerRow-1-n[e].dayIndex:n[e].col=n[e].dayIndex;return n},sliceRangeByTimes:function(t){var e,n,i,r=[];for(n=0;n<this.daysPerRow;n++)(e=$(t,{start:(i=this.dayDates[n].clone()).clone().time(this.minTime),end:i.clone().time(this.maxTime)}))&&(e.dayIndex=n,r.push(e));return r},updateSize:function(t){this.slatCoordCache.build(),t&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(t,n){return this.computeTimeTop(e.duration(t-n.clone().stripTime()))},computeTimeTop:function(t){var e,n,i=this.slatEls.length,r=(t-this.minTime)/this.slotDuration;return r=Math.max(0,r),r=Math.min(i,r),e=Math.floor(r),n=r-(e=Math.min(e,i-1)),this.slatCoordCache.getTopPosition(e)+this.slatCoordCache.getHeight(e)*n},renderDrag:function(t,e){if(e)return this.renderEventLocationHelper(t,e);this.renderHighlight(this.eventToSpan(t))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(t,e){return this.renderEventLocationHelper(t,e)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(t,e){return this.renderHelperSegs(this.eventToSegs(t),e)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){this.renderBusinessSegs(this.buildBusinessHourSegs())},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(e){var n,i=this.spanToSegs({start:e,end:e}),r=this.computeDateTop(e,e),o=[];for(n=0;n<i.length;n++)o.push(t('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",r).appendTo(this.colContainerEls.eq(i[n].col))[0]);i.length>0&&o.push(t('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",r).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=t(o)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(t){this.view.opt("selectHelper")?this.renderEventLocationHelper(t):this.renderHighlight(t)},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderHighlight:function(t){this.renderHighlightSegs(this.spanToSegs(t))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});ye.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var e,n,i="";for(e=0;e<this.colCnt;e++)i+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';n=t('<div class="fc-content-skeleton"><table><tr>'+i+"</tr></table></div>"),this.colContainerEls=n.find(".fc-content-col"),this.helperContainerEls=n.find(".fc-helper-container"),this.fgContainerEls=n.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=n.find(".fc-bgevent-container"),this.highlightContainerEls=n.find(".fc-highlight-container"),this.businessContainerEls=n.find(".fc-business-container"),this.bookendCells(n.find("tr")),this.el.append(n)},renderFgSegs:function(t){return t=this.renderFgSegsIntoContainers(t,this.fgContainerEls),this.fgSegs=t,t},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(e,n){var i,r,o,s=[];for(e=this.renderFgSegsIntoContainers(e,this.helperContainerEls),i=0;i<e.length;i++)r=e[i],n&&n.col===r.col&&(o=n.el,r.el.css({left:o.css("left"),right:o.css("right"),"margin-left":o.css("margin-left"),"margin-right":o.css("margin-right")})),s.push(r.el[0]);return this.helperSegs=e,t(s)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(t){return t=this.renderFillSegEls("bgEvent",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.bgContainerEls),this.bgSegs=t,t},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(t){t=this.renderFillSegEls("highlight",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.highlightContainerEls),this.highlightSegs=t},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(t){t=this.renderFillSegEls("businessHours",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.businessContainerEls),this.businessSegs=t},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(t){var e,n=[];for(e=0;e<this.colCnt;e++)n.push([]);for(e=0;e<t.length;e++)n[t[e].col].push(t[e]);return n},attachSegsByCol:function(t,e){var n,i,r;for(n=0;n<this.colCnt;n++)for(i=t[n],r=0;r<i.length;r++)e.eq(n).append(i[r].el)},unrenderNamedSegs:function(t){var e,n=this[t];if(n){for(e=0;e<n.length;e++)n[e].el.remove();this[t]=null}},renderFgSegsIntoContainers:function(t,e){var n,i;for(t=this.renderFgSegEls(t),n=this.groupSegsByCol(t),i=0;i<this.colCnt;i++)this.updateFgSegCoords(n[i]);return this.attachSegsByCol(n,e),t},fgSegHtml:function(t,e){var n,i,r,o=this.view,s=t.event,a=o.isEventDraggable(s),l=!e&&t.isStart&&o.isEventResizableFromStart(s),c=!e&&t.isEnd&&o.isEventResizableFromEnd(s),u=this.getSegClasses(t,a,l||c),d=nt(this.getSegSkinCss(t));return u.unshift("fc-time-grid-event","fc-v-event"),o.isMultiDayEvent(s)?(t.isStart||t.isEnd)&&(n=this.getEventTimeText(t),i=this.getEventTimeText(t,"LT"),r=this.getEventTimeText(t,null,!1)):(n=this.getEventTimeText(s),i=this.getEventTimeText(s,"LT"),r=this.getEventTimeText(s,null,!1)),'<a class="'+u.join(" ")+'"'+(s.url?' href="'+tt(s.url)+'"':"")+(d?' style="'+d+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+tt(r)+'" data-full="'+tt(i)+'"><span>'+tt(n)+"</span></div>":"")+(s.title?'<div class="fc-title '+s.titleClass+'">'+tt(s.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(c?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(t){this.computeSegVerticals(t),this.assignSegVerticals(t)},computeSegVerticals:function(t){var e,n;for(e=0;e<t.length;e++)(n=t[e]).top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},assignSegVerticals:function(t){var e,n;for(e=0;e<t.length;e++)(n=t[e]).el.css(this.generateSegVerticalCss(n))},generateSegVerticalCss:function(t){return{top:t.top,bottom:-t.bottom}},updateFgSegCoords:function(t){this.computeSegVerticals(t),this.computeFgSegHorizontals(t),this.assignSegVerticals(t),this.assignFgSegHorizontals(t)},computeFgSegHorizontals:function(t){var e,n,i;if(this.sortEventSegs(t),$t(e=It(t)),n=e[0]){for(i=0;i<n.length;i++)Ft(n[i]);for(i=0;i<n.length;i++)this.computeFgSegForwardBack(n[i],0,0)}},computeFgSegForwardBack:function(t,e,n){var i,r=t.forwardSegs;if(void 0===t.forwardCoord)for(r.length?(this.sortForwardSegs(r),this.computeFgSegForwardBack(r[0],e+1,n),t.forwardCoord=r[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(e+1),i=0;i<r.length;i++)this.computeFgSegForwardBack(r[i],0,t.forwardCoord)},sortForwardSegs:function(t){t.sort(at(this,"compareForwardSegs"))},compareForwardSegs:function(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||this.compareEventSegs(t,e)},assignFgSegHorizontals:function(t){var e,n;for(e=0;e<t.length;e++)(n=t[e]).el.css(this.generateFgSegHorizontalCss(n)),n.bottom-n.top<30&&n.el.addClass("fc-short")},generateFgSegHorizontalCss:function(t){var e,n,i=this.view.opt("slotEventOverlap"),r=t.backwardCoord,o=t.forwardCoord,s=this.generateSegVerticalCss(t);return i&&(o=Math.min(1,r+2*(o-r))),this.isRTL?(e=1-o,n=r):(e=r,n=1-o),s.zIndex=t.level+1,s.left=100*e+"%",s.right=100*n+"%",i&&t.forwardPressure&&(s[this.isRTL?"marginLeft":"marginRight"]=20),s}});var be=qt.View=wt.extend(ae,le,{type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(t,n,i,r){this.calendar=t,this.type=this.name=n,this.options=i,this.intervalDuration=r||e.duration(1,"day"),this.nextDayThreshold=e.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=O(this.opt("eventOrder")),this.initialize()},initialize:function(){},opt:function(t){return this.options[t]},trigger:function(t,e){var n=this.calendar;return n.trigger.apply(n,[t,e||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(t){this.setRange(this.computeRange(t))},setRange:function(e){t.extend(this,e),this.updateTitle()},computeRange:function(t){var e,n,i=z(this.intervalDuration),r=t.clone().startOf(i),o=r.clone().add(this.intervalDuration);return/year|month|week|day/.test(i)?(r.stripTime(),o.stripTime()):(r.hasTime()||(r=this.calendar.time(0)),o.hasTime()||(o=this.calendar.time(0))),e=r.clone(),e=this.skipHiddenDays(e),n=o.clone(),{intervalUnit:i,intervalStart:r,intervalEnd:o,start:e,end:n=this.skipHiddenDays(n,-1,!0)}},computePrevDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(t,e){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(t)&&(t=this.skipHiddenDays(t,e)).startOf("day"),t},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(t,e,n){var i=t.end;return i.hasTime()||(i=i.clone().subtract(1)),gt(t.start,i,e,n,this.opt("isRTL"))},getAllDayHtml:function(){return this.opt("allDayHtml")||tt(this.opt("allDayText"))},buildGotoAnchorHtml:function(e,n,i){var r,o,s,a;return t.isPlainObject(e)?(r=e.date,o=e.type,s=e.forceOff):r=e,a={date:(r=qt.moment(r)).format("YYYY-MM-DD"),type:o||"day"},"string"==typeof n&&(i=n,n=null),n=n?" "+it(n):"",i=i||"",!s&&this.opt("navLinks")?"<a"+n+' data-goto="'+tt(JSON.stringify(a))+'">'+i+"</a>":"<span"+n+">"+i+"</span>"},setElement:function(t){this.el=t,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(t,e){var n=this,i=null;return null!=e&&this.displaying&&(i=this.queryScroll()),this.calendar.freezeContentHeight(),ct(this.clear(),(function(){return n.displaying=ct(n.displayView(t),(function(){null!=e?n.setScroll(e):n.forceScroll(n.computeInitialScroll(i)),
n.calendar.unfreezeContentHeight(),n.triggerRender()}))}))},clear:function(){var e=this,n=this.displaying;return n?ct(n,(function(){return e.displaying=null,e.clearEvents(),e.clearView()})):t.when()},displayView:function(t){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),t&&this.setDate(t),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours(),this.startNowIndicator()},clearView:function(){this.unselect(),this.stopNowIndicator(),this.triggerUnrender(),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(t(document),"mousedown",this.handleDocumentMousedown),this.listenTo(t(document),"touchstart",this.processUnselect)},unbindGlobalHandlers:function(){this.stopListeningTo(t(document))},initThemingProps:function(){var t=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=t+"-widget-header",this.widgetContentClass=t+"-widget-content",this.highlightStateClass=t+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var t,n,i,r=this;this.opt("nowIndicator")&&(t=this.getNowIndicatorUnit())&&(n=at(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,i=this.initialNowDate.clone().startOf(t).add(1,t)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout((function(){r.nowIndicatorTimeoutID=null,n(),i=+e.duration(1,t),i=Math.max(100,i),r.nowIndicatorIntervalID=setInterval(n,i)}),i))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(){},unrenderNowIndicator:function(){},updateSize:function(t){var e;t&&(e=this.queryScroll()),this.updateHeight(t),this.updateWidth(t),this.updateNowIndicator(),t&&this.setScroll(e)},updateWidth:function(){},updateHeight:function(){var t=this.calendar;this.setHeight(t.getSuggestedViewHeight(),t.isHeightAuto())},setHeight:function(){},computeInitialScroll:function(){return 0},queryScroll:function(){},setScroll:function(){},forceScroll:function(t){var e=this;this.setScroll(t),setTimeout((function(){e.setScroll(t)}),0)},displayEvents:function(t){var e=this.queryScroll();this.clearEvents(),this.renderEvents(t),this.isEventsRendered=!0,this.setScroll(e),this.triggerEventRender()},clearEvents:function(){var t;this.isEventsRendered&&(t=this.queryScroll(),this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.setScroll(t),this.isEventsRendered=!1)},renderEvents:function(){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach((function(t){this.trigger("eventAfterRender",t.event,t.event,t.el)})),this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach((function(t){this.trigger("eventDestroy",t.event,t.event,t.el)}))},resolveEventEl:function(e,n){var i=this.trigger("eventRender",e,e,n);return!1===i?n=null:i&&!0!==i&&(n=t(i)),n},showEvent:function(t){this.renderedEventSegEach((function(t){t.el.css("visibility","")}),t)},hideEvent:function(t){this.renderedEventSegEach((function(t){t.el.css("visibility","hidden")}),t)},renderedEventSegEach:function(t,e){var n,i=this.getEventSegs();for(n=0;n<i.length;n++)e&&i[n].event._id!==e._id||i[n].el&&t.call(this,i[n])},getEventSegs:function(){return[]},isEventDraggable:function(t){return this.isEventStartEditable(t)},isEventStartEditable:function(t){return J(t.startEditable,(t.source||{}).startEditable,this.opt("eventStartEditable"),this.isEventGenerallyEditable(t))},isEventGenerallyEditable:function(t){return J(t.editable,(t.source||{}).editable,this.opt("editable"))},reportEventDrop:function(t,e,n,i,r){var o=this.calendar,s=o.mutateEvent(t,e,n),a=function(){s.undo(),o.reportEventChange()};this.triggerEventDrop(t,s.dateDelta,a,i,r),o.reportEventChange()},triggerEventDrop:function(t,e,n,i,r){this.trigger("eventDrop",i[0],t,e,n,r,{})},reportExternalDrop:function(e,n,i,r,o){var s,a,l=e.eventProps;l&&(s=t.extend({},l,n),a=this.calendar.renderEvent(s,e.stick)[0]),this.triggerExternalDrop(a,n,i,r,o)},triggerExternalDrop:function(t,e,n,i,r){this.trigger("drop",n[0],e.start,i,r),t&&this.trigger("eventReceive",null,t)},renderDrag:function(){},unrenderDrag:function(){},isEventResizableFromStart:function(t){return this.opt("eventResizableFromStart")&&this.isEventResizable(t)},isEventResizableFromEnd:function(t){return this.isEventResizable(t)},isEventResizable:function(t){var e=t.source||{};return J(t.durationEditable,e.durationEditable,this.opt("eventDurationEditable"),t.editable,e.editable,this.opt("editable"))},reportEventResize:function(t,e,n,i,r){var o=this.calendar,s=o.mutateEvent(t,e,n),a=function(){s.undo(),o.reportEventChange()};this.triggerEventResize(t,s.durationDelta,a,i,r),o.reportEventChange()},triggerEventResize:function(t,e,n,i,r){this.trigger("eventResize",i[0],t,e,n,r,{})},select:function(t,e){this.unselect(e),this.renderSelection(t),this.reportSelection(t,e)},renderSelection:function(){},reportSelection:function(t,e){this.isSelected=!0,this.triggerSelect(t,e)},triggerSelect:function(t,e){this.trigger("select",null,this.calendar.applyTimezone(t.start),this.calendar.applyTimezone(t.end),e)},unselect:function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,t))},unrenderSelection:function(){},selectEvent:function(t){this.selectedEvent&&this.selectedEvent===t||(this.unselectEvent(),this.renderedEventSegEach((function(t){t.el.addClass("fc-selected")}),t),this.selectedEvent=t)},unselectEvent:function(){this.selectedEvent&&(this.renderedEventSegEach((function(t){t.el.removeClass("fc-selected")}),this.selectedEvent),this.selectedEvent=null)},isEventSelected:function(t){return this.selectedEvent&&this.selectedEvent._id===t._id},handleDocumentMousedown:function(t){b(t)&&this.processUnselect(t)},processUnselect:function(t){this.processRangeUnselect(t),this.processEventUnselect(t)},processRangeUnselect:function(e){var n;this.isSelected&&this.opt("unselectAuto")&&((n=this.opt("unselectCancel"))&&t(e.target).closest(n).length||this.unselect(e))},processEventUnselect:function(e){this.selectedEvent&&(t(e.target).closest(".fc-selected").length||this.unselectEvent())},triggerDayClick:function(t,e,n){this.trigger("dayClick",e,this.calendar.applyTimezone(t.start),n)},initHiddenDays:function(){var e,n=this.opt("hiddenDays")||[],i=[],r=0;for(!1===this.opt("weekends")&&n.push(0,6),e=0;e<7;e++)(i[e]=-1!==t.inArray(e,n))||r++;if(!r)throw"invalid hiddenDays";this.isHiddenDayHash=i},isHiddenDay:function(t){return e.isMoment(t)&&(t=t.day()),this.isHiddenDayHash[t]},skipHiddenDays:function(t,e,n){var i=t.clone();for(e=e||1;this.isHiddenDayHash[(i.day()+(n?e:0)+7)%7];)i.add(e,"days");return i},computeDayRange:function(t){var e,n=t.start.clone().stripTime(),i=t.end,r=null;return i&&(r=i.clone().stripTime(),(e=+i.time())&&e>=this.nextDayThreshold&&r.add(1,"days")),(!i||r<=n)&&(r=n.clone().add(1,"days")),{start:n,end:r}},isMultiDayEvent:function(t){var e=this.computeDayRange(t);return e.end.diff(e.start,"days")>1}}),we=qt.Scroller=wt.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(t){t=t||{},this.overflowX=t.overflowX||t.overflow||"auto",this.overflowY=t.overflowY||t.overflow||"auto"},render:function(){this.el=this.renderEl(),this.applyOverflow()},renderEl:function(){return this.scrollEl=t('<div class="fc-scroller"></div>')},clear:function(){this.setHeight("auto"),this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(t){var e=this.overflowX,n=this.overflowY;t=t||this.getScrollbarWidths(),"auto"===e&&(e=t.top||t.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth?"scroll":"hidden"),"auto"===n&&(n=t.left||t.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight?"scroll":"hidden"),this.scrollEl.css({"overflow-x":e,"overflow-y":n})},setHeight:function(t){this.scrollEl.height(t)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(t){this.scrollEl.scrollTop(t)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return g(this.scrollEl)}}),xe=qt.Calendar=wt.extend({dirDefaults:null,localeDefaults:null,overrides:null,dynamicOverrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:zt,initialize:function(){},populateOptionsHash:function(){var t,e,i;t=J(this.dynamicOverrides.locale,this.overrides.locale),(e=Ce[t])||(t=xe.defaults.locale,e=Ce[t]||{}),i=J(this.dynamicOverrides.isRTL,this.overrides.isRTL,e.isRTL,xe.defaults.isRTL)?xe.rtlDefaults:{},this.dirDefaults=i,this.localeDefaults=e,this.options=n([xe.defaults,i,e,this.overrides,this.dynamicOverrides]),Bt(this.options)},getViewSpec:function(t){var e=this.viewSpecCache;return e[t]||(e[t]=this.buildViewSpec(t))},getUnitViewSpec:function(e){var n,i,r;if(-1!=t.inArray(e,Qt))for(n=this.header.getViewsWithButtons(),t.each(qt.views,(function(t){n.push(t)})),i=0;i<n.length;i++)if((r=this.getViewSpec(n[i]))&&r.singleUnit==e)return r},buildViewSpec:function(t){for(var i,r,o,s,a=this.overrides.views||{},l=[],c=[],u=[],d=t;d;)i=Vt[d],r=a[d],d=null,"function"==typeof i&&(i={class:i}),i&&(l.unshift(i),c.unshift(i.defaults||{}),o=o||i.duration,d=d||i.type),r&&(u.unshift(r),o=o||r.duration,d=d||r.type);return(i=U(l)).type=t,!!i.class&&(o&&(o=e.duration(o)).valueOf()&&(i.duration=o,s=z(o),1===o.as(s)&&(i.singleUnit=s,u.unshift(a[s]||{}))),i.defaults=n(c),i.overrides=n(u),this.buildViewSpecOptions(i),this.buildViewSpecButtonText(i,t),i)},buildViewSpecOptions:function(t){t.options=n([xe.defaults,t.defaults,this.dirDefaults,this.localeDefaults,this.overrides,t.overrides,this.dynamicOverrides]),Bt(t.options)},buildViewSpecButtonText:function(t,e){function n(n){var i=n.buttonText||{};return i[e]||(t.buttonTextKey?i[t.buttonTextKey]:null)||(t.singleUnit?i[t.singleUnit]:null)}t.buttonTextOverride=n(this.dynamicOverrides)||n(this.overrides)||t.overrides.buttonText,t.buttonTextDefault=n(this.localeDefaults)||n(this.dirDefaults)||t.defaults.buttonText||n(xe.defaults)||(t.duration?this.humanizeDuration(t.duration):null)||e},instantiateView:function(t){var e=this.getViewSpec(t);return new e.class(this,t,e.options,e.duration)},isValidViewType:function(t){return Boolean(this.getViewSpec(t))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectSpan:function(t,e){var n,i=this.moment(t).stripZone();return n=e?this.moment(e).stripZone():i.hasTime()?i.clone().add(this.defaultTimedEventDuration):i.clone().add(this.defaultAllDayEventDuration),{start:i,end:n}}});xe.mixin(ae),xe.mixin({optionHandlers:null,bindOption:function(t,e){this.bindOptions([t],e)},bindOptions:function(t,e){var n,i={func:e,names:t};for(n=0;n<t.length;n++)this.registerOptionHandlerObj(t[n],i);this.triggerOptionHandlerObj(i)},registerOptionHandlerObj:function(t,e){(this.optionHandlers[t]||(this.optionHandlers[t]=[])).push(e)},triggerOptionHandlers:function(t){var e,n=this.optionHandlers[t]||[];for(e=0;e<n.length;e++)this.triggerOptionHandlerObj(n[e])},triggerOptionHandlerObj:function(t){var e,n=t.names,i=[];for(e=0;e<n.length;e++)i.push(this.options[n[e]]);t.func.apply(this,i)}}),xe.defaults={titleRangeSeparator:" \u2013 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},allDayText:"all-day",theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3},xe.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},xe.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var Ce=qt.locales={};qt.datepickerLocale=function(e,n,i){var r=Ce[e]||(Ce[e]={});r.isRTL=i.isRTL,r.weekNumberTitle=i.weekHeader,t.each(_e,(function(t,e){r[t]=e(i)})),t.datepicker&&(t.datepicker.regional[n]=t.datepicker.regional[e]=i,t.datepicker.regional.en=t.datepicker.regional[""],t.datepicker.setDefaults(i))},qt.locale=function(e,i){var r,o;r=Ce[e]||(Ce[e]={}),i&&(r=Ce[e]=n([r,i])),o=jt(e),t.each(ke,(function(t,e){null==r[t]&&(r[t]=e(o,r))})),xe.defaults.locale=e};var _e={buttonText:function(t){return{prev:et(t.prevText),next:et(t.nextText),today:et(t.currentText)}},monthYearFormat:function(t){return t.showMonthAfterYear?"YYYY["+t.yearSuffix+"] MMMM":"MMMM YYYY["+t.yearSuffix+"]"}},ke={dayOfMonthFormat:function(t,e){var n=t.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(t){return t.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}},Se={smallDayDateFormat:function(t){return t.isRTL?"D dd":"dd D"},weekFormat:function(t){return t.isRTL?"w[ "+t.weekNumberTitle+"]":"["+t.weekNumberTitle+" ]w"},smallWeekFormat:function(t){return t.isRTL?"w["+t.weekNumberTitle+"]":"["+t.weekNumberTitle+"]w"}};qt.locale("en",xe.englishDefaults),qt.sourceNormalizers=[],qt.sourceFetchers=[];var Te={dataType:"json",cache:!1},De=1;xe.prototype.normalizeEvent=function(){},xe.prototype.spanContainsSpan=function(t,e){var n=t.start.clone().stripZone(),i=this.getEventEnd(t).stripZone();return e.start>=n&&e.end<=i},xe.prototype.getPeerEvents=function(t,e){var n,i,r=this.getEventCache(),o=[];for(n=0;n<r.length;n++)i=r[n],e&&e._id===i._id||o.push(i);return o},xe.prototype.isEventSpanAllowed=function(t,e){var n=e.source||{},i=J(e.constraint,n.constraint,this.options.eventConstraint),r=J(e.overlap,n.overlap,this.options.eventOverlap);return this.isSpanAllowed(t,i,r,e)&&(!this.options.eventAllow||!1!==this.options.eventAllow(t,e))},xe.prototype.isExternalSpanAllowed=function(e,n,i){var r,o;return i&&(r=t.extend({},i,n),o=this.expandEvent(this.buildEventFromInput(r))[0]),o?this.isEventSpanAllowed(e,o):this.isSelectionSpanAllowed(e)},xe.prototype.isSelectionSpanAllowed=function(t){return this.isSpanAllowed(t,this.options.selectConstraint,this.options.selectOverlap)&&(!this.options.selectAllow||!1!==this.options.selectAllow(t))},xe.prototype.isSpanAllowed=function(t,e,n,i){var r,o,s,a,l,c;if(null!=e&&(r=this.constraintToEvents(e))){for(o=!1,a=0;a<r.length;a++)if(this.spanContainsSpan(r[a],t)){o=!0;break}if(!o)return!1}for(s=this.getPeerEvents(t,i),a=0;a<s.length;a++)if(l=s[a],this.eventIntersectsRange(l,t)){if(!1===n)return!1;if("function"==typeof n&&!n(l,i))return!1;if(i){if(!1===(c=J(l.overlap,(l.source||{}).overlap)))return!1;if("function"==typeof c&&!c(i,l))return!1}}return!0},xe.prototype.constraintToEvents=function(t){return"businessHours"===t?this.getCurrentBusinessHourEvents():"object"==typeof t?null!=t.start?this.expandEvent(this.buildEventFromInput(t)):null:this.clientEvents(t)},xe.prototype.eventIntersectsRange=function(t,e){var n=t.start.clone().stripZone(),i=this.getEventEnd(t).stripZone();return e.start<i&&e.end>n};var Ee={id:"_fcBusinessHours",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"};xe.prototype.getCurrentBusinessHourEvents=function(t){return this.computeBusinessHourEvents(t,this.options.businessHours)},xe.prototype.computeBusinessHourEvents=function(e,n){return!0===n?this.expandBusinessHourEvents(e,[{}]):t.isPlainObject(n)?this.expandBusinessHourEvents(e,[n]):t.isArray(n)?this.expandBusinessHourEvents(e,n,!0):[]},xe.prototype.expandBusinessHourEvents=function(e,n,i){var r,o,s=this.getView(),a=[];for(r=0;r<n.length;r++)o=n[r],i&&!o.dow||(o=t.extend({},Ee,o),e&&(o.start=null,o.end=null),a.push.apply(a,this.expandEvent(this.buildEventFromInput(o),s.start,s.end)));return a};var Me=qt.BasicView=be.extend({scroller:null,dayGridClass:ve,dayGrid:null,dayNumbersVisible:!1,colWeekNumbersVisible:!1,cellWeekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid(),this.scroller=new we({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){return new(this.dayGridClass.extend(Ae))(this)},setRange:function(t){be.prototype.setRange.call(this,t),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(t)},computeRange:function(t){var e=be.prototype.computeRange.call(this,t);return/year|month/.test(e.intervalUnit)&&(e.start.startOf("week"),e.start=this.skipHiddenDays(e.start),e.end.weekday()&&(e.end.add(1,"week").startOf("week"),e.end=this.skipHiddenDays(e.end,-1,!0))),e},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.opt("weekNumbers")&&(this.opt("weekNumbersWithinDays")?(this.cellWeekNumbersVisible=!0,this.colWeekNumbersVisible=!1):(this.cellWeekNumbersVisible=!1,this.colWeekNumbersVisible=!0)),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.cellWeekNumbersVisible||this.colWeekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var e=this.scroller.el.addClass("fc-day-grid-container"),n=t('<div class="fc-day-grid" />').appendTo(e);this.el.find(".fc-body > tr > td").append(e),this.dayGrid.setElement(n),this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()),this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates(),this.dayGrid.removeElement(),this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.dayGrid.unrenderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"></td></tr></tbody></table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},updateWidth:function(){this.colWeekNumbersVisible&&(this.weekNumberWidth=c(this.el.find(".fc-week-number")))},setHeight:function(t,e){var n,o,s=this.opt("eventLimit");this.scroller.clear(),r(this.headRowEl),this.dayGrid.removeSegPopover(),s&&"number"==typeof s&&this.dayGrid.limitRows(s),n=this.computeScrollerHeight(t),this.setGridHeight(n,e),s&&"number"!=typeof s&&this.dayGrid.limitRows(s),e||(this.scroller.setHeight(n),((o=this.scroller.getScrollbarWidths()).left||o.right)&&(i(this.headRowEl,o),n=this.computeScrollerHeight(t),this.scroller.setHeight(n)),this.scroller.lockOverflow(o))},computeScrollerHeight:function(t){return t-u(this.el,this.scroller.el)},setGridHeight:function(t,e){e?l(this.dayGrid.rowEls):a(this.dayGrid.rowEls,t,!0)},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(t){this.scroller.setScrollTop(t)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(t,e){return this.dayGrid.queryHit(t,e)},getHitSpan:function(t){return this.dayGrid.getHitSpan(t)},getHitEl:function(t){return this.dayGrid.getHitEl(t)},renderEvents:function(t){this.dayGrid.renderEvents(t),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return this.dayGrid.renderDrag(t,e)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(t){this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),Ae={renderHeadIntroHtml:function(){var t=this.view;return t.colWeekNumbersVisible?'<th class="fc-week-number '+t.widgetHeaderClass+'" '+t.weekNumberStyleAttr()+"><span>"+tt(t.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function(t){var e=this.view,n=this.getCellDate(t,0);return e.colWeekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+">"+e.buildGotoAnchorHtml({date:n,type:"week",forceOff:1===this.colCnt},n.format("w"))+"</td>":""},renderBgIntroHtml:function(){var t=this.view;return t.colWeekNumbersVisible?'<td class="fc-week-number '+t.widgetContentClass+'" '+t.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function(){var t=this.view;return t.colWeekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+"></td>":""}},Oe=qt.MonthView=Me.extend({computeRange:function(t){var e,n=Me.prototype.computeRange.call(this,t);return this.isFixedWeeks()&&(e=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-e,"weeks")),n},setGridHeight:function(t,e){e&&(t*=this.rowCnt/6),a(this.dayGrid.rowEls,t,!e)},isFixedWeeks:function(){return this.opt("fixedWeekCount")}});Vt.basic={class:Me},Vt.basicDay={type:"basic",duration:{days:1}},Vt.basicWeek={type:"basic",duration:{weeks:1}},Vt.month={class:Oe,duration:{months:1},defaults:{fixedWeekCount:!0}};var Pe=qt.AgendaView=be.extend({scroller:null,timeGridClass:ye,timeGrid:null,dayGridClass:ve,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid(),this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid()),this.scroller=new we({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){return new(this.timeGridClass.extend(Le))(this)},instantiateDayGrid:function(){return new(this.dayGridClass.extend(Ie))(this)},setRange:function(t){be.prototype.setRange.call(this,t),this.timeGrid.setRange(t),this.dayGrid&&this.dayGrid.setRange(t)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var e=this.scroller.el.addClass("fc-time-grid-container"),n=t('<div class="fc-time-grid" />').appendTo(e);this.el.find(".fc-body > tr > td").append(e),this.timeGrid.setElement(n),this.timeGrid.renderDates(),this.bottomRuleEl=t('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement()),this.scroller.destroy()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours(),this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(t){this.timeGrid.renderNowIndicator(t)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(t){this.timeGrid.updateSize(t),be.prototype.updateSize.call(this,t)},updateWidth:function(){this.axisWidth=c(this.el.find(".fc-axis"))},setHeight:function(t,e){var n,o,s;this.bottomRuleEl.hide(),this.scroller.clear(),r(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),(n=this.opt("eventLimit"))&&"number"!=typeof n&&(n=$e),n&&this.dayGrid.limitRows(n)),e||(o=this.computeScrollerHeight(t),this.scroller.setHeight(o),((s=this.scroller.getScrollbarWidths()).left||s.right)&&(i(this.noScrollRowEls,s),o=this.computeScrollerHeight(t),this.scroller.setHeight(o)),this.scroller.lockOverflow(s),this.timeGrid.getTotalSlatHeight()<o&&this.bottomRuleEl.show())},computeScrollerHeight:function(t){return t-u(this.el,this.scroller.el)},computeInitialScroll:function(){var t=e.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(t);return(n=Math.ceil(n))&&n++,n},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(t){this.scroller.setScrollTop(t)},prepareHits:function(){this.timeGrid.prepareHits(),this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits(),this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(t,e){var n=this.timeGrid.queryHit(t,e);return!n&&this.dayGrid&&(n=this.dayGrid.queryHit(t,e)),n},getHitSpan:function(t){return t.component.getHitSpan(t)},getHitEl:function(t){return t.component.getHitEl(t)},renderEvents:function(t){var e,n=[],i=[];for(e=0;e<t.length;e++)t[e].allDay?n.push(t[e]):i.push(t[e]);this.timeGrid.renderEvents(i),this.dayGrid&&this.dayGrid.renderEvents(n),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return t.start.hasTime()?this.timeGrid.renderDrag(t,e):this.dayGrid?this.dayGrid.renderDrag(t,e):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(t){t.start.hasTime()||t.end.hasTime()?this.timeGrid.renderSelection(t):this.dayGrid&&this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),Le={renderHeadIntroHtml:function(){var t,e=this.view;return e.opt("weekNumbers")?(t=this.start.format(e.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+e.widgetHeaderClass+'" '+e.axisStyleAttr()+">"+e.buildGotoAnchorHtml({date:this.start,type:"week",forceOff:this.colCnt>1},tt(t))+"</th>"):'<th class="fc-axis '+e.widgetHeaderClass+'" '+e.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.widgetContentClass+'" '+t.axisStyleAttr()+"></td>"},renderIntroHtml:function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"></td>"}},Ie={renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.widgetContentClass+'" '+t.axisStyleAttr()+"><span>"+t.getAllDayHtml()+"</span></td>"},renderIntroHtml:function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"></td>"}},$e=5,Fe=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];Vt.agenda={class:Pe,defaults:{allDaySlot:!0,slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},Vt.agendaDay={type:"agenda",duration:{days:1}},Vt.agendaWeek={type:"agenda",duration:{weeks:1}};var He=be.extend({grid:null,scroller:null,initialize:function(){this.grid=new Ne(this),this.scroller=new we({overflowX:"hidden",overflowY:"auto"})},setRange:function(t){be.prototype.setRange.call(this,t),this.grid.setRange(t)},renderSkeleton:function(){this.el.addClass("fc-list-view "+this.widgetContentClass),this.scroller.render(),this.scroller.el.appendTo(this.el),this.grid.setElement(this.scroller.scrollEl)},unrenderSkeleton:function(){this.scroller.destroy()},setHeight:function(t){this.scroller.setHeight(this.computeScrollerHeight(t))},computeScrollerHeight:function(t){return t-u(this.el,this.scroller.el)},renderEvents:function(t){this.grid.renderEvents(t)},unrenderEvents:function(){this.grid.unrenderEvents()},isEventResizable:function(){return!1},isEventDraggable:function(){return!1}}),Ne=ge.extend({segSelector:".fc-list-item",hasDayInteractions:!1,spanToSegs:function(t){for(var e,n,i=this.view,r=i.start.clone(),o=[];r<i.end;)e=r.clone().add(1,"day"),(n=$(t,{start:r,end:e}))&&o.push(n),r=e;return o},computeEventTimeFormat:function(){return this.view.opt("mediumTimeFormat")},handleSegClick:function(e,n){var i;ge.prototype.handleSegClick.apply(this,arguments),t(n.target).closest("a[href]").length||(i=e.event.url)&&!n.isDefaultPrevented()&&(window.location.href=i)},renderFgSegs:function(t){return(t=this.renderFgSegEls(t)).length?this.renderSegList(t):(this.renderEmptyMessage(),t)},renderEmptyMessage:function(){this.el.html('<div class="fc-list-empty-wrap2"><div class="fc-list-empty-wrap1"><div class="fc-list-empty">'+tt(this.view.opt("noEventsMessage"))+"</div></div></div>")},renderSegList:function(e){var n,i,r,o=t('<table class="fc-list-table"><tbody/></table>'),s=o.find("tbody");for(this.sortEventSegs(e),n=0;n<e.length;n++)i=e[n],r&&i.start.isSame(r,"day")||(r=i.start.clone().stripTime(),s.append(this.dayHeaderHtml(r))),s.append(i.el);return this.el.empty().append(o),e},dayHeaderHtml:function(t){var e=this.view,n=e.opt("listDayFormat"),i=e.opt("listDayAltFormat");return'<tr class="fc-list-heading" data-date="'+t.format("YYYY-MM-DD")+'"><td class="'+e.widgetHeaderClass+'" colspan="3">'+(n?e.buildGotoAnchorHtml(t,{class:"fc-list-heading-main"},tt(t.format(n))):"")+(i?e.buildGotoAnchorHtml(t,{class:"fc-list-heading-alt"},tt(t.format(i))):"")+"</td></tr>"},fgSegHtml:function(t){var e,n=this.view,i=["fc-list-item"].concat(this.getSegCustomClasses(t)),r=this.getSegBackgroundColor(t),o=t.event,s=o.url;return t.start.hasTime()?e=tt(this.getEventTimeText(o)):this.displayEventTime&&(e=n.getAllDayHtml()),s&&i.push("fc-has-url"),'<tr class="'+i.join(" ")+'">'+(e?'<td class="fc-list-item-time '+n.widgetContentClass+'">'+e+"</td>":"")+'<td class="fc-list-item-marker '+n.widgetContentClass+'"><span class="fc-event-dot"'+(r?' style="background-color:'+r+'"':"")+'></span></td><td class="fc-list-item-title '+n.widgetContentClass+'"><a'+(s?' href="'+tt(s)+'"':"")+">"+tt(t.event.title)+"</a></td></tr>"}});return Vt.list={class:He,buttonTextKey:"list",defaults:{buttonText:"list",listTime:!0,listDayFormat:"LL",noEventsMessage:"No events to display"}},Vt.listDay={type:"list",duration:{days:1},defaults:{listDayFormat:"dddd"}},Vt.listWeek={type:"list",duration:{weeks:1},defaults:{listDayFormat:"dddd",listDayAltFormat:"LL"}},Vt.listMonth={type:"list",duration:{month:1},defaults:{listDayAltFormat:"dddd"}},Vt.listYear={type:"list",
duration:{year:1},defaults:{listDayAltFormat:"dddd"}},qt})),function(){this.ResizeEvent=function(){}}.call(this),function(){setTimeout((function(){return $(".faa-ring").removeClass("faa-ring")}),3e3)}.call(this),function(){}.call(this),function(t){var e={i18n:{ru:{months:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],dayOfWeek:["\u0412\u0441\u043a","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},de:{months:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeek:["So.","Mo","Di","Mi","Do","Fr","Sa."]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeek:["zo","ma","di","wo","do","vr","za"]},tr:{months:["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"],dayOfWeek:["Paz","Pts","Sal","\xc7ar","Per","Cum","Cts"]},fr:{months:["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"],dayOfWeek:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeek:["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"]},th:{months:["\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21","\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c","\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21","\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19","\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21","\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19","\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21","\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21","\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19","\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21","\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19","\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21"],dayOfWeek:["\u0e2d\u0e32.","\u0e08.","\u0e2d.","\u0e1e.","\u0e1e\u0e24.","\u0e28.","\u0e2a."]},pl:{months:["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017adziernik","listopad","grudzie\u0144"],dayOfWeek:["nd","pn","wt","\u015br","cz","pt","sb"]},pt:{months:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},ch:{months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],dayOfWeek:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatTimeScroller:"g:i a",formatDate:"Y/m/d",step:60,closeOnDateSelect:0,closeOnWithoutClick:!0,timepicker:!0,datepicker:!0,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,inline:!1,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,defaultSelect:!0,scrollMonth:!1,scrollTime:!0,scrollInput:!1,mask:!1,validateOnBlur:!0,allowBlank:!1,yearStart:2010,yearEnd:2050,style:"",id:"",roundTime:"round",className:"",weekends:[],yearOffset:0};Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){for(var n=e||0,i=this.length;n<i;n++)if(this[n]===t)return n;return-1}),t.fn.xdsoftScroller=function(e){return this.each((function(){var n=t(this);if(!t(this).hasClass("xdsoft_scroller_box")){var i=function(t){var e={x:0,y:0};if("touchstart"==t.type||"touchmove"==t.type||"touchend"==t.type||"touchcancel"==t.type){var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.x=n.pageX,e.y=n.pageY}else"mousedown"!=t.type&&"mouseup"!=t.type&&"mousemove"!=t.type&&"mouseover"!=t.type&&"mouseout"!=t.type&&"mouseenter"!=t.type&&"mouseleave"!=t.type||(e.x=t.pageX,e.y=t.pageY);return e},r=0,o=n.children().eq(0),s=n[0].clientHeight,a=o[0].offsetHeight,l=t('<div class="xdsoft_scrollbar"></div>'),c=t('<div class="xdsoft_scroller"></div>'),u=100,d=!1;l.append(c),n.addClass("xdsoft_scroller_box").append(l),c.on("mousedown.xdsoft_scroller",(function(i){s||n.trigger("resize_scroll.xdsoft_scroller",[e]);var o=i.pageY,a=parseInt(c.css("margin-top")),d=l[0].offsetHeight;t(document.body).addClass("xdsoft_noselect"),t([document.body,window]).on("mouseup.xdsoft_scroller",(function e(){t([document.body,window]).off("mouseup.xdsoft_scroller",e).off("mousemove.xdsoft_scroller",r).removeClass("xdsoft_noselect")})),t(document.body).on("mousemove.xdsoft_scroller",r=function(t){var e=t.pageY-o+a;e<0&&(e=0),e+c[0].offsetHeight>d&&(e=d-c[0].offsetHeight),n.trigger("scroll_element.xdsoft_scroller",[u?e/u:0])})})),n.on("scroll_element.xdsoft_scroller",(function(t,e){s||n.trigger("resize_scroll.xdsoft_scroller",[e,!0]),e=e>1?1:e<0||isNaN(e)?0:e,c.css("margin-top",u*e),o.css("marginTop",-parseInt((a-s)*e))})).on("resize_scroll.xdsoft_scroller",(function(t,e,i){s=n[0].clientHeight,a=o[0].offsetHeight;var r=s/a,d=r*l[0].offsetHeight;r>1?c.hide():(c.show(),c.css("height",parseInt(d>10?d:10)),u=l[0].offsetHeight-c[0].offsetHeight,!0!==i&&n.trigger("scroll_element.xdsoft_scroller",[e||Math.abs(parseInt(o.css("marginTop")))/(a-s)]))})),n.mousewheel&&n.mousewheel((function(t,e){var i=Math.abs(parseInt(o.css("marginTop")));return n.trigger("scroll_element.xdsoft_scroller",[(i-20*e)/(a-s)]),t.stopPropagation(),!1})),n.on("touchstart",(function(t){d=i(t)})),n.on("touchmove",(function(t){if(d){var e=i(t),r=Math.abs(parseInt(o.css("marginTop")));n.trigger("scroll_element.xdsoft_scroller",[(r-(e.y-d.y))/(a-s)]),t.stopPropagation(),t.preventDefault()}})),n.on("touchend touchcancel",(function(){d=!1}))}n.trigger("resize_scroll.xdsoft_scroller",[e])}))},t.fn.datetimepicker=function(n){var i=48,r=57,o=96,s=105,a=17,l=46,c=13,u=27,d=8,h=37,f=38,p=39,g=40,m=9,v=116,y=65,b=67,w=86,x=90,C=89,_=!1,k=t.isPlainObject(n)||!n?t.extend({},e,n):t.extend({},e),S=function(e){var n=t("<div "+(k.id?'id="'+k.id+'"':"")+" "+(k.style?'style="'+k.style+'"':"")+' class="xdsoft_datetimepicker xdsoft_noselect '+k.className+'"></div>'),S=t('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),T=t('<div class="xdsoft_datepicker active"></div>'),D=t('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span></div><div class="xdsoft_label xdsoft_year"><span></span></div><button type="button" class="xdsoft_next"></button></div>'),E=t('<div class="xdsoft_calendar"></div>'),M=t('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),A=M.find(".xdsoft_time_box").eq(0),O=t('<div class="xdsoft_time_variant"></div>'),P=t('<div class="xdsoft_scrollbar"></div>'),L=(t('<div class="xdsoft_scroller"></div>'),t('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>')),I=t('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>');D.find(".xdsoft_month span").after(L),D.find(".xdsoft_year span").after(I),D.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",(function(e){D.find(".xdsoft_select").hide();var n=t(this).find(".xdsoft_select").eq(0),i=0,r=0;F.currentTime&&(i=F.currentTime[t(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),n.show();for(var o=n.find("div.xdsoft_option"),s=0;s<o.length&&o.eq(s).data("value")!=i;s++)r+=o[0].offsetHeight;return n.xdsoftScroller(r/(n.children()[0].offsetHeight-n[0].clientHeight)),e.stopPropagation(),!1})),D.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",(function(t){t.stopPropagation(),t.preventDefault()})).on("mousedown.xdsoft",".xdsoft_option",(function(){F&&F.currentTime&&F.currentTime[t(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](t(this).data("value")),t(this).parent().parent().hide(),n.trigger("xchange.xdsoft"),k.onChangeMonth&&k.onChangeMonth.call&&k.onChangeMonth.call(n,F.currentTime,n.data("input"))})),n.setOptions=function(S){!(k=t.extend({},k,S)).open&&!k.opened||k.inline||e.trigger("open.xdsoft"),k.inline&&(n.addClass("xdsoft_inline"),e.after(n).hide(),n.trigger("afterOpen.xdsoft")),k.inverseButton&&(k.next="xdsoft_prev",k.prev="xdsoft_next"),!k.datepicker&&k.timepicker&&T.removeClass("active"),k.datepicker&&!k.timepicker&&M.removeClass("active"),k.value&&(e&&e.val&&e.val(k.value),F.setCurrentTime(k.value)),isNaN(k.dayOfWeekStart)||parseInt(k.dayOfWeekStart)<0||parseInt(k.dayOfWeekStart)>6?k.dayOfWeekStart=0:k.dayOfWeekStart=parseInt(k.dayOfWeekStart),k.timepickerScrollbar||P.hide();var E,A=[];if(k.minDate&&(A=/^-(.*)$/.exec(k.minDate))&&(A=Date.parseDate(A[1],k.formatDate))&&(E=A.getTime()+-1*A.getTimezoneOffset()*6e4,k.minDate=new Date(F.now().getTime()-E).dateFormat(k.formatDate)),k.maxDate&&(A=/^\+(.*)$/.exec(k.maxDate))&&(A=Date.parseDate(A[1],k.formatDate))&&(E=A.getTime()+-1*A.getTimezoneOffset()*6e4,k.maxDate=new Date(F.now().getTime()+E).dateFormat(k.formatDate)),D.find(".xdsoft_today_button").css("visibility",k.todayButton?"visible":"hidden"),k.mask){var O=function(t){try{if(document.selection&&document.selection.createRange)return document.selection.createRange().getBookmark().charCodeAt(2)-2;if(t.setSelectionRange)return t.selectionStart}catch(t){return 0}},L=function(t,e){if(!(t="string"==typeof t||t instanceof String?document.getElementById(t):t))return!1;if(t.createTextRange){var n=t.createTextRange();return n.collapse(!0),n.moveEnd(e),n.moveStart(e),n.select(),!0}return!!t.setSelectionRange&&(t.setSelectionRange(e,e),!0)},I=function(t,e){var n=t.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return RegExp(n).test(e)};switch(e.off("keydown.xdsoft"),!0){case!0===k.mask:k.mask=k.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59");case"string"==t.type(k.mask):I(k.mask,e.val())||e.val(k.mask.replace(/[0-9]/g,"_")),e.on("keydown.xdsoft",(function(n){var S=this.value,T=n.which;switch(!0){case T>=i&&T<=r||T>=o&&T<=s||T==d||T==l:var D=O(this),E=T!=d&&T!=l?String.fromCharCode(o<=T&&T<=s?T-i:T):"_";for(T!=d&&T!=l||!D||(D--,E="_");/[^0-9_]/.test(k.mask.substr(D,1))&&D<k.mask.length&&D>0;)D+=T==d||T==l?-1:1;if(S=S.substr(0,D)+E+S.substr(D+1),""==t.trim(S))S=k.mask.replace(/[0-9]/g,"_");else if(D==k.mask.length)break;for(D+=T==d||T==l?0:1;/[^0-9_]/.test(k.mask.substr(D,1))&&D<k.mask.length&&D>0;)D+=T==d||T==l?-1:1;I(k.mask,S)?(this.value=S,L(this,D)):""==t.trim(S)?this.value=k.mask.replace(/[0-9]/g,"_"):e.trigger("error_input.xdsoft");break;case!!~[y,b,w,x,C].indexOf(T)&&_:case!!~[u,f,g,h,p,v,a,m,c].indexOf(T):return!0}return n.preventDefault(),!1}))}}k.validateOnBlur&&e.off("blur.xdsoft").on("blur.xdsoft",(function(){k.allowBlank&&!t.trim(t(this).val()).length?(t(this).val(null),n.data("xdsoft_datetime").empty()):(Date.parseDate(t(this).val(),k.format)||t(this).val(F.now().dateFormat(k.format)),n.data("xdsoft_datetime").setCurrentTime(t(this).val())),n.trigger("changedatetime.xdsoft")})),k.dayOfWeekStartPrev=0==k.dayOfWeekStart?6:k.dayOfWeekStart-1,n.trigger("xchange.xdsoft")},n.data("options",k).on("mousedown.xdsoft",(function(t){return t.stopPropagation(),t.preventDefault(),I.hide(),L.hide(),!1}));var $=M.find(".xdsoft_time_box");$.append(O),$.xdsoftScroller(),n.on("afterOpen.xdsoft",(function(){$.xdsoftScroller()})),n.append(T).append(M),!0!==k.withoutCopyright&&n.append(S),T.append(D).append(E),t("body").append(n);var F=new function(){var t=this;t.now=function(){var t=new Date;return k.yearOffset&&t.setFullYear(t.getFullYear()+k.yearOffset),t},t.currentTime=this.now(),t.isValidDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())},t.setCurrentTime=function(e){t.currentTime="string"==typeof e?t.strtodatetime(e):t.isValidDate(e)?e:t.now(),n.trigger("xchange.xdsoft")},t.empty=function(){t.currentTime=null},t.getCurrentTime=function(){return t.currentTime},t.nextMonth=function(){var e=t.currentTime.getMonth()+1,i=t.currentTime.getFullYear(),r=t.currentTime.getDate(),o=new Date(i,e,0).getDate(),s=new Date(i,e+1,0).getDate();return 12==e&&(t.currentTime.setFullYear(i+1),e=0,i=t.currentTime.getFullYear()),r==o&&(r=s),t.currentTime=new Date(i,e,r),k.onChangeMonth&&k.onChangeMonth.call&&k.onChangeMonth.call(n,F.currentTime,n.data("input")),n.trigger("xchange.xdsoft"),e},t.prevMonth=function(){var e=t.currentTime.getMonth()-1,i=t.currentTime.getFullYear(),r=t.currentTime.getDate(),o=new Date(i,e+2,0).getDate(),s=new Date(i,e+1,0).getDate();return-1==e&&(t.currentTime.setFullYear(t.currentTime.getFullYear()-1),i=t.currentTime.getFullYear(),e=11),r==o&&(r=s),t.currentTime=new Date(i,e,r),k.onChangeMonth&&k.onChangeMonth.call&&k.onChangeMonth.call(n,F.currentTime,n.data("input")),n.trigger("xchange.xdsoft"),e},t.strtodatetime=function(e){var n=e?Date.parseDate(e,k.format):t.now();return t.isValidDate(n)||(n=t.now()),n},t.strtodate=function(e){var n=e?Date.parseDate(e,k.formatDate):t.now();return t.isValidDate(n)||(n=t.now()),n},t.strtotime=function(e){var n=e?Date.parseDate(e,k.formatTime):t.now();return t.isValidDate(n)||(n=t.now()),n},t.str=function(){return t.currentTime.dateFormat(k.format)}};D.find(".xdsoft_today_button").on("mousedown.xdsoft",(function(){n.data("changed",!0),F.setCurrentTime(0),n.trigger("afterOpen.xdsoft")})).on("dblclick.xdsoft",(function(){e.val(F.str()),n.trigger("close.xdsoft")})),D.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",(function(){var e=t(this),n=0,i=!1;!function t(r){F.currentTime.getMonth();e.hasClass(k.next)?F.nextMonth():e.hasClass(k.prev)&&F.prevMonth(),!i&&(n=setTimeout(t,r||100))}(500),t([document.body,window]).on("mouseup.xdsoft",(function e(){clearTimeout(n),i=!0,t([document.body,window]).off("mouseup.xdsoft",e)}))})),M.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",(function(){var e=t(this),n=0,i=!1,r=110;!function t(o){var s=A[0].clientHeight,a=O[0].offsetHeight,l=Math.abs(parseInt(O.css("marginTop")));e.hasClass(k.next)&&a-s-k.timeHeightInTimePicker>=l?O.css("marginTop","-"+(l+k.timeHeightInTimePicker)+"px"):e.hasClass(k.prev)&&l-k.timeHeightInTimePicker>=0&&O.css("marginTop","-"+(l-k.timeHeightInTimePicker)+"px"),A.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(O.css("marginTop"))/(a-s))]),r=r>10?10:r-10,!i&&(n=setTimeout(t,o||r))}(500),t([document.body,window]).on("mouseup.xdsoft",(function e(){clearTimeout(n),i=!0,t([document.body,window]).off("mouseup.xdsoft",e)}))})),n.on("xchange.xdsoft",(function(e){for(var i="",r=new Date(F.currentTime.getFullYear(),F.currentTime.getMonth(),1),o=0,s=F.now();r.getDay()!=k.dayOfWeekStart;)r.setDate(r.getDate()-1);i+="<table><thead><tr>";for(var a=0;a<7;a++)i+="<th>"+k.i18n[k.lang].dayOfWeek[a+k.dayOfWeekStart>6?0:a+k.dayOfWeekStart]+"</th>";i+="</tr></thead>",i+="<tbody><tr>";var l=!1,c=!1;!1!==k.maxDate&&(l=F.strtodate(k.maxDate),l=new Date(l.getFullYear(),l.getMonth(),l.getDate(),23,59,59,999)),!1!==k.minDate&&(c=F.strtodate(k.minDate),c=new Date(c.getFullYear(),c.getMonth(),c.getDate()));for(var u,d,h=[];o<F.currentTime.getDaysInMonth()||r.getDay()!=k.dayOfWeekStart||F.currentTime.getMonth()==r.getMonth();)h=[],o++,u=r.getDate(),d=r.getFullYear(),p=r.getMonth(),h.push("xdsoft_date"),(!1!==l&&r>l||!1!==c&&r<c)&&h.push("xdsoft_disabled"),F.currentTime.getMonth()!=p&&h.push("xdsoft_other_month"),(k.defaultSelect||n.data("changed"))&&F.currentTime.dateFormat("d.m.Y")==r.dateFormat("d.m.Y")&&h.push("xdsoft_current"),s.dateFormat("d.m.Y")==r.dateFormat("d.m.Y")&&h.push("xdsoft_today"),(0==r.getDay()||6==r.getDay()||~k.weekends.indexOf(r.dateFormat("d.m.Y")))&&h.push("xdsoft_weekend"),i+='<td data-date="'+u+'" data-month="'+p+'" data-year="'+d+'" class="xdsoft_date xdsoft_day_of_week'+r.getDay()+" "+h.join(" ")+'"><div>'+u+"</div></td>",r.getDay()==k.dayOfWeekStartPrev&&(i+="</tr>"),r.setDate(u+1);i+="</tbody></table>",E.html(i),D.find(".xdsoft_label span").eq(0).text(k.i18n[k.lang].months[F.currentTime.getMonth()]),D.find(".xdsoft_label span").eq(1).text(F.currentTime.getFullYear());var f="",p="",g=function(t,e){var i=F.now();i.setHours(t),t=parseInt(i.getHours()),i.setMinutes(e),e=parseInt(i.getMinutes()),h=[],(!1!==k.maxTime&&F.strtotime(k.maxTime).getTime()<i.getTime()||!1!==k.minTime&&F.strtotime(k.minTime).getTime()>i.getTime())&&h.push("xdsoft_disabled"),(k.defaultSelect||n.data("changed"))&&parseInt(F.currentTime.getHours())==parseInt(t)&&(k.step>59||Math[k.roundTime](F.currentTime.getMinutes()/k.step)*k.step==parseInt(e))&&h.push("xdsoft_current"),parseInt(s.getHours())==parseInt(t)&&parseInt(s.getMinutes())==parseInt(e)&&h.push("xdsoft_today"),f+='<div class="xdsoft_time '+h.join(" ")+'" data-hour="'+t+'" data-minute="'+e+'">'+i.dateFormat(k.formatTimeScroller)+"</div>"};if(k.allowTimes&&t.isArray(k.allowTimes)&&k.allowTimes.length)for(o=0;o<k.allowTimes.length;o++)g(F.strtotime(k.allowTimes[o]).getHours(),p=F.strtotime(k.allowTimes[o]).getMinutes());else{var o=0;for(a=0;o<(k.hours12?12:24);o++)for(a=0;a<60;a+=k.step)g((o<10?"0":"")+o,p=(a<10?"0":"")+a)}O.html(f);var m="";o=0;for(o=parseInt(k.yearStart,10)+k.yearOffset;o<=parseInt(k.yearEnd,10)+k.yearOffset;o++)m+='<div class="xdsoft_option '+(F.currentTime.getFullYear()==o?"xdsoft_current":"")+'" data-value="'+o+'">'+o+"</div>";for(I.children().eq(0).html(m),o=0,m="";o<=11;o++)m+='<div class="xdsoft_option '+(F.currentTime.getMonth()==o?"xdsoft_current":"")+'" data-value="'+o+'">'+k.i18n[k.lang].months[o]+"</div>";L.children().eq(0).html(m),t(this).trigger("generate.xdsoft"),e.stopPropagation()})).on("afterOpen.xdsoft",(function(){if(k.timepicker&&O.find(".xdsoft_current").length){var t=A[0].clientHeight,e=O[0].offsetHeight,n=O.find(".xdsoft_current").index()*k.timeHeightInTimePicker+1;e-t<n&&(n=e-t),O.css("marginTop","-"+parseInt(n)+"px"),A.trigger("scroll_element.xdsoft_scroller",[parseInt(n)/(e-t)])}}));var H=0;E.on("click.xdsoft","td",(function(){H++;var i=t(this),r=F.currentTime;if(i.hasClass("xdsoft_disabled"))return!1;r.setFullYear(i.data("year")),r.setDate(i.data("date")),r.setMonth(i.data("month")),F.currentTime=new Date(i.data("year"),i.data("month"),i.data("date"),0),r=F.currentTime,n.trigger("select.xdsoft",[r]),e.val(F.str()),(H>1||!0===k.closeOnDateSelect||0===k.closeOnDateSelect&&!k.timepicker)&&!k.inline&&n.trigger("close.xdsoft"),k.onSelectDate&&k.onSelectDate.call&&k.onSelectDate.call(n,F.currentTime,n.data("input")),n.data("changed",!0),n.trigger("xchange.xdsoft"),n.trigger("changedatetime.xdsoft"),setTimeout((function(){H=0}),200)})),O.on("click.xdsoft","div",(function(){var e=t(this),i=F.currentTime;if(e.hasClass("xdsoft_disabled"))return!1;i.setHours(e.data("hour")),i.setMinutes(e.data("minute")),n.trigger("select.xdsoft",[i]),n.data("input").val(F.str()),!k.inline&&n.trigger("close.xdsoft"),k.onSelectTime&&k.onSelectTime.call&&k.onSelectTime.call(n,F.currentTime,n.data("input")),n.data("changed",!0),n.trigger("xchange.xdsoft"),n.trigger("changedatetime.xdsoft")})),n.mousewheel&&T.mousewheel((function(t,e){return!k.scrollMonth||(e<0?F.nextMonth():F.prevMonth(),!1)})),n.mousewheel&&A.unmousewheel().mousewheel((function(t,e){if(!k.scrollTime)return!0;var n=A[0].clientHeight,i=O[0].offsetHeight,r=Math.abs(parseInt(O.css("marginTop"))),o=!0;return e<0&&i-n-k.timeHeightInTimePicker>=r?(O.css("marginTop","-"+(r+k.timeHeightInTimePicker)+"px"),o=!1):e>0&&r-k.timeHeightInTimePicker>=0&&(O.css("marginTop","-"+(r-k.timeHeightInTimePicker)+"px"),o=!1),A.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(O.css("marginTop"))/(i-n))]),t.stopPropagation(),o})),n.on("changedatetime.xdsoft",(function(){k.onChangeDateTime&&k.onChangeDateTime.call&&k.onChangeDateTime.call(n,F.currentTime,n.data("input"))})).on("generate.xdsoft",(function(){k.onGenerate&&k.onGenerate.call&&k.onGenerate.call(n,F.currentTime,n.data("input"))}));var N=0;e.mousewheel&&e.mousewheel((function(t,i,r,o){return!k.scrollInput||(!k.datepicker&&k.timepicker?((N=O.find(".xdsoft_current").length?O.find(".xdsoft_current").eq(0).index():0)+i>=0&&N+i<O.children().length&&(N+=i),O.children().eq(N).length&&O.children().eq(N).trigger("mousedown"),!1):k.datepicker&&!k.timepicker?(T.trigger(t,[i,r,o]),e.val&&e.val(F.str()),n.trigger("changedatetime.xdsoft"),!1):void 0)}));var z=function(){var e=n.data("input").offset(),i=e.top+n.data("input")[0].offsetHeight-1,r=e.left;i+n[0].offsetHeight>t(window).height()&&(i=e.top-n[0].offsetHeight+1),r+n[0].offsetWidth>t(window).width()&&(r=e.left-n[0].offsetWidth+n.data("input")[0].offsetWidth),n.css({left:r,top:i})};n.on("open.xdsoft",(function(){var e=!0;k.onShow&&k.onShow.call&&(e=k.onShow.call(n,F.currentTime,n.data("input"))),!1!==e&&(n.show(),n.trigger("afterOpen.xdsoft"),z(),t(window).off("resize.xdsoft",z).on("resize.xdsoft",z),k.closeOnWithoutClick&&t([document.body,window]).on("mousedown.xdsoft",(function e(){n.trigger("close.xdsoft"),t([document.body,window]).off("mousedown.xdsoft",e)})))})).on("close.xdsoft",(function(t){var e=!0;k.onClose&&k.onClose.call&&(e=k.onClose.call(n,F.currentTime,n.data("input"))),!1===e||k.opened||k.inline||n.hide(),t.stopPropagation()})).data("input",e);var B=0;n.data("xdsoft_datetime",F),n.setOptions(k);var j=k.value?k.value:e&&e.val&&e.val()?e.val():"";j&&F.isValidDate(j=Date.parseDate(j,k.format))?n.data("changed",!0):j="",F.setCurrentTime(j||0),n.trigger("afterOpen.xdsoft"),e.data("xdsoft_datetimepicker",n).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",(function(){e.is(":disabled")||e.is(":hidden")||!e.is(":visible")||(clearTimeout(B),B=setTimeout((function(){e.is(":disabled")||e.is(":hidden")||!e.is(":visible")||(F.setCurrentTime(e&&e.val&&e.val()?e.val():0),n.trigger("open.xdsoft"))}),100))})).on("keydown.xdsoft",(function(e){this.value;var i=e.which;switch(!0){case!!~[c].indexOf(i):var r=t("input:visible,textarea:visible");return n.trigger("close.xdsoft"),r.eq(r.index(this)+1).focus(),!1;case!!~[m].indexOf(i):return n.trigger("close.xdsoft"),!0}}))},T=function(e){var n=e.data("xdsoft_datetimepicker");n&&(n.data("xdsoft_datetime",null),n.remove(),e.data("xdsoft_datetimepicker",null).off("open.xdsoft focusin.xdsoft focusout.xdsoft mousedown.xdsoft blur.xdsoft keydown.xdsoft"),t(window).off("resize.xdsoft"),t([window,document.body]).off("mousedown.xdsoft"),e.unmousewheel&&e.unmousewheel())};return t(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",(function(t){t.keyCode==a&&(_=!0)})).on("keyup.xdsoftctrl",(function(t){t.keyCode==a&&(_=!1)})),this.each((function(){var e;if(e=t(this).data("xdsoft_datetimepicker")){if("string"===t.type(n))switch(n){case"show":t(this).select().focus(),e.trigger("open.xdsoft");break;case"hide":e.trigger("close.xdsoft");break;case"destroy":T(t(this));break;case"reset":this.value=this.defaultValue,this.value&&e.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,k.format))||e.data("changed",!1),e.data("xdsoft_datetime").setCurrentTime(this.value)}else e.setOptions(n);return 0}"string"!==t.type(n)&&S(t(this))}))}}(jQuery),Date.parseFunctions={count:0},Date.parseRegexes=[],Date.formatFunctions={count:0},Date.prototype.dateFormat=function(t){return null==Date.formatFunctions[t]&&Date.createNewFormat(t),this[Date.formatFunctions[t]]()},Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;for(var code="Date.prototype."+funcName+" = function() {return ",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,code+="'"+String.escape(ch)+"' + "):code+=Date.getFormatCode(ch):special=!0;eval(code.substring(0,code.length-3)+";}")},Date.getFormatCode=function(t){switch(t){case"d":return"String.leftPad(this.getDate(), 2, '0') + ";case"D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case"j":return"this.getDate() + ";case"l":return"Date.dayNames[this.getDay()] + ";case"S":return"this.getSuffix() + ";case"w":return"this.getDay() + ";case"z":return"this.getDayOfYear() + ";case"W":return"this.getWeekOfYear() + ";case"F":return"Date.monthNames[this.getMonth()] + ";case"m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case"n":return"(this.getMonth() + 1) + ";case"t":return"this.getDaysInMonth() + ";case"L":return"(this.isLeapYear() ? 1 : 0) + ";case"Y":return"this.getFullYear() + ";case"y":return"('' + this.getFullYear()).substring(2, 4) + ";case"a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case"A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case"g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case"G":return"this.getHours() + ";case"h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"O":return"this.getGMTOffset() + ";case"T":return"this.getTimezone() + ";case"Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(t)+"' + "}},Date.parseDate=function(t,e){null==Date.parseFunctions[e]&&Date.createParser(e);var n=Date.parseFunctions[e];return Date[n](t)},Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1;Date.parseFunctions[format]=funcName;for(var code="Date."+funcName+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+regexNum+"]);\nif (results && results.length > 0) {",regex="",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,regex+=String.escape(ch)):(obj=Date.formatCodeToRegex(ch,currentGroup),currentGroup+=obj.g,regex+=obj.s,obj.g&&obj.c&&(code+=obj.c)):special=!0;code+="if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}",Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$"),eval(code)},Date.formatCodeToRegex=function(t,e){switch(t){case"D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,c:"d = parseInt(results["+e+"], 10);\n",s:"(\\d{1,2})"};case"l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case"w":return{g:0,c:null,s:"\\d"};case"z":return{g:0,c:null,s:"(?:\\d{1,3})"};case"W":return{g:0,c:null,s:"(?:\\d{2})"};case"F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+e+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+e+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,c:"m = parseInt(results["+e+"], 10) - 1;\n",s:"(\\d{1,2})"};case"t":return{g:0,c:null,s:"\\d{1,2}"};case"L":return{g:0,c:null,s:"(?:1|0)"};case"Y":return{g:1,c:"y = parseInt(results["+e+"], 10);\n",s:"(\\d{4})"};case"y":return{g:1,c:"var ty = parseInt(results["+e+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case"a":return{g:1,c:"if (results["+e+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case"A":return{g:1,c:"if (results["+e+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,c:"h = parseInt(results["+e+"], 10);\n",s:"(\\d{1,2})"};case"i":return{g:1,c:"i = parseInt(results["+e+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"s = parseInt(results["+e+"], 10);\n",s:"(\\d{2})"};case"O":return{g:0,c:null,s:"[+-]\\d{4}"};case"T":return{g:0,c:null,s:"[A-Z]{3}"};case"Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(t)}}},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")},Date.prototype.getDayOfYear=function(){var t=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var e=0;e<this.getMonth();++e)t+=Date.daysInMonth[e];return t+this.getDate()-1},Date.prototype.getWeekOfYear=function(){var t=this.getDayOfYear()+(4-this.getDay()),e=7-new Date(this.getFullYear(),0,1).getDay()+4;return document.write(e),String.leftPad((t-e)/7+1,2,"0")},Date.prototype.isLeapYear=function(){var t=this.getFullYear();return 0==(3&t)&&(t%100||t%400==0&&t)},Date.prototype.getFirstDayOfMonth=function(){var t=(this.getDay()-(this.getDate()-1))%7;return t<0?t+7:t},Date.prototype.getLastDayOfMonth=function(){var t=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return t<0?t+7:t},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},String.escape=function(t){return t.replace(/('|\\)/g,"\\$1")},String.leftPad=function(t,e,n){var i=new String(t);for(null==n&&(n=" ");i.length<e;)i=n+i;return i},Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.y2kYear=50,Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"},function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}((function(t){function e(e){var r,o=e||window.event,s=[].slice.call(arguments,1),a=0,l=0,c=0,u=0,d=0;return(e=t.event.fix(o)).type="mousewheel",o.wheelDelta&&(a=o.wheelDelta),o.detail&&(a=-1*o.detail),o.deltaY&&(a=c=-1*o.deltaY),o.deltaX&&(a=-1*(l=o.deltaX)),void 0!==o.wheelDeltaY&&(c=o.wheelDeltaY),void 0!==o.wheelDeltaX&&(l=-1*o.wheelDeltaX),u=Math.abs(a),(!n||u<n)&&(n=u),d=Math.max(Math.abs(c),Math.abs(l)),(!i||d<i)&&(i=d),r=a>0?"floor":"ceil",a=Math[r](a/n),l=Math[r](l/i),c=Math[r](c/i),s.unshift(e,a,l,c),(t.event.dispatch||t.event.handle).apply(this,s)}var n,i,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(t.event.fixHooks)for(var s=r.length;s;)t.event.fixHooks[r[--s]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){
if(this.addEventListener)for(var t=o.length;t;)this.addEventListener(o[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=o.length;t;)this.removeEventListener(o[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})),function(t){"object"==typeof module&&"object"==typeof module.exports?t(require("jquery"),window,document):t(jQuery,window,document)}((function(t,e,n,i){var r=[],o=function(){return r.length?r[r.length-1]:null},s=function(){var t,e=!1;for(t=r.length-1;t>=0;t--)r[t].$blocker&&(r[t].$blocker.toggleClass("current",!e).toggleClass("behind",e),e=!0)};t.modal=function(e,n){var s,a;if(this.$body=t("body"),this.options=t.extend({},t.modal.defaults,n),this.options.doFade=!isNaN(parseInt(this.options.fadeDuration,10)),this.$blocker=null,this.options.closeExisting)for(;t.modal.isActive();)t.modal.close();if(r.push(this),e.is("a"))if(a=(a=e.attr("data-href"))===i?e.attr("href"):a,this.anchor=e,/^#/.test(a)){if(this.$elm=t(a),1!==this.$elm.length)return null;this.$body.append(this.$elm),this.open()}else this.$elm=t('<div id="jquery-modal">'),this.$body.append(this.$elm),s=function(t,e){e.elm.remove()},this.showSpinner(),e.trigger(t.modal.AJAX_SEND),t.get(a,{modal:!0}).done((function(n){if(t.modal.isActive()){e.trigger(t.modal.AJAX_SUCCESS);var i=o();i.$elm.empty().append(n).on(t.modal.CLOSE,s),i.hideSpinner(),i.open(),e.trigger(t.modal.AJAX_COMPLETE)}})).fail((function(){e.trigger(t.modal.AJAX_FAIL),o().hideSpinner(),r.pop(),e.trigger(t.modal.AJAX_COMPLETE)}));else this.$elm=e,this.anchor=e,s=function(t,e){e.elm.remove()},this.$body.append(this.$elm).on(t.modal.CLOSE,s),this.open()},t.modal.prototype={constructor:t.modal,open:function(){var e=this;this.block(),this.anchor.blur(),this.options.doFade?setTimeout((function(){e.show()}),this.options.fadeDuration*this.options.fadeDelay):this.show(),t(n).off("keydown.modal").on("keydown.modal",(function(t){var e=o();27===t.which&&e.options.escapeClose&&e.close()})),this.options.clickClose&&this.$blocker.click((function(e){e.target===this&&t.modal.close()}))},close:function(){r.pop(),this.unblock(),this.hide(),this.trigger_refresh(),t.modal.isActive()||t(n).off("keydown.modal")},trigger_refresh:function(){this.options.trigger_refresh&&(t(this.options.trigger_refresh).html("Refreshing, please wait..."),t(" <i class='ajaxspinner fa fa-spinner fa-spin'></i>").appendTo(t(this.options.trigger_refresh)),t(this.options.trigger_refresh).trigger("refresh"))},block:function(){this.$elm.trigger(t.modal.BEFORE_BLOCK,[this._ctx()]),this.$body.css("overflow","hidden"),this.$blocker=t('<div class="'+this.options.blockerClass+' blocker current"></div>').appendTo(this.$body),s(),this.options.doFade&&this.$blocker.css("opacity",0).animate({opacity:1},this.options.fadeDuration),this.$elm.trigger(t.modal.BLOCK,[this._ctx()])},unblock:function(e){!e&&this.options.doFade?this.$blocker.fadeOut(this.options.fadeDuration,this.unblock.bind(this,!0)):(this.$blocker.children().appendTo(this.$body),this.$blocker.remove(),this.$blocker=null,s(),t.modal.isActive()||this.$body.css("overflow",""))},show:function(){this.$elm.trigger(t.modal.BEFORE_OPEN,[this._ctx()]),this.options.showClose&&(this.closeButton=t('<a href="#close-modal" rel="modal:close" class="close-modal '+this.options.closeClass+'">'+this.options.closeText+"</a>"),this.$elm.append(this.closeButton)),this.$elm.addClass(this.options.modalClass).appendTo(this.$blocker),this.options.doFade?this.$elm.css({opacity:0,display:"inline-block"}).animate({opacity:1},this.options.fadeDuration):this.$elm.css("display","inline-block"),this.$elm.trigger(t.modal.OPEN,[this._ctx()])},hide:function(){this.$elm.trigger(t.modal.BEFORE_CLOSE,[this._ctx()]),this.closeButton&&this.closeButton.remove();var e=this;this.options.doFade?this.$elm.fadeOut(this.options.fadeDuration,(function(){e.$elm.trigger(t.modal.AFTER_CLOSE,[e._ctx()])})):this.$elm.hide(0,(function(){e.$elm.trigger(t.modal.AFTER_CLOSE,[e._ctx()])})),this.$elm.trigger(t.modal.CLOSE,[this._ctx()])},showSpinner:function(){this.options.showSpinner&&(this.spinner=this.spinner||t('<div class="'+this.options.modalClass+'-spinner"></div>').append(this.options.spinnerHtml),this.$body.append(this.spinner),this.spinner.show())},hideSpinner:function(){this.spinner&&this.spinner.remove()},_ctx:function(){return{elm:this.$elm,$elm:this.$elm,$blocker:this.$blocker,options:this.options,$anchor:this.anchor}}},t.modal.close=function(e){if(t.modal.isActive()){e&&e.preventDefault();var n=o();return n.close(),n.$elm}},t.modal.isActive=function(){return r.length>0},t.modal.getCurrent=o,t.modal.defaults={closeExisting:!0,escapeClose:!0,clickClose:!0,closeText:"Close",closeClass:"",modalClass:"modal",blockerClass:"jquery-modal",spinnerHtml:'<div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div>',showSpinner:!0,showClose:!0,fadeDuration:null,fadeDelay:1},t.modal.BEFORE_BLOCK="modal:before-block",t.modal.BLOCK="modal:block",t.modal.BEFORE_OPEN="modal:before-open",t.modal.OPEN="modal:open",t.modal.BEFORE_CLOSE="modal:before-close",t.modal.CLOSE="modal:close",t.modal.AFTER_CLOSE="modal:after-close",t.modal.AJAX_SEND="modal:ajax:send",t.modal.AJAX_SUCCESS="modal:ajax:success",t.modal.AJAX_FAIL="modal:ajax:fail",t.modal.AJAX_COMPLETE="modal:ajax:complete",t.fn.modal=function(e){return 1===this.length&&new t.modal(this,e),this},t(n).on("click.modal",'a[rel~="modal:close"]',t.modal.close),t(n).on("click.modal",'a[rel~="modal:open"]',(function(e){var n=t(this).data("modal-options");e.preventDefault(),t(this).modal(n)}))})),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}((t=>{t.fn.SumoSelect=function(e){const n=(t,e)=>{let n=null;"function"==typeof Event?n=new Event(e):(n=document.createEvent("Event"),n.initEvent(e,!0,!0)),t.dispatchEvent(n)};window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);const i={placeholder:"Select Here",csvDispCount:3,captionFormat:"{0} Selected",captionFormatAllSelected:"{0} all selected!",floatWidth:400,forceCustomRendering:!1,nativeOnDevice:["Android","BlackBerry","iPhone","iPad","iPod","Opera Mini","IEMobile","Silk"],outputAsCSV:!1,csvSepChar:",",okCancelInMulti:!1,isClickAwayOk:!1,triggerChangeCombined:!0,selectAll:!1,search:!1,searchText:"Search...",searchFn:(t,e)=>t.toLowerCase().indexOf(e.toLowerCase())<0,noMatch:'No matches for "{0}"',prefix:"",locale:["OK","Cancel","Select All"],up:!1,showTitle:!0,max:null,renderLi:t=>t},r=this.each((function(){const r=this;if(this.sumo||!t(this).is("select"))return;const o=t.extend({},i,e,t(this).data());this.sumo={E:t(r),is_multi:t(r).attr("multiple"),select:"",caption:"",placeholder:"",optDiv:"",CaptionCont:"",ul:"",is_floating:!1,is_opened:!1,mob:!1,Pstate:[],lastUnselected:null,selectedCount:0,createElems(){const e=this,n=e.E.find("option:checked");e.E.wrap('<div class="SumoSelect" tabindex="0" role="button" aria-expanded="false">'),n.each(((t,e)=>{e.selected=!0})),e.select=e.E.parent(),e.caption=t("<span>"),e.CaptionCont=t(`<p class="CaptionCont SelectBox ${e.E.attr("class")}" ><label><i></i></label></p>`).attr("style",e.E.attr("style")).prepend(e.caption),e.select.append(e.CaptionCont),e.is_multi||(o.okCancelInMulti=!1),e.E.attr("disabled")&&e.select.addClass("disabled").removeAttr("tabindex"),o.outputAsCSV&&e.is_multi&&e.E.attr("name")&&(e.select.append(t('<input class="HEMANT123" type="hidden" />').attr("name",e.E.attr("name")).val(e.getSelStr())),e.E.removeAttr("name")),!e.isMobile()||o.forceCustomRendering?(e.E.attr("name")&&e.select.addClass(`sumo_${e.E.attr("name").replace(/\[\]/,"")}`),e.E.addClass("SumoUnder").attr("tabindex","-1"),e.optDiv=t(`<div class="optWrapper ${o.up?"up":""}">`),e.floatingList(),e.ul=t('<ul class="options">'),e.optDiv.append(e.ul),o.selectAll&&e.is_multi&&!o.max&&e.SelAll(),o.search&&e.Search(),e.ul.append(e.prepItems(e.E.children())),e.is_multi&&e.multiSelelect(),e.select.append(e.optDiv),e._handleMax(),e.basicEvents(),e.selAllState()):e.setNativeMobile()},prepItems(e,n){const i=[],r=this;return t(e).each(((e,o)=>{const s=t(o);i.push(s.is("optgroup")?t(`<li class="group ${o.disabled?"disabled":""}"><label></label><ul></ul></li>`).find("label").text(s.attr("label")).end().find("ul").append(r.prepItems(s.children(),o.disabled)).end():r.createLi(s,n))})),i},createLi(e,n){const i=this;e.attr("value")||e.attr("value",e.val());const r=t(`<li class="opt"><label>${e.html()}</label></li>`);return r.data("opt",e),e.data("li",r),i.is_multi&&r.prepend("<span><i></i></span>"),(e[0].disabled||n)&&r.addClass("disabled"),i.onOptClick(r),e[0].selected&&(r.addClass("selected"),i.selectedCount++),e.attr("class")&&r.addClass(e.attr("class")),e.attr("title")&&r.attr("title",e.attr("title")),o.renderLi(r,e)},getSelStr(){const e=[];return this.E.find("option:checked").each((function(){e.push(t(this).val())})),e.join(o.csvSepChar)},multiSelelect(){const e=this;e.optDiv.addClass("multiple"),e.okbtn=t('<p tabindex="0" class="btnOk"></p>').click((()=>{e._okbtn(),e.hideOpts()})),[e.okbtn[0].innerText]=o.locale,e.cancelBtn=t('<p tabindex="0" class="btnCancel"></p>').click((()=>{e._cnbtn(),e.hideOpts()})),[,e.cancelBtn[0].innerText]=o.locale;const n=e.okbtn.add(e.cancelBtn);e.optDiv.append(t('<div class="MultiControls">').append(n)),n.on("keydown.sumo",(function(n){const i=t(this);switch(n.which){case 32:case 13:i.trigger("click");break;case 9:if(i.hasClass("btnOk"))return;break;case 27:return e._cnbtn(),void e.hideOpts()}n.stopPropagation(),n.preventDefault()}))},_okbtn(){const t=this;let e=0;o.triggerChangeCombined&&(t.E.find("option:checked").length!==t.Pstate.length?e=1:t.E.find("option").each(((n,i)=>{i.selected&&t.Pstate.indexOf(n)<0&&(e=1)})),e&&(t.callChange(),t.setText()))},_cnbtn(){const t=this;t.E.find("option:checked").each((function(){this.selected=!1})),t.optDiv.find("li.selected").removeClass("selected");for(let e=0;e<t.Pstate.length;e++)t.E.find("option")[t.Pstate[e]].selected=!0,t.ul.find("li.opt").eq(t.Pstate[e]).addClass("selected");t.selAllState()},_handleMax(){o.max&&(this.selectedCount>=+o.max?this.optDiv.find("li.opt").not(".hidden").each(((e,n)=>{t(n).hasClass("selected")||t(n).addClass("temporary-disabled disabled")})):this.optDiv.find("li.opt").not(".hidden").each(((e,n)=>{t(n).hasClass("temporary-disabled")&&t(n).removeClass("temporary-disabled disabled")})))},SelAll(){const e=this;e.is_multi&&(e.selAll=t('<p class="select-all"><span><i></i></span><label></label></p>'),[,,e.selAll.find("label")[0].innerText]=o.locale,e.optDiv.addClass("selall"),e.selAll.on("click",(()=>{e.selAll.toggleClass("selected"),e.toggSelAll(e.selAll.hasClass("selected"),1)})),e.optDiv.prepend(e.selAll))},Search(){const n=this,i=n.CaptionCont.addClass("search"),r=t('<p class="no-match">'),s=e.searchFn&&"function"==typeof e.searchFn?e.searchFn:o.searchFn;n.ftxt=t('<input type="text" class="search-txt" value="" autocomplete="off">').on("click",(t=>{t.stopPropagation()})),n.ftxt[0].placeholder=o.searchText,i.append(n.ftxt),n.optDiv.children("ul").after(r),n.ftxt.on("keyup.sumo",(()=>{const e=n.optDiv.find("ul.options li.opt").each(((e,i)=>{const r=t(i),{0:o}=r.data("opt");o.hidden=s(r.text(),n.ftxt.val(),r),r.toggleClass("hidden",o.hidden)})).not(".hidden");n.optDiv[0].querySelectorAll("li.group").forEach((t=>{t.querySelector("li:not(.hidden)")?t.classList.remove("hidden"):t.classList.add("hidden")})),r.html(o.noMatch.replace(/\{0\}/g,"<em></em>")).toggle(!e.length),r.find("em").text(n.ftxt.val()),n.selAllState()}))},selAllState(){const e=this;if(o.selectAll&&e.is_multi){let n=0,i=0;e.optDiv.find("li.opt").not(".hidden .disabled").each(((e,r)=>{t(r).hasClass("selected")&&n++,i++})),n===i?e.selAll.removeClass("partial").addClass("selected"):0===n?e.selAll.removeClass("selected partial"):e.selAll.addClass("partial")}},showOpts(){const e=this;if(!e.E.attr("disabled")){if(e.E.trigger("sumo:opening",e),e.is_opened=!0,e.select.addClass("open").attr("aria-expanded","true"),e.E.trigger("sumo:opened",e),e.ftxt?e.ftxt.focus():e.select.focus(),t(document).on("click.sumo",(t=>{if(!e.select.is(t.target)&&0===e.select.has(t.target).length){if(!e.is_opened)return;e.hideOpts(),o.okCancelInMulti&&(o.isClickAwayOk?e._okbtn():e._cnbtn())}})),e.is_floating){let n=e.optDiv.children("ul").outerHeight()+2;e.is_multi&&(n+=+e.optDiv.css("padding-bottom")),e.optDiv.css("height",n),t("body").addClass("sumoStopScroll")}e.setPstate()}},setPstate(){const t=this;t.is_multi&&(t.is_floating||o.okCancelInMulti)&&(t.Pstate=[],t.E.find("option").each(((e,n)=>{n.selected&&t.Pstate.push(e)})))},callChange(){this.E.get().forEach((t=>{n(t,"change"),n(t,"click")}))},hideOpts(){const e=this;e.is_opened&&(e.E.trigger("sumo:closing",e),e.is_opened=!1,e.select.removeClass("open").attr("aria-expanded","false").find("ul li.sel").removeClass("sel"),e.E.trigger("sumo:closed",e),t(document).off("click.sumo"),t("body").removeClass("sumoStopScroll"),o.search&&(e.ftxt.val(""),e.ftxt.trigger("keyup.sumo")))},setOnOpen(){const t=this;let e=t.optDiv.find("li.opt:not(.hidden)").eq(o.search?0:t.E[0].selectedIndex);e.hasClass("disabled")&&(e=e.next(":not(disabled)"),!e.length)||(t.optDiv.find("li.sel").removeClass("sel"),e.addClass("sel"),t.showOpts())},nav(t){const e=this;let n=null,i=e.ul.find("li.opt.sel:not(.hidden)");const r=e.ul.find("li.opt:not(.disabled):not(.hidden)"),o=r.index(i);if(e.is_opened&&i.length){if(t&&o>0)n=r.eq(o-1);else{if(!(!t&&o<r.length-1&&o>-1))return;n=r.eq(o+1)}i.removeClass("sel"),i=n.addClass("sel");const{ul:s}=e,a=s.scrollTop(),l=i.position().top+a;l>=a+s.height()-i.outerHeight()&&s.scrollTop(l-s.height()+i.outerHeight()),l<a&&s.scrollTop(l)}else e.setOnOpen()},basicEvents(){const e=this;e.CaptionCont.click((t=>{e.E.trigger("click"),e.is_opened?e.hideOpts():e.showOpts(),t.stopPropagation()})),e.select.on("keydown.sumo",(t=>{switch(t.which){case 38:e.nav(!0);break;case 40:e.nav(!1);break;case 65:if(e.is_multi&&!o.max&&t.ctrlKey){e.toggSelAll(!t.shiftKey,1);break}return;case 32:if(o.search&&e.ftxt.is(t.target))return;break;case 13:e.is_opened?e.optDiv.find("ul li.sel").trigger("click"):e.setOnOpen();break;case 9:return void(o.okCancelInMulti||e.hideOpts());case 27:return o.okCancelInMulti&&e._cnbtn(),void e.hideOpts();default:return}t.preventDefault()})),t(window).on("resize.sumo",(()=>{e.floatingList()}))},onOptClick(e){const n=this;e.click((function(){const e=t(this);e.hasClass("disabled")||(n.is_multi?(e.toggleClass("selected"),e.data("opt")[0].selected=e.hasClass("selected"),!1===e.data("opt")[0].selected?(n.lastUnselected=e.data("opt")[0].textContent,n.selectedCount--):n.selectedCount++,o.max&&n._handleMax(),n.selAllState()):(e.parent().find("li.selected").removeClass("selected"),e.toggleClass("selected"),e.data("opt")[0].selected=!0,n.selectedCount=1),n.is_multi&&o.triggerChangeCombined&&(n.is_floating||o.okCancelInMulti)||(n.setText(),n.callChange()),n.is_multi||n.hideOpts())}))},setText(){const t=this;if(t.placeholder="",t.is_multi){const e=t.E.find(":checked").not(":disabled");o.csvDispCount&&e.length>o.csvDispCount?e.length===t.E.find("option").length&&o.captionFormatAllSelected?t.placeholder=o.captionFormatAllSelected.replace(/\{0\}/g,e.length):t.placeholder=o.captionFormat.replace(/\{0\}/g,e.length):t.placeholder=e.toArray().map((t=>t.textContent)).join(", ")}else t.placeholder=t.E.find(":checked").not(":disabled").text();let e=!1;t.placeholder||(e=!0,t.placeholder=t.E.attr("placeholder"),t.placeholder||(t.placeholder=t.E.find("option:disabled:checked").text())),t.placeholder=t.placeholder?`${o.prefix} ${t.placeholder}`:o.placeholder,t.caption.text(t.placeholder),o.showTitle&&t.CaptionCont.attr("title",t.placeholder);const n=t.select.find("input.HEMANT123");return n.length&&n.val(t.getSelStr()),e?t.caption.addClass("placeholder"):t.caption.removeClass("placeholder"),t.placeholder},isMobile(){const t=navigator.userAgent||navigator.vendor||window.opera;for(let e=0;e<o.nativeOnDevice.length;e++)if(t.toString().toLowerCase().indexOf(o.nativeOnDevice[e].toLowerCase())>0)return o.nativeOnDevice[e];return!1},setNativeMobile(){const e=this;e.E.addClass("SelectClass").css("height",t(e.E).css("line-height")),e.mob=!0,e.E.change((()=>{e.setText()}))},floatingList(){const e=this;e.is_floating=t(window).width()<=o.floatWidth,e.optDiv.toggleClass("isFloating",e.is_floating),e.is_floating||e.optDiv.css("height",""),e.optDiv.toggleClass("okCancelInMulti",o.okCancelInMulti&&!e.is_floating)},vRange(t){const e=this;if(e.E.find("option").length<=t||t<0)throw new Error("index out of bounds");return e},toggSel(e,n){const i=this;let r=null;"number"==typeof n?(i.vRange(n),r=i.E.find("option")[n]):r=i.E.find(`option[value="${n}"]`)[0]||0,r&&!r.disabled&&r.selected!==e&&(o.max&&!r.selected&&i.selectedCount<o.max||r.selected||!o.max&&!r.selected)&&(r.selected=e,i.mob||t(r).data("li").toggleClass("selected",e),i.callChange(),i.setPstate(),i.setText(),i.selAllState())},toggDis(t,e){const n=this.vRange(e);n.E.find("option")[e].disabled=t,t&&(n.E.find("option")[e].selected=!1),n.mob||n.optDiv.find("ul.options li.opt").eq(e).toggleClass("disabled",t).removeClass("selected"),n.setText()},toggSumo(t){const e=this;return e.enabled=t,e.select.toggleClass("disabled",t),t?(e.E.attr("disabled","disabled"),e.select.removeAttr("tabindex")):(e.E.removeAttr("disabled"),e.select.attr("tabindex","0")),e},toggSelAll(e,n){const i=this,r=t.extend(!0,{},t._data(i.E.get(0),"events"));i.E.off(),i.is_multi?e?i.E.find("option:not(:checked):not(:disabled):not(:hidden)").toArray().forEach((e=>{t(e).data("li").hasClass("hidden")||(e.selected=!0,t(e).data("li").toggleClass("selected",!0))})):i.E.find("option:checked:not(:disabled):not(:hidden)").toArray().forEach((e=>{t(e).data("li").hasClass("hidden")||(e.selected=!1,t(e).data("li").toggleClass("selected",!1))})):e?console.warn("You called `SelectAll` on a non-multiple select"):i.E[0].selectedIndex=-1,t.each(r,((e,n)=>{t.each(n,((t,e)=>{i.E.on(e.type,e.handler)}))})),(i.is_multi&&!o.okCancelInMulti||!i.is_multi)&&(i.callChange(),i.setText()),n||(!i.mob&&i.selAll&&i.selAll.removeClass("partial").toggleClass("selected",!!e),i.setText(),i.setPstate())},reload(){const e=this.unload();return t(e).SumoSelect(o)},unload(){const t=this;return t.select.before(t.E),t.E.show(),t.E[0].classList.remove("SumoUnder"),o.outputAsCSV&&t.is_multi&&t.select.find("input.HEMANT123").length&&t.E.attr("name",t.select.find("input.HEMANT123").attr("name")),t.select.remove(),delete r.sumo,t.E.trigger("sumo:unloaded",t),r},add(e,n,i,o){if(void 0===e)throw new Error("No value to add");const s=this,a=s.E.find("option"),l=e;let c=n,u=i;"number"==typeof n?(u=n,c=e):void 0===n&&(c=e);const d=t("<option></option>").val(l).html(c);if(o&&"object"==typeof o&&t.each(o,((t,e)=>{d.attr(t,e)})),a.length<u)throw new Error("index out of bounds");return void 0===u||a.length===u?(s.E.append(d),s.mob||s.ul.append(s.createLi(d))):(a.eq(u).before(d),s.mob||s.ul.find("li.opt").eq(u).before(s.createLi(d))),r},remove(t){const e=this.vRange(t);e.E.find("option").eq(t).remove(),e.mob||e.optDiv.find("ul.options li.opt").eq(t).remove(),e.setText()},removeAll(){const t=this,e=t.E.find("option");for(let n=e.length-1;n>=0;n--)!0!==e[n].selected&&t.remove(n)},find(t){const e=this.E.find("option");for(const n in e)if(e[n].value===t)return+n;return-1},selectItem(t){this.toggSel(!0,t)},unSelectItem(t){this.toggSel(!1,t)},selectAll(){this.toggSelAll(!0)},unSelectAll(){this.toggSelAll(!1)},disableItem(t){this.toggDis(!0,t)},enableItem(t){this.toggDis(!1,t)},enabled:!0,enable(){return this.toggSumo(!1)},disable(){return this.toggSumo(!0)},init(){const t=this;return t.createElems(),t.setText(),t.E.trigger("sumo:initialized",t),t}},r.sumo.init()}));return 1===r.length?r[0]:r}})),function(t,e,n){"use strict";var i;i=function(i){function r(t,e){return this.$element=i(t),e&&("string"!==i.type(e.delay)&&"number"!==i.type(e.delay)||(e.delay={show:e.delay,hide:e.delay})),this.options=i.extend({},l,e),this._defaults=l,this._name=o,this._targetclick=!1,this.init(),u.push(this.$element),this}var o="webuiPopover",s="webui-popover",a="webui.popover",l={placement:"auto",container:null,tether:null,width:"auto",height:"auto",trigger:"click",style:"",selector:!1,delay:{show:null,hide:300},async:{type:"GET",before:null,success:null,error:null},cache:!0,multi:!1,arrow:!0,title:"",content:"",closeable:!1,padding:!0,url:"",type:"html",direction:"",animation:null,template:'<div class="webui-popover"><div class="webui-arrow"></div><div class="webui-popover-inner"><a href="#" class="close"></a><h3 class="webui-popover-title"></h3><div class="webui-popover-content"><i class="icon-refresh"></i> <p>&nbsp;</p></div></div></div>',backdrop:!1,dismissible:!0,onShow:null,onHide:null,abortXHR:!0,autoHide:!1,offsetTop:0,offsetLeft:0,iframeOptions:{frameborder:"0",allowtransparency:"true",id:"",name:"",scrolling:"",onload:"",height:"",width:""},hideEmpty:!1},c=s+"-rtl",u=[],d=i('<div class="webui-popover-backdrop"></div>'),h=0,f=!1,p=-2e3,g=i(e),m=function(t,e){return isNaN(t)?e||0:Number(t)},v=function(t){return t.data("plugin_"+o)},y=function(){for(var t=null,e=0;e<u.length;e++)(t=v(u[e]))&&t.hide(!0);g.trigger("hiddenAll."+a)},b=function(t){for(var e=null,n=0;n<u.length;n++)(e=v(u[n]))&&e.id!==t.id&&e.hide(!0);g.trigger("hiddenAll."+a)},w="ontouchstart"in e.documentElement&&/Mobi/.test(navigator.userAgent),x=function(t){var e={x:0,y:0};if("touchstart"===t.type||"touchmove"===t.type||"touchend"===t.type||"touchcancel"===t.type){var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.x=n.pageX,e.y=n.pageY}else"OPTION"==t.target.tagName?(e.x=0,e.y=0):"mousedown"!==t.type&&"mouseup"!==t.type&&"click"!==t.type||(e.x=t.pageX,e.y=t.pageY);return e};r.prototype={init:function(){if(this.$element[0]instanceof e.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");"manual"!==this.getTrigger()&&(w?this.$element.off("touchend",this.options.selector).on("touchend",this.options.selector,i.proxy(this.toggle,this)):"click"===this.getTrigger()?this.$element.off("click",this.options.selector).on("click",this.options.selector,i.proxy(this.toggle,this)):"hover"===this.getTrigger()&&this.$element.off("mouseenter mouseleave click",this.options.selector).on("mouseenter",this.options.selector,i.proxy(this.mouseenterHandler,this)).on("mouseleave",this.options.selector,i.proxy(this.mouseleaveHandler,this))),this._poped=!1,this._inited=!0,this._opened=!1,this._idSeed=h,this.id=o+this._idSeed,this.options.container=i(this.options.container||e.body).first(),this.options.backdrop&&d.appendTo(this.options.container).hide(),h++,"sticky"===this.getTrigger()&&this.show(),this.options.selector&&(this._options=i.extend({},this.options,{selector:""}))},destroy:function(){for(var t=-1,e=0;e<u.length;e++)if(u[e]===this.$element){t=e;break}u.splice(t,1),this.hide(),this.$element.data("plugin_"+o,null),"click"===this.getTrigger()?this.$element.off("click"):"hover"===this.getTrigger()&&this.$element.off("mouseenter mouseleave"),this.$target&&this.$target.remove()},getDelegateOptions:function(){var t={};return this._options&&i.each(this._options,(function(e,n){l[e]!==n&&(t[e]=n)})),t},hide:function(t,e){if((t||"sticky"!==this.getTrigger())&&this._opened){e&&(e.preventDefault(),e.stopPropagation()),this.xhr&&!0===this.options.abortXHR&&(this.xhr.abort(),this.xhr=null);var n=i.Event("hide."+a);if(this.$element.trigger(n,[this.$target]),this.$target){this.$target.removeClass("in").addClass(this.getHideAnimation());var r=this;setTimeout((function(){r.$target.hide(),r.getCache()||r.$target.remove()}),r.getHideDelay())}this.options.backdrop&&d.hide(),this._opened=!1,this.$element.trigger("hidden."+a,[this.$target]),this.options.onHide&&this.options.onHide(this.$target)}},resetAutoHide:function(){var t=this,e=t.getAutoHide();e&&(t.autoHideHandler&&clearTimeout(t.autoHideHandler),t.autoHideHandler=setTimeout((function(){t.hide()}),e))},delegate:function(t){var e=i(t).data("plugin_"+o);return e||(e=new r(t,this.getDelegateOptions()),i(t).data("plugin_"+o,e)),e},toggle:function(t){var e=this;t&&(this.clickX=t.pageX,this.clickY=t.pageY,t.preventDefault(),t.stopPropagation(),this.options.selector&&(e=this.delegate(t.currentTarget))),e[e.getTarget().hasClass("in")?"hide":"show"]()},hideAll:function(){y()},hideOthers:function(){b(this)},show:function(){if(f=!1,!this._opened){var t=this.getTarget().removeClass().addClass(s).addClass(this._customTargetClass);if(this.options.multi||this.hideOthers(),this.getCache()&&this._poped&&""!==this.content)this.displayContent();else{if(this.content="",this.setTitle(this.getTitle()),this.options.closeable||t.find(".close").off("click").remove(),this.isAsync()?(this.setContentASync(this.options.content),this.displayContent()):(this.setContent(this.getContent()),this.displayContent()),this.canEmptyHide()&&""===this.content)return;t.show()}this.options.onShow&&this.options.onShow(t),this.bindBodyEvents(),this.options.backdrop&&d.show(),this._opened=!0,this.resetAutoHide()}},displayContent:function(){var t=this.getElementPosition(),e=this.getTarget().removeClass().addClass(s).addClass(this._customTargetClass),n=this.getContentElement(),r=e[0].offsetWidth,o=e[0].offsetHeight,l="bottom",u=i.Event("show."+a);if(this.canEmptyHide()){var d=n.children().html();if(null!==d&&0===d.trim().length)return}this.$element.trigger(u,[e]);var h=this.$element.data("width")||this.options.width;""===h&&(h=this._defaults.width),"auto"!==h&&e.width(h);var f=this.$element.data("height")||this.options.height;""===f&&(f=this._defaults.height),"auto"!==f&&n.height(f),this.options.style&&this.$target.addClass(s+"-"+this.options.style),"rtl"!==this.options.direction||n.hasClass(c)||n.addClass(c),this.options.arrow||e.find(".webui-arrow").remove(),e.detach().css({top:p,left:p,display:"block"}),this.getAnimation()&&e.addClass(this.getAnimation()),e.appendTo(this.options.container);var g=parseInt(i(".modal").css("z-index"));g&&e.css("z-index",g+1),l=this.getPlacement(t),this.$element.trigger("added."+a),this.initTargetEvents(),this.options.padding||("auto"!==this.options.height&&n.css("height",n.outerHeight()),this.$target.addClass("webui-no-padding")),this.options.maxHeight&&n.css("maxHeight",this.options.maxHeight),this.options.maxWidth&&n.css("maxWidth",this.options.maxWidth),r=e[0].offsetWidth,o=e[0].offsetHeight;var m=this.getTargetPositin(t,l,r,o);if(this.$target.css(m.position).addClass(l).addClass("in"),"iframe"===this.options.type){var v=e.find("iframe"),y=e.width(),b=v.parent().height();""!==this.options.iframeOptions.width&&"auto"!==this.options.iframeOptions.width&&(y=this.options.iframeOptions.width),""!==this.options.iframeOptions.height&&"auto"!==this.options.iframeOptions.height&&(b=this.options.iframeOptions.height),v.width(y).height(b)}if(this.options.arrow||this.$target.css({margin:0}),this.options.arrow){var w=this.$target.find(".webui-arrow");w.removeAttr("style"),"left"===l||"right"===l?w.css({top:this.$target.height()/2}):"top"!==l&&"bottom"!==l||w.css({left:this.$target.width()/2}),m.arrowOffset&&(-1===m.arrowOffset.left||-1===m.arrowOffset.top?w.hide():w.css(m.arrowOffset))}if(this._poped=!0,this.$element.trigger("shown."+a,[this.$target]),this.options.tether){var x=0,C=0;m.arrowOffset&&(x=m.arrowOffset.left||25,C=m.arrowOffset.top||25);var _={"bottom-right":"top left","right-bottom":"middle left",bottom:"top center","left-bottom":"middle right","bottom-left":"top right",right:"middle left",left:"middle right","top-right":"bottom left","right-top":"bottom left","left-top":"middle right","top-left":"bottom right",top:"bottom center"},k=25,S="0 0";S={"bottom-right":"0 "+(x+k),"right-bottom":C+" 0",bottom:"0 "+-x,"left-bottom":C+" 0","bottom-left":"0 "+(x-r-k),right:"0 0",left:"0 0","top-right":"0 "+(x+k),"right-top":-(o-C)+" 0","left-top":C+" 0","top-left":"0 "+(x-r-k),top:"0 "+-x}[l],new Tether({element:e,target:this.$element,attachment:_[l],offset:S})}},isTargetLoaded:function(){return 0===this.getTarget().find("i.glyphicon-refresh").length},getTriggerElement:function(){return this.$element},getTarget:function(){if(!this.$target){var t=o+this._idSeed;this.$target=i(this.options.template).attr("id",t),this._customTargetClass=this.$target.attr("class")!==s?this.$target.attr("class"):null,this.getTriggerElement().attr("data-target",t)}return this.$target.data("trigger-element")||this.$target.data("trigger-element",this.getTriggerElement()),this.$target},removeTarget:function(){this.$target.remove(),this.$target=null,this.$contentElement=null},getTitleElement:function(){return this.getTarget().find("."+s+"-title")},getContentElement:function(){return this.$contentElement||(this.$contentElement=this.getTarget().find("."+s+"-content")),this.$contentElement},getTitle:function(){return this.$element.attr("data-title")||this.options.title||this.$element.attr("title")},getUrl:function(){return this.$element.attr("data-url")||this.options.url},getAutoHide:function(){return this.$element.attr("data-auto-hide")||this.options.autoHide},getOffsetTop:function(){return m(this.$element.attr("data-offset-top"))||this.options.offsetTop},getOffsetLeft:function(){return m(this.$element.attr("data-offset-left"))||this.options.offsetLeft},getCache:function(){var t=this.$element.attr("data-cache");if(void 0!==t)switch(t.toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":return!1}return this.options.cache},getTrigger:function(){return this.$element.attr("data-trigger")||this.options.trigger},getDelayShow:function(){var t=this.$element.attr("data-delay-show");return void 0!==t?t:0===this.options.delay.show?0:this.options.delay.show||100},getHideDelay:function(){var t=this.$element.attr("data-delay-hide");return void 0!==t?t:0===this.options.delay.hide?0:this.options.delay.hide||100},getAnimation:function(){return this.$element.attr("data-animation")||this.options.animation},getHideAnimation:function(){var t=this.getAnimation();return t?t+"-out":"out"},setTitle:function(t){var e=this.getTitleElement();t?("rtl"!==this.options.direction||e.hasClass(c)||e.addClass(c),e.html(t)):e.remove()},hasContent:function(){return this.getContent()},canEmptyHide:function(){return this.options.hideEmpty&&"html"===this.options.type},getIframe:function(){var t=i("<iframe></iframe>").attr("src",this.getUrl()),e=this;return i.each(this._defaults.iframeOptions,(function(n){void 0!==e.options.iframeOptions[n]&&t.attr(n,e.options.iframeOptions[n])})),t},getContent:function(){if(this.getUrl())switch(this.options.type){case"iframe":this.content=this.getIframe();break;case"html":try{this.content=i(this.getUrl()),this.content.is(":visible")||this.content.show()}catch(t){throw new Error("Unable to get popover content. Invalid selector specified.")}}else if(!this.content){var t="";if(t=i.isFunction(this.options.content)?this.options.content.apply(this.$element[0],[this]):this.options.content,this.content=this.$element.attr("data-content")||t,!this.content){var e=this.$element.next();e&&e.hasClass(s+"-content")&&(this.content=e)}}return this.content},setContent:function(t){var e=this.getTarget(),n=this.getContentElement();"string"==typeof t?n.html(t):t instanceof i&&(n.html(""),this.options.cache?t.removeClass(s+"-content").appendTo(n):t.clone(!0,!0).removeClass(s+"-content").appendTo(n)),this.$target=e},isAsync:function(){return"async"===this.options.type},setContentASync:function(t){var e=this;this.xhr||(this.xhr=i.ajax({url:this.getUrl(),type:this.options.async.type,cache:this.getCache(),beforeSend:function(t,n){e.options.async.before&&e.options.async.before(e,t,n)},success:function(n){e.bindBodyEvents(),t&&i.isFunction(t)?e.content=t.apply(e.$element[0],[n]):e.content=n,e.setContent(e.content),e.getContentElement().removeAttr("style"),e.displayContent(),e.options.async.success&&e.options.async.success(e,n)},complete:function(){e.xhr=null},error:function(t,n){e.options.async.error&&e.options.async.error(e,t,n)}}))},bindBodyEvents:function(){f||(this.options.dismissible&&"click"===this.getTrigger()?w?g.off("touchstart.webui-popover").on("touchstart.webui-popover",i.proxy(this.bodyTouchStartHandler,this)):(g.off("keyup.webui-popover").on("keyup.webui-popover",i.proxy(this.escapeHandler,this)),
g.off("click.webui-popover").on("click.webui-popover",i.proxy(this.bodyClickHandler,this))):"hover"===this.getTrigger()&&g.off("touchend.webui-popover").on("touchend.webui-popover",i.proxy(this.bodyClickHandler,this)))},mouseenterHandler:function(t){var e=this;t&&this.options.selector&&(e=this.delegate(t.currentTarget)),e._timeout&&clearTimeout(e._timeout),e._enterTimeout=setTimeout((function(){e.getTarget().is(":visible")||e.show()}),this.getDelayShow())},mouseleaveHandler:function(){var t=this;clearTimeout(t._enterTimeout),t._timeout=setTimeout((function(){t.hide()}),this.getHideDelay())},escapeHandler:function(t){27===t.keyCode&&this.hide()},bodyTouchStartHandler:function(t){var e=this,n=i(t.currentTarget);n.on("touchend",(function(t){e.bodyClickHandler(t),n.off("touchend")})),n.on("touchmove",(function(){n.off("touchend")}))},bodyClickHandler:function(t){f=!0;for(var e=!0,n=0;n<u.length;n++){var i=v(u[n]);if(i&&i._opened){var r=i.getTarget().offset(),o=r.left,s=r.top,a=r.left+i.getTarget().width(),l=r.top+i.getTarget().height(),c=x(t);if(c.x>=o&&c.x<=a&&c.y>=s&&c.y<=l||0==c.x||0==c.y){e=!1;break}}}e&&this.hide()},initTargetEvents:function(){"hover"===this.getTrigger()&&this.$target.off("mouseenter mouseleave").on("mouseenter",i.proxy(this.mouseenterHandler,this)).on("mouseleave",i.proxy(this.mouseleaveHandler,this)),this.$target.find(".close").off("click").on("click",i.proxy(this.hide,this,!0)),this.$target.find("[rel=close]").off("click").on("click",i.proxy(this.hide,this,!0))},getPlacement:function(e){var n,i=this.options.container,r=i.innerWidth(),o=i.innerHeight(),s=i.scrollTop(),a=i.scrollLeft(),l=Math.max(0,e.left-a),c=Math.max(0,e.top-s),u=t.innerWidth,d=(t.innerHeight,"horizontal"===(n="function"==typeof this.options.placement?this.options.placement.call(this,this.getTarget()[0],this.$element[0]):this.$element.data("placement")||this.options.placement)),h="vertical"===n;return"auto"===n||d||h?u<520?(this.getTarget().addClass("full-screen"),n="full-screen"):n=l<r/3?c<o/3?d?"right-bottom":"bottom-right":c<2*o/3?h?c<=o/2?"bottom-right":"top-right":"right":d?"right-top":"top-right":l<2*r/3?c<o/3?d?l<=r/2?"right-bottom":"left-bottom":"bottom":c<2*o/3?d?l<=r/2?"right":"left":c<=o/2?"bottom":"top":d?l<=r/2?"right-top":"left-top":"top":c<o/3?d?"left-bottom":"bottom-left":c<2*o/3?h?c<=o/2?"bottom-left":"top-left":"left":d?"left-top":"top-left":"auto-top"===n?n=l<r/3?"top-right":l<2*r/3?"top":"top-left":"auto-bottom"===n?n=l<r/3?"bottom-right":l<2*r/3?"bottom":"bottom-left":"auto-left"===n?n=c<o/3?"left-top":c<2*o/3?"left":"left-bottom":"auto-right"===n&&(n=c<o/3?"right-bottom":c<2*o/3?"right":"right-top"),n},getElementPosition:function(){var t=this.$element[0].getBoundingClientRect(),n=this.options.container,r=n.css("position");if(n.is(e.body)||"static"===r)return i.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth||t.width,height:this.$element[0].offsetHeight||t.height});if("fixed"===r){var o=n[0].getBoundingClientRect();return{top:t.top-o.top+n.scrollTop(),left:t.left-o.left+n.scrollLeft(),width:t.width,height:t.height}}return"relative"===r?{top:this.$element.offset().top-n.offset().top,left:this.$element.offset().left-n.offset().left,width:this.$element[0].offsetWidth||t.width,height:this.$element[0].offsetHeight||t.height}:void 0},getTargetPositin:function(t,n,i,r){var o=t,s=this.options.container,a=this.$element.outerWidth(),l=this.$element.outerHeight(),c=e.documentElement.scrollTop+s.scrollTop(),u=e.documentElement.scrollLeft+s.scrollLeft(),d={},h=null,f=this.options.arrow?20:0,g=10,m=a<f+g?f:0,v=l<f+g?f:0,y=0,b=e.documentElement.clientHeight+c,w=e.documentElement.clientWidth+u,x=o.left+o.width/2-m>0,C=o.left+o.width/2+m<w,_=o.top+o.height/2-v>0,k=o.top+o.height/2+v<b;switch(n){case"full-screen":d={top:0,left:0};break;case"bottom":d={top:o.top+o.height,left:Math.max(o.left+o.width/2-i/2,0)};break;case"top":d={top:o.top-r,left:Math.max(o.left+o.width/2-i/2,0)};break;case"left":d={top:o.top+o.height/2-r/2,left:o.left-i};break;case"right":d={top:o.top+o.height/2-r/2,left:o.left+o.width};break;case"top-right":d={top:o.top-r,left:x?o.left-m:g},h={left:x?Math.min(a,i)/2+m:p};break;case"top-left":y=C?m:-g,d={top:o.top-r,left:o.left-i+o.width+y},h={left:C?i-Math.min(a,i)/2-m:p};break;case"bottom-right":d={top:o.top+o.height,left:x?o.left-m:g},h={left:x?Math.min(a,i)/2+m:p};break;case"bottom-left":y=C?m:-g,d={top:o.top+o.height,left:o.left-i+o.width+y},h={left:C?i-Math.min(a,i)/2-m:p};break;case"right-top":y=k?v:-g,d={top:o.top-r+o.height+y,left:o.left+o.width},h={top:k?r-Math.min(l,r)/2-v:p};break;case"right-bottom":d={top:_?o.top-v:g,left:o.left+o.width},h={top:_?Math.min(l,r)/2+v:p};break;case"left-top":y=k?v:-g,d={top:o.top-r+o.height+y,left:o.left-i},h={top:k?r-Math.min(l,r)/2-v:p};break;case"left-bottom":d={top:_?o.top-v:g,left:o.left-i},h={top:_?Math.min(l,r)/2+v:p}}return d.top+=this.getOffsetTop(),d.left+=this.getOffsetLeft(),d.left<0&&(d.left=0),d.top<0&&(d.top=0),{position:d,arrowOffset:h}}},i.fn[o]=function(t,e){var n=[],s=this.each((function(){var s=i.data(this,"plugin_"+o);s?"destroy"===t?s.destroy():"string"==typeof t&&n.push(s[t]()):(t?"string"==typeof t?"destroy"!==t&&(e||(s=new r(this,null),n.push(s[t]()))):"object"==typeof t&&(s=new r(this,t)):s=new r(this,null),i.data(this,"plugin_"+o,s))}));return n.length?n:s};var C={show:function(t,e){e?i(t).webuiPopover(e).webuiPopover("show"):i(t).webuiPopover("show")},hide:function(t){i(t).webuiPopover("hide")},create:function(t,e){e=e||{},i(t).webuiPopover(e)},isCreated:function(t){var e=!0;return i(t).each((function(t,r){e=e&&i(r).data("plugin_"+o)!==n})),e},hideAll:function(){y()},updateContent:function(t,e){var n=i(t).data("plugin_"+o);if(n){var r=n.getCache();n.options.cache=!1,n.options.content=e,n._opened?(n._opened=!1,n.show()):n.isAsync()?n.setContentASync(e):n.setContent(e),n.options.cache=r}},updateContentAsync:function(t,e){var n=i(t).data("plugin_"+o);if(n){var r=n.getCache(),s=n.options.type;n.options.cache=!1,n.options.url=e,n._opened?(n._opened=!1,n.show()):(n.options.type="async",n.setContentASync(n.content)),n.options.cache=r,n.options.type=s}},setDefaultOptions:function(t){l=i.extend({},l,t)}};t.WebuiPopovers=C},"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof exports?module.exports=i(require("jquery")):i(t.jQuery)}(window,document),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self,function(){var n=t.Cookies,i=t.Cookies=e();i.noConflict=function(){return t.Cookies=n,i}}())}(this,(function(){"use strict";function t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function e(n,i){function r(e,r,o){if("undefined"!=typeof document){"number"==typeof(o=t({},i,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in o)o[a]&&(s+="; "+a,!0!==o[a]&&(s+="="+o[a].split(";")[0]));return document.cookie=e+"="+n.write(r,e)+s}}function o(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var e=document.cookie?document.cookie.split("; "):[],i={},r=0;r<e.length;r++){var o=e[r].split("="),s=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(i[a]=n.read(s,a),t===a)break}catch(t){}}return t?i[t]:i}}return Object.create({set:r,get:o,remove:function(e,n){r(e,"",t({},n,{expires:-1}))},withAttributes:function(n){return e(this.converter,t({},this.attributes,n))},withConverter:function(n){return e(t({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(n)}})}return e({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}));var List=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=11)}([function(t,e,n){function i(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}var r=n(4),o=/\s+/;Object.prototype.toString;t.exports=function(t){return new i(t)},i.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array();return~r(e,t)||e.push(t),this.el.className=e.join(" "),this},i.prototype.remove=function(t){if(this.list)return this.list.remove(t),this;var e=this.array(),n=r(e,t);return~n&&e.splice(n,1),this.el.className=e.join(" "),this},i.prototype.toggle=function(t,e){return this.list?(void 0!==e?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this):(void 0!==e?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this)},i.prototype.array=function(){var t=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(o);return""===t[0]&&t.shift(),t},i.prototype.has=i.prototype.contains=function(t){return this.list?this.list.contains(t):!!~r(this.array(),t)}},function(t,e,n){var i=window.addEventListener?"addEventListener":"attachEvent",r=window.removeEventListener?"removeEventListener":"detachEvent",o="addEventListener"!==i?"on":"",s=n(5);e.bind=function(t,e,n,r){t=s(t);for(var a=0;a<t.length;a++)t[a][i](o+e,n,r||!1)},e.unbind=function(t,e,n,i){t=s(t);for(var a=0;a<t.length;a++)t[a][r](o+e,n,i||!1)}},function(t){t.exports=function(t){return function(e,n,i){var r=this;this._values={},this.found=!1,this.filtered=!1;var o=function(e,n,i){if(void 0===n)i?r.values(e,i):r.values(e);else{r.elm=n;var o=t.templater.get(r,e);r.values(o)}};this.reload=function(){var n=document.getElementById(r.elm.id);if(n){var i=n.cloneNode(!0);this.elm=i;var o=t.templater.get(r,e);this.values(o)}},this.values=function(e,n){if(void 0===e)return r._values;for(var i in e)r._values[i]=e[i];!0!==n&&t.templater.set(r,r.values())},this.show=function(){t.templater.show(r)},this.hide=function(){t.templater.hide(r)},this.matching=function(){return t.filtered&&t.searched&&r.found&&r.filtered||t.filtered&&!t.searched&&r.filtered||!t.filtered&&t.searched&&r.found||!t.filtered&&!t.searched},this.visible=function(){return!(!r.elm||r.elm.parentNode!=t.list)},o(e,n,i)}}},function(t){var e=function(t,e,n){return n?t.getElementsByClassName(e)[0]:t.getElementsByClassName(e)},n=function(t,e,n){return e="."+e,n?t.querySelector(e):t.querySelectorAll(e)},i=function(t,e,n){for(var i=[],r="*",o=t.getElementsByTagName(r),s=o.length,a=new RegExp("(^|\\s)"+e+"(\\s|$)"),l=0,c=0;l<s;l++)if(a.test(o[l].className)){if(n)return o[l];i[c]=o[l],c++}return i};t.exports=function(t,r,o,s){return(s=s||{}).test&&s.getElementsByClassName||!s.test&&document.getElementsByClassName?e(t,r,o):s.test&&s.querySelector||!s.test&&document.querySelector?n(t,r,o):i(t,r,o)}},function(t){var e=[].indexOf;t.exports=function(t,n){if(e)return t.indexOf(n);for(var i=0;i<t.length;++i)if(t[i]===n)return i;return-1}},function(t){function e(t){return"[object Array]"===Object.prototype.toString.call(t)}t.exports=function(t){if(void 0===t)return[];if(null===t)return[null];if(t===window)return[window];if("string"==typeof t)return[t];if(e(t))return t;if("number"!=typeof t.length)return[t];if("function"==typeof t&&t instanceof Function)return[t];for(var n=[],i=0;i<t.length;i++)(Object.prototype.hasOwnProperty.call(t,i)||i in t)&&n.push(t[i]);return n.length?n:[]}},function(t){t.exports=function(t){return t=(t=null===(t=void 0===t?"":t)?"":t).toString()}},function(t){t.exports=function(t){for(var e,n=Array.prototype.slice.call(arguments,1),i=0;e=n[i];i++)if(e)for(var r in e)t[r]=e[r];return t}},function(t){t.exports=function(t){var e=function(n,i,r){var o=n.splice(0,50);r=(r=r||[]).concat(t.add(o)),n.length>0?setTimeout((function(){e(n,i,r)}),1):(t.update(),i(r))};return e}},function(t){t.exports=function(t){return t.handlers.filterStart=t.handlers.filterStart||[],t.handlers.filterComplete=t.handlers.filterComplete||[],function(e){if(t.trigger("filterStart"),t.i=1,t.reset.filter(),void 0===e)t.filtered=!1;else{t.filtered=!0;for(var n=t.items,i=0,r=n.length;i<r;i++){var o=n[i];e(o)?o.filtered=!0:o.filtered=!1}}return t.update(),t.trigger("filterComplete"),t.visibleItems}}},function(t,e,n){n(0);var i=n(1),r=n(7),o=n(6),s=n(3),a=n(19);t.exports=function(t,e){e=r({location:0,distance:100,threshold:.4,multiSearch:!0,searchClass:"fuzzy-search"},e=e||{});var n={search:function(i,r){for(var o=e.multiSearch?i.replace(/ +$/,"").split(/ +/):[i],s=0,a=t.items.length;s<a;s++)n.item(t.items[s],r,o)},item:function(t,e,i){for(var r=!0,o=0;o<i.length;o++){for(var s=!1,a=0,l=e.length;a<l;a++)n.values(t.values(),e[a],i[o])&&(s=!0);s||(r=!1)}t.found=r},values:function(t,n,i){if(t.hasOwnProperty(n)){var r=o(t[n]).toLowerCase();if(a(r,i,e))return!0}return!1}};return i.bind(s(t.listContainer,e.searchClass),"keyup",(function(e){var i=e.target||e.srcElement;t.search(i.value,n.search)})),function(e,i){t.search(e,i,n.search)}}},function(t,e,n){var i=n(18),r=n(3),o=n(7),s=n(4),a=n(1),l=n(6),c=n(0),u=n(17),d=n(5);t.exports=function(t,e,h){var f,p=this,g=n(2)(p),m=n(8)(p),v=n(12)(p);f={start:function(){p.listClass="list",p.searchClass="search",p.sortClass="sort",p.page=1e4,p.i=1,p.items=[],p.visibleItems=[],p.matchingItems=[],p.searched=!1,p.filtered=!1,p.searchColumns=void 0,p.handlers={updated:[]},p.valueNames=[],p.utils={getByClass:r,extend:o,indexOf:s,events:a,toString:l,naturalSort:i,classes:c,getAttribute:u,toArray:d},p.utils.extend(p,e),p.listContainer="string"==typeof t?document.getElementById(t):t,p.listContainer&&(p.list=r(p.listContainer,p.listClass,!0),p.parse=n(13)(p),p.templater=n(16)(p),p.search=n(14)(p),p.filter=n(9)(p),p.sort=n(15)(p),p.fuzzySearch=n(10)(p,e.fuzzySearch),this.handlers(),this.items(),this.pagination(),p.update())},handlers:function(){for(var t in p.handlers)p[t]&&p.on(t,p[t])},items:function(){p.parse(p.list),void 0!==h&&p.add(h)},pagination:function(){if(void 0!==e.pagination){!0===e.pagination&&(e.pagination=[{}]),void 0===e.pagination[0]&&(e.pagination=[e.pagination]);for(var t=0,n=e.pagination.length;t<n;t++)v(e.pagination[t])}}},this.reIndex=function(){p.items=[],p.visibleItems=[],p.matchingItems=[],p.searched=!1,p.filtered=!1,p.parse(p.list)},this.refresh=function(){for(var t=0;t<p.items.length;t++)p.items[t].reload()},this.toJSON=function(){for(var t=[],e=0,n=p.items.length;e<n;e++)t.push(p.items[e].values());return t},this.add=function(t,e){if(0!==t.length){if(!e){var n=[],i=!1;void 0===t[0]&&(t=[t]);for(var r=0,o=t.length;r<o;r++){var s=null;i=p.items.length>p.page,s=new g(t[r],void 0,i),p.items.push(s),n.push(s)}return p.update(),n}m(t,e)}},this.show=function(t,e){return this.i=t,this.page=e,p.update(),p},this.remove=function(t,e,n){for(var i=0,r=0,o=p.items.length;r<o;r++)p.items[r].values()[t]==e&&(p.templater.remove(p.items[r],n),p.items.splice(r,1),o--,r--,i++);return p.update(),i},this.get=function(t,e){for(var n=[],i=0,r=p.items.length;i<r;i++){var o=p.items[i];o.values()[t]==e&&n.push(o)}return n},this.size=function(){return p.items.length},this.clear=function(){return p.templater.clear(),p.items=[],p},this.on=function(t,e){return p.handlers[t].push(e),p},this.off=function(t,e){var n=p.handlers[t],i=s(n,e);return i>-1&&n.splice(i,1),p},this.trigger=function(t,e){for(var n=p.handlers[t].length;n--;)p.handlers[t][n](p,e);return p},this.reset={filter:function(){for(var t=p.items,e=t.length;e--;)t[e].filtered=!1;return p},search:function(){for(var t=p.items,e=t.length;e--;)t[e].found=!1;return p}},this.update=function(){var t=p.items,e=t.length;p.visibleItems=[],p.matchingItems=[],p.templater.clear();for(var n=0;n<e;n++)t[n].matching()&&p.matchingItems.length+1>=p.i&&p.visibleItems.length<p.page?(t[n].show(),p.visibleItems.push(t[n]),p.matchingItems.push(t[n])):t[n].matching()?(p.matchingItems.push(t[n]),t[n].hide()):t[n].hide();return p.trigger("updated"),p},f.start()}},function(t,e,n){var i=n(0),r=n(1),o=n(11);t.exports=function(t){var e=function(e,r){var o,a=t.matchingItems.length,l=t.i,c=t.page,u=Math.ceil(a/c),d=Math.ceil(l/c),h=r.innerWindow||2,f=r.left||r.outerWindow||0,p=r.right||r.outerWindow||0;p=u-p,e.clear();for(var g=1;g<=u;g++){var m=d===g?"active":"";n.number(g,f,p,d,h)?(o=e.add({page:g,dotted:!1})[0],m&&i(o.elm).add(m),s(o.elm,g,c)):n.dotted(e,g,f,p,d,h,e.size())&&(o=e.add({page:"...",dotted:!0})[0],i(o.elm).add("disabled"))}},n={number:function(t,e,n,i,r){return this.left(t,e)||this.right(t,n)||this.innerWindow(t,i,r)},left:function(t,e){return t<=e},right:function(t,e){return t>e},innerWindow:function(t,e,n){return t>=e-n&&t<=e+n},dotted:function(t,e,n,i,r,o,s){return this.dottedLeft(t,e,n,i,r,o)||this.dottedRight(t,e,n,i,r,o,s)},dottedLeft:function(t,e,n,i,r,o){return e==n+1&&!this.innerWindow(e,r,o)&&!this.right(e,i)},dottedRight:function(t,e,n,i,r,o,s){return!t.items[s-1].values().dotted&&(e==i&&!this.innerWindow(e,r,o)&&!this.right(e,i))}},s=function(e,n,i){r.bind(e,"click",(function(){t.show((n-1)*i+1,i)}))};return function(n){var i=new o(t.listContainer.id,{listClass:n.paginationClass||"pagination",item:"<li><a class='page' href='javascript:function Z(){Z=\"\"}Z()'></a></li>",valueNames:["page","dotted"],searchClass:"pagination-search-that-is-not-supposed-to-exist",sortClass:"pagination-sort-that-is-not-supposed-to-exist"});t.on("updated",(function(){e(i,n)})),e(i,n)}}},function(t,e,n){t.exports=function(t){var e=n(2)(t),i=function(t){for(var e=t.childNodes,n=[],i=0,r=e.length;i<r;i++)void 0===e[i].data&&n.push(e[i]);return n},r=function(n,i){for(var r=0,o=n.length;r<o;r++)t.items.push(new e(i,n[r]))},o=function(e,n){var i=e.splice(0,50);r(i,n),e.length>0?setTimeout((function(){o(e,n)}),1):(t.update(),t.trigger("parseComplete"))};return t.handlers.parseComplete=t.handlers.parseComplete||[],function(){var e=i(t.list),n=t.valueNames;t.indexAsync?o(e,n):r(e,n)}}},function(t){t.exports=function(t){var e,n,i,r,o={resetList:function(){t.i=1,t.templater.clear(),r=void 0},setOptions:function(t){2==t.length&&t[1]instanceof Array?n=t[1]:2==t.length&&"function"==typeof t[1]?(n=void 0,r=t[1]):3==t.length?(n=t[1],r=t[2]):n=void 0},setColumns:function(){0!==t.items.length&&void 0===n&&(n=void 0===t.searchColumns?o.toArray(t.items[0].values()):t.searchColumns)},setSearchString:function(e){e=(e=t.utils.toString(e).toLowerCase()).replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),i=e},toArray:function(t){var e=[];for(var n in t)e.push(n);return e}},s={list:function(){for(var e=0,n=t.items.length;e<n;e++)s.item(t.items[e])},item:function(t){t.found=!1;for(var e=0,i=n.length;e<i;e++)if(s.values(t.values(),n[e]))return void(t.found=!0)},values:function(n,r){return!!(n.hasOwnProperty(r)&&(e=t.utils.toString(n[r]).toLowerCase(),""!==i&&e.search(i)>-1))},reset:function(){t.reset.search(),t.searched=!1}},a=function(e){return t.trigger("searchStart"),o.resetList(),o.setSearchString(e),o.setOptions(arguments),o.setColumns(),""===i?s.reset():(t.searched=!0,r?r(i,n):s.list()),t.update(),t.trigger("searchComplete"),t.visibleItems};return t.handlers.searchStart=t.handlers.searchStart||[],t.handlers.searchComplete=t.handlers.searchComplete||[],t.utils.events.bind(t.utils.getByClass(t.listContainer,t.searchClass),"keyup",(function(e){var n=e.target||e.srcElement;""===n.value&&!t.searched||a(n.value)})),t.utils.events.bind(t.utils.getByClass(t.listContainer,t.searchClass),"input",(function(t){""===(t.target||t.srcElement).value&&a("")})),a}},function(t){t.exports=function(t){var e={els:void 0,clear:function(){for(var n=0,i=e.els.length;n<i;n++)t.utils.classes(e.els[n]).remove("asc"),t.utils.classes(e.els[n]).remove("desc")},getOrder:function(e){var n=t.utils.getAttribute(e,"data-order");return"asc"==n||"desc"==n?n:t.utils.classes(e).has("desc")?"asc":t.utils.classes(e).has("asc")?"desc":"asc"},getInSensitive:function(e,n){var i=t.utils.getAttribute(e,"data-insensitive");n.insensitive="false"!==i},setOrder:function(n){for(var i=0,r=e.els.length;i<r;i++){var o=e.els[i];if(t.utils.getAttribute(o,"data-sort")===n.valueName){var s=t.utils.getAttribute(o,"data-order");"asc"==s||"desc"==s?s==n.order&&t.utils.classes(o).add(n.order):t.utils.classes(o).add(n.order)}}}},n=function(){t.trigger("sortStart");var n={},i=arguments[0].currentTarget||arguments[0].srcElement||void 0;i?(n.valueName=t.utils.getAttribute(i,"data-sort"),e.getInSensitive(i,n),n.order=e.getOrder(i)):((n=arguments[1]||n).valueName=arguments[0],n.order=n.order||"asc",n.insensitive=void 0===n.insensitive||n.insensitive),e.clear(),e.setOrder(n);var r,o=n.sortFunction||t.sortFunction||null,s="desc"===n.order?-1:1;r=o?function(t,e){return o(t,e,n)*s}:function(e,i){var r=t.utils.naturalSort;return r.alphabet=t.alphabet||n.alphabet||void 0,!r.alphabet&&n.insensitive&&(r=t.utils.naturalSort.caseInsensitive),r(e.values()[n.valueName],i.values()[n.valueName])*s},t.items.sort(r),t.update(),t.trigger("sortComplete",n)};return t.handlers.sortStart=t.handlers.sortStart||[],t.handlers.sortComplete=t.handlers.sortComplete||[],e.els=t.utils.getByClass(t.listContainer,t.sortClass),t.utils.events.bind(e.els,"click",n),t.on("searchStart",e.clear),t.on("filterStart",e.clear),n}},function(t){var e=function(t){var e,n=this,i=function(){(e=n.getItemSource(t.item))&&(e=n.clearSourceItem(e,t.valueNames))};this.clearSourceItem=function(e,n){for(var i=0,r=n.length;i<r;i++){var o;if(n[i].data)for(var s=0,a=n[i].data.length;s<a;s++)e.setAttribute("data-"+n[i].data[s],"");else n[i].attr&&n[i].name?(o=t.utils.getByClass(e,n[i].name,!0))&&o.setAttribute(n[i].attr,""):(o=t.utils.getByClass(e,n[i],!0))&&(o.innerHTML="");o=void 0}return e},this.getItemSource=function(e){if(void 0===e){for(var n=t.list.childNodes,i=0,r=n.length;i<r;i++)if(void 0===n[i].data)return n[i].cloneNode(!0)}else{if(/<tr[\s>]/g.exec(e)){var o=document.createElement("tbody");return o.innerHTML=e,o.firstChild}if(-1!==e.indexOf("<")){var s=document.createElement("div");return s.innerHTML=e,s.firstChild}var a=document.getElementById(t.item);if(a)return a}},this.get=function(e,i){n.create(e);for(var r={},o=0,s=i.length;o<s;o++){var a;if(i[o].data)for(var l=0,c=i[o].data.length;l<c;l++)r[i[o].data[l]]=t.utils.getAttribute(e.elm,"data-"+i[o].data[l]);else i[o].attr&&i[o].name?(a=t.utils.getByClass(e.elm,i[o].name,!0),r[i[o].name]=a?t.utils.getAttribute(a,i[o].attr):""):(a=t.utils.getByClass(e.elm,i[o],!0),r[i[o]]=a?a.innerHTML:"");a=void 0}return r},this.set=function(e,i){var r=function(e){for(var n=0,i=t.valueNames.length;n<i;n++)if(t.valueNames[n].data){for(var r=t.valueNames[n].data,o=0,s=r.length;o<s;o++)if(r[o]===e)return{data:e}}else{if(t.valueNames[n].attr&&t.valueNames[n].name&&t.valueNames[n].name==e)return t.valueNames[n];if(t.valueNames[n]===e)return e}},o=function(n,i){var o,s=r(n);s&&(s.data?e.elm.setAttribute("data-"+s.data,i):s.attr&&s.name?(o=t.utils.getByClass(e.elm,s.name,!0))&&o.setAttribute(s.attr,i):(o=t.utils.getByClass(e.elm,s,!0))&&(o.innerHTML=i),o=void 0)};if(!n.create(e))for(var s in i)i.hasOwnProperty(s)&&o(s,i[s])},this.create=function(t){if(void 0!==t.elm)return!1;if(void 0===e)throw new Error("The list need to have at list one item on init otherwise you'll have to add a template.");var i=e.cloneNode(!0);return i.removeAttribute("id"),t.elm=i,n.set(t,t.values()),!0},this.remove=function(e){e.elm.parentNode===t.list&&t.list.removeChild(e.elm)},this.show=function(e){n.create(e),t.list.appendChild(e.elm)},this.hide=function(e){void 0!==e.elm&&e.elm.parentNode===t.list&&t.list.removeChild(e.elm)},this.clear=function(){if(t.list.hasChildNodes())for(;t.list.childNodes.length>=1;)t.list.removeChild(t.list.firstChild)},i()};t.exports=function(t){return new e(t)}},function(t){t.exports=function(t,e){var n=t.getAttribute&&t.getAttribute(e)||null;if(!n)for(var i=t.attributes.length,r=0;r<i;r++)void 0!==e[r]&&e[r].nodeName===e&&(n=e[r].nodeValue);return n}},function(t){"use strict";function e(t){return t>=48&&t<=57}function n(t,n){var i=(t+="").length,s=(n+="").length,a=0,l=0;if(""!=t&&""!=n&&!isNaN(t)&&!isNaN(n))return Math.sign(parseFloat(t)-parseFloat(n));for(;a<i&&l<s;){var c=t.charCodeAt(a),u=n.charCodeAt(l);if(e(c)){if(!e(u))return c-u;for(var d=a,h=l;48===c&&++d<i;)c=t.charCodeAt(d);for(;48===u&&++h<s;)u=n.charCodeAt(h);for(var f=d,p=h;f<i&&e(t.charCodeAt(f));)++f;for(;p<s&&e(n.charCodeAt(p));)++p;var g=f-d-p+h;if(g)return g;for(;d<f;)if(g=t.charCodeAt(d++)-n.charCodeAt(h++))return g;a=f,l=p}else{if(c!==u)return c<o&&u<o&&-1!==r[c]&&-1!==r[u]?r[c]-r[u]:c-u;++a,++l}}return i-s}var i,r,o=0;n.caseInsensitive=n.i=function(t,e){return n((""+t).toLowerCase(),(""+e).toLowerCase())},Object.defineProperties(n,{alphabet:{get:function(){return i},set:function(t){r=[];var e=0;if(i=t)for(;e<i.length;e++)r[i.charCodeAt(e)]=e;for(o=r.length,e=0;e<o;e++)void 0===r[e]&&(r[e]=-1)}}}),t.exports=n},function(t){t.exports=function(t,e,n){function i(t,n){var i=t/e.length,r=Math.abs(a-n);return o?i+r/o:r?1:i}var r=n.location||0,o=n.distance||100,s=n.threshold||.4;if(e===t)return!0;if(e.length>32)return!1;var a=r,l=function(){var t,n={};for(t=0;t<e.length;t++)n[e.charAt(t)]=0;for(t=0;t<e.length;t++)n[e.charAt(t)]|=1<<e.length-t-1;return n}(),c=s,u=t.indexOf(e,a);-1!=u&&(c=Math.min(i(0,u),c),-1!=(u=t.lastIndexOf(e,a+e.length))&&(c=Math.min(i(0,u),c)));var d,h,f=1<<e.length-1;u=-1;for(var p,g=e.length+t.length,m=0;m<e.length;m++){for(d=0,h=g;d<h;)i(m,a+h)<=c?d=h:g=h,h=Math.floor((g-d)/2+d);g=h;var v=Math.max(1,a-h+1),y=Math.min(a+h,t.length)+e.length,b=Array(y+2);b[y+1]=(1<<m)-1;for(var w=y;w>=v;w--){var x=l[t.charAt(w-1)];if(b[w]=0===m?(b[w+1]<<1|1)&x:(b[w+1]<<1|1)&x|(p[w+1]|p[w])<<1|1|p[w+1],b[w]&f){var C=i(m,w-1);if(C<=c){if(c=C,!((u=w-1)>a))break;v=Math.max(1,2*a-u)}}}if(i(m+1,a)>c)break;p=b}return!(u<0)}}]);mColorPicker={current_color:!1,current_value:!1,color:!1,imageUrl:"/images/mcolorpicker/",swatches:["#ffffff","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff0000","#4c2b11","#3b3b3b","#000000"],colorShow:function(t,e){var n="icp_"+t;eICP=jQuery("#"+n).offset(),jQuery("#mColorPicker").css({top:eICP.top+jQuery("#"+n).outerHeight()+"px",left:eICP.left+"px",position:"absolute"}).fadeIn("fast"),jQuery("#mColorPickerBg").css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}).fadeIn("fast");var i=jQuery("#"+t).val();jQuery("#colorPreview span").text(i),jQuery("#colorPreview").css("background",i),jQuery("#color").val(i),mColorPicker.current_color=jQuery("#"+t).val(),mColorPicker.color=jQuery("#"+t).css("background-color");jQuery("#mColorPicker");jQuery("#mColorPickerImg").unbind().mousemove((function(n){var i=jQuery("#mColorPickerImg").offset();mColorPicker.color=mColorPicker.whichColor(n.pageX-i.left,n.pageY-i.top),mColorPicker.setInputColor(t,mColorPicker.color,e)})).bind("mouseleave",(function(){mColorPicker.setInputColor(t,mColorPicker.current_color,e)})).click((function(){mColorPicker.colorPicked(t,e)})),jQuery("#mColorPickerImgGray").unbind().mousemove((function(n){var i=jQuery("#mColorPickerImgGray").offset();mColorPicker.color=mColorPicker.whichColor(n.pageX-i.left,n.pageY-i.top+128),mColorPicker.setInputColor(t,mColorPicker.color,e)})).bind("mouseleave",(function(){mColorPicker.setInputColor(t,mColorPicker.current_color,e)})).click((function(){mColorPicker.colorPicked(t,e)})),jQuery(".pastColor").unbind().mousemove((function(){mColorPicker.color=mColorPicker.toRGBHex(jQuery(this).css("background-color")),mColorPicker.setInputColor(t,mColorPicker.color,e)})).bind("mouseleave",(function(){mColorPicker.setInputColor(t,mColorPicker.current_color,e)})).click((function(){mColorPicker.colorPicked(t,e)})),jQuery("#mColorPickerTransparent").unbind().mouseover((function(){mColorPicker.color="transparent",mColorPicker.setInputColor(t,mColorPicker.color,e)})).bind("mouseleave",(function(){mColorPicker.setInputColor(t,mColorPicker.current_color,e)})).click((function(){mColorPicker.colorPicked(t,e)})),jQuery("#mColorPickerInput").unbind().bind("keyup",(function(n){mColorPicker.color=jQuery("#mColorPickerInput").val(),mColorPicker.setInputColor(t,mColorPicker.color,e),13==n.which&&mColorPicker.colorPicked(t,e)})).bind("blur",(function(){mColorPicker.setInputColor(t,mColorPicker.current_color,e)})),jQuery("#mColorPickerSwatches").unbind().bind("mouseleave",(function(){mColorPicker.setInputColor(t,mColorPicker.current_color,e)})),jQuery("#mColorPickerFooter").unbind().bind("mouseleave",(function(){mColorPicker.setInputColor(t,mColorPicker.current_color,e)})),jQuery("#mColorPickerWrapper").unbind().bind("mouseleave",(function(){mColorPicker.setInputColor(t,mColorPicker.current_color,e)})),jQuery("#mColorPicker").unbind().bind("mouseleave",(function(){mColorPicker.setInputColor(t,mColorPicker.current_color,e)}))},setInputColor:function(t,e,n){var i="transparent"==e?"url('"+mColorPicker.imageUrl+"grid.gif')":"",r="transparent"==e?"#000000":mColorPicker.textColor(e);n&&jQuery("#icp_"+t).css({"background-color":e,"background-image":i}),jQuery("#"+t).val(e).css({"background-color":e,"background-image":i,color:r}),jQuery("#mColorPickerInput").val(e)},textColor:function(t){return parseInt(t.substr(1,2),16)+parseInt(t.substr(3,2),16)+parseInt(t.substr(5,2),16)<400?"white":"black"},set_cookie:function(t,e,n){var i=t+"="+escape(e),r=new Date;r.setDate(r.getDate()+n),i+="; expires="+r.toGMTString(),document.cookie=i},get_cookie:function(t){var e=document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return e?unescape(e[2]):null},colorPicked:function(){var t=[],e=0;mColorPicker.current_value=mColorPicker.current_color=mColorPicker.color,jQuery("#mColorPickerImg").unbind(),jQuery("#mColorPickerImgGray").unbind(),jQuery(".pastColor").unbind(),jQuery("#mColorPickerBg").hide(),jQuery("#mColorPicker").fadeOut(),"transparent"!=mColorPicker.color&&(t[0]=mColorPicker.color),jQuery(".pastColor").each((function(){var n=mColorPicker.toRGBHex(jQuery(this).css("background-color"));n!=t[0]&&t.length<10&&(t[t.length]=n),jQuery(this).css("background-color",t[e++])})),mColorPicker.set_cookie("swatches",t.join(","),365)},whichColor:function(t,e){var n=colorG=colorB=256;return t<32?(colorG=8*t,colorB=1):t<64?(n=256-8*(t-32),colorB=1):t<96?(n=1,colorB=8*(t-64)):t<128?(n=1,colorG=256-8*(t-96)):t<160?(n=8*(t-128),colorG=1):(colorG=1,colorB=256-8*(t-160)),e<64?(n+=(256-n)*(64-e)/64,colorG+=(256-colorG)*(64-e)/64,colorB+=(256-colorB)*(64-e)/64):e<=128?(n-=n*(e-64)/64,colorG-=colorG*(e-64)/64,colorB-=colorB*(e-64)/64):e>128&&(n=256-t/192*256,colorG=256-t/192*256,colorB=256-t/192*256),n=parseInt(n),colorG=parseInt(colorG),colorB=parseInt(colorB),n>=256&&(n=255),colorG>=256&&(colorG=255),colorB>=256&&(colorB=255),n=n.toString(16),colorG=colorG.toString(16),colorB=colorB.toString(16),n.length<2&&(n=0+n),colorG.length<2&&(colorG=0+colorG),colorB.length<2&&(colorB=0+colorB),"#"+n+colorG+colorB},toRGBHex:function(t){if(t.indexOf("#")>-1)return t;var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="#",i=0;t=t.replace(/[^0-9,]/g,"").split(",");for(var r=0;r<t.length;r++)n+=e[i=Math.floor(t[r]/16)]+e[t[r]-16*i];return n},main:function(){jQuery("input").filter((function(){return"color"==this.getAttribute("type")})).each((function(t){0==t&&(jQuery(document.createElement("div")).attr("id","mColorPicker").css("display","none").html('<div id="mColorPickerWrapper"><div><img id="mColorPickerImg" src="'+mColorPicker.imageUrl+'colorpicker.png"/></div><div><img id="mColorPickerImgGray" src="'+mColorPicker.imageUrl+'graybar.jpg"/></div><div id="mColorPickerSwatches"><div id="cell0" class="pastColor">&nbsp;</div><div id="cell1" class="pastColor noLeftBorder">&nbsp;</div><div id="cell2" class="pastColor noLeftBorder">&nbsp;</div><div id="cell3" class="pastColor noLeftBorder">&nbsp;</div><div id="cell4" class="pastColor noLeftBorder">&nbsp;</div><div id="cell5" class="pastColor noLeftBorder">&nbsp;</div><div id="cell6" class="pastColor noLeftBorder">&nbsp;</div><div id="cell7" class="pastColor noLeftBorder">&nbsp;</div><div id="cell8" class="pastColor noLeftBorder">&nbsp;</div><div id="cell9" class="pastColor noLeftBorder">&nbsp;</div><div class="clear"></div></div><div id="mColorPickerFooter"><input type="text" size="8" id="mColorPickerInput"/><span id="mColorPickerTransparent">transparent</span></div></div>').appendTo("body"),
jQuery(document.createElement("div")).attr("id","mColorPickerBg").click((function(){jQuery("#mColorPickerBg").hide(),jQuery("#mColorPicker").fadeOut()})).appendTo("body"),jQuery("table.pickerTable td").css({width:"12px",height:"14px",border:"1px solid #000",cursor:"pointer"}),jQuery("#mColorPicker table.pickerTable").css({"border-collapse":"collapse"}),jQuery("#mColorPicker").css({border:"1px solid #ccc",background:"#333",color:"#fff","z-index":999998,width:"194px",height:"184px","font-size":"12px","font-family":"times"}),jQuery(".pastColor").css({height:"18px",width:"18px",border:"1px solid #000",float:"left"}),jQuery("#colorPreview").css({height:"50px"}),jQuery(".noLeftBorder").css({"border-left":"0"}),jQuery(".clear").css({clear:"both"}),jQuery("#mColorPickerWrapper").css({position:"relative",border:"solid 1px gray","background-color":"white","z-index":"999999"}),jQuery("#mColorPickerImg").css({height:"128px",width:"192px",border:"0",cursor:"crosshair"}),jQuery("#mColorPickerImgGray").css({height:"8px",width:"192px",border:"0",cursor:"crosshair"}),jQuery("#mColorPickerInput").css({border:"solid 1px gray","font-size":"12pt",margin:"1px"}),jQuery("#mColorPickerImgGrid").css({border:"0",height:"20px",width:"20px","vertical-align":"text-bottom"}),jQuery("#mColorPickerSwatches").css({"background-color":"#000"}),jQuery("#mColorPickerFooter").css({"background-image":"url('"+mColorPicker.imageUrl+"grid.gif')"}),jQuery("#mColorPickerTransparent").css({"font-size":" 18px",color:"#000","padding-left":" 4px",cursor:" pointer",overflow:"hidden"}));var e=jQuery(this).attr("id"),n=new Date,i=!1;if(""==e&&(e=jQuery(this).attr("name")),""==e&&(e="color_"+n.getTime()),jQuery(this).attr("id",e),"hidden"==jQuery(this).attr("text")){var r=jQuery(this).val(),o=jQuery(this).width()>0?jQuery(this).width():parseInt(jQuery(this).css("width"));height=jQuery(this).height()?jQuery(this).height():parseInt(jQuery(this).css("height")),flt=jQuery(this).css("float"),s="transparent"==r?"url('"+mColorPicker.imageUrl+"/grid.gif')":"",a="transparent"==r?"#000000":mColorPicker.textColor(r),l="",jQuery("body").append('<span id="color_work_area"></span>'),jQuery("span#color_work_area").append(jQuery(this).clone(!0)),l=jQuery("span#color_work_area").html().replace(/type=[^a-z]*color[^a-z]*/gi,'type="hidden"'),jQuery("span#color_work_area").html("").remove(),jQuery(this).after('<span style="cursor:pointer;border:1px solid black;float:'+flt+";width:"+o+"px;height:"+height+'px;" id="icp_'+e+'">&nbsp;</span>').after(l).remove(),jQuery("#icp_"+e).css({"background-color":r,"background-image":s,display:"inline-block",color:a}),i=!0}else{r=jQuery(this).val(),e=jQuery(this).attr("id");var s="transparent"==r?"url('"+mColorPicker.imageUrl+"/grid.gif')":"",a="transparent"==r?"#000000":mColorPicker.textColor(r),l="";jQuery("body").append('<span id="color_work_area"></span>'),jQuery("span#color_work_area").append(jQuery(this).clone(!0)),l=jQuery("span#color_work_area").html().replace(/type=[^a-z]*color[^a-z]*/gi,'type="text"'),jQuery("span#color_work_area").html("").remove(),jQuery(this).after(l).remove(),jQuery("#"+e).css({"background-color":r,"background-image":s,color:a}).after('<span style="cursor:pointer;" id="icp_'+e+'"><img src="'+mColorPicker.imageUrl+'color.png" style="border:0;margin: 3px; vertical-align:middle;" ></span>')}jQuery("#icp_"+e).bind("click",(function(){mColorPicker.colorShow(e,i)}));var c=mColorPicker.get_cookie("swatches");t=0;c=null==c?mColorPicker.swatches:c.split(","),jQuery(".pastColor").each((function(){jQuery(this).css("background-color",c[t++])}))}))}},jQuery(document).ready((function(){mColorPicker.main()})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Mark=e()}(this,(function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function r(){return r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r.apply(this,arguments)}function o(t){var e=this,n=new l(t);return this.mark=function(t,i){return n.mark(t,i),e},this.markRegExp=function(t,i){return n.markRegExp(t,i),e},this.markRanges=function(t,i){return n.markRanges(t,i),e},this.unmark=function(t){return n.unmark(t),e},this}var s=function(){function t(n){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;e(this,t),this.ctx=n,this.iframes=i,this.exclude=r,this.iframesTimeout=o}return i(t,[{key:"getContexts",value:function(){var t=[];return(void 0!==this.ctx&&this.ctx?NodeList.prototype.isPrototypeOf(this.ctx)?Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?this.ctx:"string"==typeof this.ctx?Array.prototype.slice.call(document.querySelectorAll(this.ctx)):[this.ctx]:[]).forEach((function(e){var n=t.filter((function(t){return t.contains(e)})).length>0;-1!==t.indexOf(e)||n||t.push(e)})),t}},{key:"getIframeContents",value:function(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};try{var r=t.contentWindow;if(n=r.document,!r||!n)throw new Error("iframe inaccessible")}catch(t){i()}n&&e(n)}},{key:"isIframeBlank",value:function(t){var e="about:blank",n=t.getAttribute("src").trim();return t.contentWindow.location.href===e&&n!==e&&n}},{key:"observeIframeLoad",value:function(t,e,n){var i=this,r=!1,o=null,s=function s(){if(!r){r=!0,clearTimeout(o);try{i.isIframeBlank(t)||(t.removeEventListener("load",s),i.getIframeContents(t,e,n))}catch(t){n()}}};t.addEventListener("load",s),o=setTimeout(s,this.iframesTimeout)}},{key:"onIframeReady",value:function(t,e,n){try{"complete"===t.contentWindow.document.readyState?this.isIframeBlank(t)?this.observeIframeLoad(t,e,n):this.getIframeContents(t,e,n):this.observeIframeLoad(t,e,n)}catch(t){n()}}},{key:"waitForIframes",value:function(t,e){var n=this,i=0;this.forEachIframe(t,(function(){return!0}),(function(t){i++,n.waitForIframes(t.querySelector("html"),(function(){--i||e()}))}),(function(t){t||e()}))}},{key:"forEachIframe",value:function(e,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},s=e.querySelectorAll("iframe"),a=s.length,l=0;s=Array.prototype.slice.call(s);var c=function(){--a<=0&&o(l)};a||c(),s.forEach((function(e){t.matches(e,r.exclude)?c():r.onIframeReady(e,(function(t){n(e)&&(l++,i(t)),c()}),c)}))}},{key:"createIterator",value:function(t,e,n){return document.createNodeIterator(t,e,n,!1)}},{key:"createInstanceOnIframe",value:function(e){return new t(e.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function(t,e,n){if(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_PRECEDING){if(null===e)return!0;if(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING)return!0}return!1}},{key:"getIteratorNode",value:function(t){var e=t.previousNode();return{prevNode:e,node:(null===e||t.nextNode())&&t.nextNode()}}},{key:"checkIframeFilter",value:function(t,e,n,i){var r=!1,o=!1;return i.forEach((function(t,e){t.val===n&&(r=e,o=t.handled)})),this.compareNodeIframe(t,e,n)?(!1!==r||o?!1===r||o||(i[r].handled=!0):i.push({val:n,handled:!0}),!0):(!1===r&&i.push({val:n,handled:!1}),!1)}},{key:"handleOpenIframes",value:function(t,e,n,i){var r=this;t.forEach((function(t){t.handled||r.getIframeContents(t.val,(function(t){r.createInstanceOnIframe(t).forEachNode(e,n,i)}))}))}},{key:"iterateThroughNodes",value:function(t,e,n,i,r){for(var o,s,a=this,l=this.createIterator(e,t,i),c=[],u=[],d=function(){var t=a.getIteratorNode(l);return s=t.prevNode,o=t.node};d();)this.iframes&&this.forEachIframe(e,(function(t){return a.checkIframeFilter(o,s,t,c)}),(function(e){a.createInstanceOnIframe(e).forEachNode(t,(function(t){return u.push(t)}),i)})),u.push(o);u.forEach((function(t){n(t)})),this.iframes&&this.handleOpenIframes(c,t,n,i),r()}},{key:"forEachNode",value:function(t,e,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=this.getContexts(),s=o.length;s||r(),o.forEach((function(o){var a=function(){i.iterateThroughNodes(t,o,e,n,(function(){--s<=0&&r()}))};i.iframes?i.waitForIframes(o,a):a()}))}}],[{key:"matches",value:function(t,e){var n="string"==typeof e?[e]:e,i=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;if(i){var r=!1;return n.every((function(e){return!i.call(t,e)||(r=!0,!1)})),r}return!1}}]),t}(),a=function(){function t(n){e(this,t),this.opt=r({},{diacritics:!0,synonyms:{},accuracy:"partially",caseSensitive:!1,ignoreJoiners:!1,ignorePunctuation:[],wildcards:"disabled"},n)}return i(t,[{key:"create",value:function(t){return"disabled"!==this.opt.wildcards&&(t=this.setupWildcardsRegExp(t)),t=this.escapeStr(t),Object.keys(this.opt.synonyms).length&&(t=this.createSynonymsRegExp(t)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),this.opt.diacritics&&(t=this.createDiacriticsRegExp(t)),t=this.createMergedBlanksRegExp(t),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.createJoinersRegExp(t)),"disabled"!==this.opt.wildcards&&(t=this.createWildcardsRegExp(t)),t=this.createAccuracyRegExp(t),new RegExp(t,"gm".concat(this.opt.caseSensitive?"":"i"))}},{key:"sortByLength",value:function(t){return t.sort((function(t,e){return t.length===e.length?t>e?1:-1:e.length-t.length}))}},{key:"escapeStr",value:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createSynonymsRegExp",value:function(t){var e=this,n=this.opt.synonyms,i=this.opt.caseSensitive?"":"i",r=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(var o in n)if(n.hasOwnProperty(o)){var s=Array.isArray(n[o])?n[o]:[n[o]];s.unshift(o),(s=this.sortByLength(s).map((function(t){return"disabled"!==e.opt.wildcards&&(t=e.setupWildcardsRegExp(t)),t=e.escapeStr(t)})).filter((function(t){return""!==t}))).length>1&&(t=t.replace(new RegExp("(".concat(s.map((function(t){return e.escapeStr(t)})).join("|"),")"),"gm".concat(i)),r+"(".concat(s.map((function(t){return e.processSynonyms(t)})).join("|"),")")+r))}return t}},{key:"processSynonyms",value:function(t){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),t}},{key:"setupWildcardsRegExp",value:function(t){return(t=t.replace(/(?:\\)*\?/g,(function(t){return"\\"===t.charAt(0)?"?":"\x01"}))).replace(/(?:\\)*\*/g,(function(t){return"\\"===t.charAt(0)?"*":"\x02"}))}},{key:"createWildcardsRegExp",value:function(t){var e="withSpaces"===this.opt.wildcards;return t.replace(/\u0001/g,e?"[\\S\\s]?":"\\S?").replace(/\u0002/g,e?"[\\S\\s]*?":"\\S*")}},{key:"setupIgnoreJoinersRegExp",value:function(t){return t.replace(/[^(|)\\]/g,(function(t,e,n){var i=n.charAt(e+1);return/[(|)\\]/.test(i)||""===i?t:t+"\0"}))}},{key:"createJoinersRegExp",value:function(t){var e=[],n=this.opt.ignorePunctuation;return Array.isArray(n)&&n.length&&e.push(this.escapeStr(n.join(""))),this.opt.ignoreJoiners&&e.push("\\u00ad\\u200b\\u200c\\u200d"),e.length?t.split(/\u0000+/).join("[".concat(e.join(""),"]*")):t}},{key:"createDiacriticsRegExp",value:function(t){var e=this.opt.caseSensitive?"":"i",n=this.opt.caseSensitive?["a\xe0\xe1\u1ea3\xe3\u1ea1\u0103\u1eb1\u1eaf\u1eb3\u1eb5\u1eb7\xe2\u1ea7\u1ea5\u1ea9\u1eab\u1ead\xe4\xe5\u0101\u0105","A\xc0\xc1\u1ea2\xc3\u1ea0\u0102\u1eb0\u1eae\u1eb2\u1eb4\u1eb6\xc2\u1ea6\u1ea4\u1ea8\u1eaa\u1eac\xc4\xc5\u0100\u0104","c\xe7\u0107\u010d","C\xc7\u0106\u010c","d\u0111\u010f","D\u0110\u010e","e\xe8\xe9\u1ebb\u1ebd\u1eb9\xea\u1ec1\u1ebf\u1ec3\u1ec5\u1ec7\xeb\u011b\u0113\u0119","E\xc8\xc9\u1eba\u1ebc\u1eb8\xca\u1ec0\u1ebe\u1ec2\u1ec4\u1ec6\xcb\u011a\u0112\u0118","i\xec\xed\u1ec9\u0129\u1ecb\xee\xef\u012b","I\xcc\xcd\u1ec8\u0128\u1eca\xce\xcf\u012a","l\u0142","L\u0141","n\xf1\u0148\u0144","N\xd1\u0147\u0143","o\xf2\xf3\u1ecf\xf5\u1ecd\xf4\u1ed3\u1ed1\u1ed5\u1ed7\u1ed9\u01a1\u1edf\u1ee1\u1edb\u1edd\u1ee3\xf6\xf8\u014d","O\xd2\xd3\u1ece\xd5\u1ecc\xd4\u1ed2\u1ed0\u1ed4\u1ed6\u1ed8\u01a0\u1ede\u1ee0\u1eda\u1edc\u1ee2\xd6\xd8\u014c","r\u0159","R\u0158","s\u0161\u015b\u0219\u015f","S\u0160\u015a\u0218\u015e","t\u0165\u021b\u0163","T\u0164\u021a\u0162","u\xf9\xfa\u1ee7\u0169\u1ee5\u01b0\u1eeb\u1ee9\u1eed\u1eef\u1ef1\xfb\xfc\u016f\u016b","U\xd9\xda\u1ee6\u0168\u1ee4\u01af\u1eea\u1ee8\u1eec\u1eee\u1ef0\xdb\xdc\u016e\u016a","y\xfd\u1ef3\u1ef7\u1ef9\u1ef5\xff","Y\xdd\u1ef2\u1ef6\u1ef8\u1ef4\u0178","z\u017e\u017c\u017a","Z\u017d\u017b\u0179"]:["a\xe0\xe1\u1ea3\xe3\u1ea1\u0103\u1eb1\u1eaf\u1eb3\u1eb5\u1eb7\xe2\u1ea7\u1ea5\u1ea9\u1eab\u1ead\xe4\xe5\u0101\u0105A\xc0\xc1\u1ea2\xc3\u1ea0\u0102\u1eb0\u1eae\u1eb2\u1eb4\u1eb6\xc2\u1ea6\u1ea4\u1ea8\u1eaa\u1eac\xc4\xc5\u0100\u0104","c\xe7\u0107\u010dC\xc7\u0106\u010c","d\u0111\u010fD\u0110\u010e","e\xe8\xe9\u1ebb\u1ebd\u1eb9\xea\u1ec1\u1ebf\u1ec3\u1ec5\u1ec7\xeb\u011b\u0113\u0119E\xc8\xc9\u1eba\u1ebc\u1eb8\xca\u1ec0\u1ebe\u1ec2\u1ec4\u1ec6\xcb\u011a\u0112\u0118","i\xec\xed\u1ec9\u0129\u1ecb\xee\xef\u012bI\xcc\xcd\u1ec8\u0128\u1eca\xce\xcf\u012a","l\u0142L\u0141","n\xf1\u0148\u0144N\xd1\u0147\u0143","o\xf2\xf3\u1ecf\xf5\u1ecd\xf4\u1ed3\u1ed1\u1ed5\u1ed7\u1ed9\u01a1\u1edf\u1ee1\u1edb\u1edd\u1ee3\xf6\xf8\u014dO\xd2\xd3\u1ece\xd5\u1ecc\xd4\u1ed2\u1ed0\u1ed4\u1ed6\u1ed8\u01a0\u1ede\u1ee0\u1eda\u1edc\u1ee2\xd6\xd8\u014c","r\u0159R\u0158","s\u0161\u015b\u0219\u015fS\u0160\u015a\u0218\u015e","t\u0165\u021b\u0163T\u0164\u021a\u0162","u\xf9\xfa\u1ee7\u0169\u1ee5\u01b0\u1eeb\u1ee9\u1eed\u1eef\u1ef1\xfb\xfc\u016f\u016bU\xd9\xda\u1ee6\u0168\u1ee4\u01af\u1eea\u1ee8\u1eec\u1eee\u1ef0\xdb\xdc\u016e\u016a","y\xfd\u1ef3\u1ef7\u1ef9\u1ef5\xffY\xdd\u1ef2\u1ef6\u1ef8\u1ef4\u0178","z\u017e\u017c\u017aZ\u017d\u017b\u0179"],i=[];return t.split("").forEach((function(r){n.every((function(n){if(-1!==n.indexOf(r)){if(i.indexOf(n)>-1)return!1;t=t.replace(new RegExp("[".concat(n,"]"),"gm".concat(e)),"[".concat(n,"]")),i.push(n)}return!0}))})),t}},{key:"createMergedBlanksRegExp",value:function(t){return t.replace(/[\s]+/gim,"[\\s]+")}},{key:"createAccuracyRegExp",value:function(t){var e=this,n="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~\xa1\xbf",i=this.opt.accuracy,r="string"==typeof i?i:i.value,o="string"==typeof i?[]:i.limiters,s="";switch(o.forEach((function(t){s+="|".concat(e.escapeStr(t))})),r){default:return"()(".concat(t,")");case"complementary":return s="\\s"+(s||this.escapeStr(n)),"()([^".concat(s,"]*").concat(t,"[^").concat(s,"]*)");case"exactly":return"(^|\\s".concat(s,")(").concat(t,")(?=$|\\s").concat(s,")")}}}]),t}(),l=function(){function n(t){e(this,n),this.ctx=t,this.ie=!1;var i=window.navigator.userAgent;(i.indexOf("MSIE")>-1||i.indexOf("Trident")>-1)&&(this.ie=!0)}return i(n,[{key:"log",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"debug",i=this.opt.log;this.opt.debug&&"object"===t(i)&&"function"==typeof i[n]&&i[n]("mark.js: ".concat(e))}},{key:"getSeparatedKeywords",value:function(t){var e=this,n=[];return t.forEach((function(t){e.opt.separateWordSearch?t.split(" ").forEach((function(t){t.trim()&&-1===n.indexOf(t)&&n.push(t)})):t.trim()&&-1===n.indexOf(t)&&n.push(t)})),{keywords:n.sort((function(t,e){return e.length-t.length})),length:n.length}}},{key:"isNumeric",value:function(t){return Number(parseFloat(t))==t}},{key:"checkRanges",value:function(t){var e=this;if(!Array.isArray(t)||"[object Object]"!==Object.prototype.toString.call(t[0]))return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(t),[];var n=[],i=0;return t.sort((function(t,e){return t.start-e.start})).forEach((function(t){var r=e.callNoMatchOnInvalidRanges(t,i),o=r.start,s=r.end;r.valid&&(t.start=o,t.length=s-o,n.push(t),i=s)})),n}},{key:"callNoMatchOnInvalidRanges",value:function(t,e){var n,i,r=!1;return t&&void 0!==t.start?(i=(n=parseInt(t.start,10))+parseInt(t.length,10),this.isNumeric(t.start)&&this.isNumeric(t.length)&&i-e>0&&i-n>0?r=!0:(this.log("Ignoring invalid or overlapping range: "+"".concat(JSON.stringify(t))),this.opt.noMatch(t))):(this.log("Ignoring invalid range: ".concat(JSON.stringify(t))),this.opt.noMatch(t)),{start:n,end:i,valid:r}}},{key:"checkWhitespaceRanges",value:function(t,e,n){var i,r=!0,o=n.length,s=e-o,a=parseInt(t.start,10)-s;return(i=(a=a>o?o:a)+parseInt(t.length,10))>o&&(i=o,this.log("End range automatically set to the max value of ".concat(o))),a<0||i-a<0||a>o||i>o?(r=!1,this.log("Invalid range: ".concat(JSON.stringify(t))),this.opt.noMatch(t)):""===n.substring(a,i).replace(/\s+/g,"")&&(r=!1,this.log("Skipping whitespace only range: "+JSON.stringify(t)),this.opt.noMatch(t)),{start:a,end:i,valid:r}}},{key:"getTextNodes",value:function(t){var e=this,n="",i=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,(function(t){i.push({start:n.length,end:(n+=t.textContent).length,node:t})}),(function(t){return e.matchesExclude(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),(function(){t({value:n,nodes:i})}))}},{key:"matchesExclude",value:function(t){return s.matches(t,this.opt.exclude.concat(["script","style","title","head","html"]))}},{key:"wrapRangeInTextNode",value:function(t,e,n){var i=this.opt.element?this.opt.element:"mark",r=t.splitText(e),o=r.splitText(n-e),s=document.createElement(i);return s.setAttribute("data-markjs","true"),this.opt.className&&s.setAttribute("class",this.opt.className),s.textContent=r.textContent,r.parentNode.replaceChild(s,r),o}},{key:"wrapRangeInMappedTextNode",value:function(t,e,n,i,r){var o=this;t.nodes.every((function(s,a){var l=t.nodes[a+1];if(void 0===l||l.start>e){if(!i(s.node))return!1;var c=e-s.start,u=(n>s.end?s.end:n)-s.start,d=t.value.substr(0,s.start),h=t.value.substr(u+s.start);if(s.node=o.wrapRangeInTextNode(s.node,c,u),t.value=d+h,t.nodes.forEach((function(e,n){n>=a&&(t.nodes[n].start>0&&n!==a&&(t.nodes[n].start-=u),t.nodes[n].end-=u)})),n-=u,r(s.node.previousSibling,s.start),!(n>s.end))return!1;e=s.end}return!0}))}},{key:"wrapGroups",value:function(t,e,n,i){return i((t=this.wrapRangeInTextNode(t,e,e+n)).previousSibling),t}},{key:"separateGroups",value:function(t,e,n,i,r){for(var o=e.length,s=1;s<o;s++){var a=t.textContent.indexOf(e[s]);e[s]&&a>-1&&i(e[s],t)&&(t=this.wrapGroups(t,a,e[s].length,r))}return t}},{key:"wrapMatches",value:function(t,e,n,i,r){var o=this,s=0===e?0:e+1;this.getTextNodes((function(e){e.nodes.forEach((function(e){var r;for(e=e.node;null!==(r=t.exec(e.textContent))&&""!==r[s];){if(o.opt.separateGroups)e=o.separateGroups(e,r,s,n,i);else{if(!n(r[s],e))continue;var a=r.index;if(0!==s)for(var l=1;l<s;l++)a+=r[l].length;e=o.wrapGroups(e,a,r[s].length,i)}t.lastIndex=0}})),r()}))}},{key:"wrapMatchesAcrossElements",value:function(t,e,n,i,r){var o=this,s=0===e?0:e+1;this.getTextNodes((function(e){for(var a;null!==(a=t.exec(e.value))&&""!==a[s];){var l=a.index;if(0!==s)for(var c=1;c<s;c++)l+=a[c].length;var u=l+a[s].length;o.wrapRangeInMappedTextNode(e,l,u,(function(t){return n(a[s],t)}),(function(e,n){t.lastIndex=n,i(e)}))}r()}))}},{key:"wrapRangeFromIndex",value:function(t,e,n,i){var r=this;this.getTextNodes((function(o){var s=o.value.length;t.forEach((function(t,i){var a=r.checkWhitespaceRanges(t,s,o.value),l=a.start,c=a.end;a.valid&&r.wrapRangeInMappedTextNode(o,l,c,(function(n){return e(n,t,o.value.substring(l,c),i)}),(function(e){n(e,t)}))})),i()}))}},{key:"unwrapMatches",value:function(t){for(var e=t.parentNode,n=document.createDocumentFragment();t.firstChild;)n.appendChild(t.removeChild(t.firstChild));e.replaceChild(n,t),this.ie?this.normalizeTextNode(e):e.normalize()}},{key:"normalizeTextNode",value:function(t){if(t){if(3===t.nodeType)for(;t.nextSibling&&3===t.nextSibling.nodeType;)t.nodeValue+=t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);else this.normalizeTextNode(t.firstChild);this.normalizeTextNode(t.nextSibling)}}},{key:"markRegExp",value:function(t,e){var n=this;this.opt=e,this.log('Searching with expression "'.concat(t,'"'));var i=0,r="wrapMatches",o=function(t){i++,n.opt.each(t)};this.opt.acrossElements&&(r="wrapMatchesAcrossElements"),this[r](t,this.opt.ignoreGroups,(function(t,e){return n.opt.filter(e,t,i)}),o,(function(){0===i&&n.opt.noMatch(t),n.opt.done(i)}))}},{key:"mark",value:function(t,e){var n=this;this.opt=e;var i=0,r="wrapMatches",o=this.getSeparatedKeywords("string"==typeof t?[t]:t),s=o.keywords,l=o.length,c=function t(e){var o=new a(n.opt).create(e),c=0;n.log('Searching with expression "'.concat(o,'"')),n[r](o,1,(function(t,r){return n.opt.filter(r,e,i,c)}),(function(t){c++,i++,n.opt.each(t)}),(function(){0===c&&n.opt.noMatch(e),s[l-1]===e?n.opt.done(i):t(s[s.indexOf(e)+1])}))};this.opt.acrossElements&&(r="wrapMatchesAcrossElements"),0===l?this.opt.done(i):c(s[0])}},{key:"markRanges",value:function(t,e){var n=this;this.opt=e;var i=0,r=this.checkRanges(t);r&&r.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(r)),this.wrapRangeFromIndex(r,(function(t,e,i,r){return n.opt.filter(t,e,i,r)}),(function(t,e){i++,n.opt.each(t,e)}),(function(){n.opt.done(i)}))):this.opt.done(i)}},{key:"unmark",value:function(t){var e=this;this.opt=t;var n=this.opt.element?this.opt.element:"*";n+="[data-markjs]",this.opt.className&&(n+=".".concat(this.opt.className)),this.log('Removal selector "'.concat(n,'"')),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,(function(t){e.unwrapMatches(t)}),(function(t){var i=s.matches(t,n),r=e.matchesExclude(t);return!i||r?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),this.opt.done)}},{key:"opt",set:function(t){this._opt=r({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,acrossElements:!1,ignoreGroups:0,each:function(){},noMatch:function(){},filter:function(){return!0},done:function(){},debug:!1,log:window.console},t)},get:function(){return this._opt}},{key:"iterator",get:function(){return new s(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}}]),n}();return o})),function(){var t,e;this.RenderMobileCalendar=function(t){var n;n="/calendar/bookings",$(".mobic-event").remove(),$.ajax({url:n,dataType:"json",type:"GET",data:t,dataType:"json",success:function(t){e(t)}})},e=function(e){var n,i,r;for(this.col=1,this.used=new Array(48).fill(1),i=0,r=e.length;i<r;i++)(n=e[i]).mx||t(n)},t=function(t){var e,n,i,r,o,s;for(r=0,n=i=o=t.start_i,s=t.start_i+t.numblocks;o<=s?i<=s:i>=s;n=o<=s?++i:--i)this.used[n-1]=this.used[n-1]+1,r=Math.max(r,this.used[n]);return this.col=r,(e=$("<div>",{class:"calendar-event mobic-event "+t.event_class})).css("background-color",""+t.backgroundColor),e.css("color",""+t.textColor),e.css("left",140*(this.col-1)+"px"),e.css("top",t.left+"%"),e.css("height",t.width+"%"),e.css("position","absolute"),e.css("width","140px"),e.get(0).style.setProperty("--span",""+t.numblocks),e.attr("data-free-busy-id",""+t.id),e.html("<a class='fullcell' href='"+t.url+"' rel='modal:open' style='background-color: "+t.backgroundColor+"; color: "+t.textColor+";'><span>"+t.titleIcons+t.mobile_text+"</span></a>"),$("#mobile-calendar .swimlane").append(e)}}.call(this),function(){this.UpdateModal=function(t){var e;e="<i class='ajaxspinner fa fa-spinner fa-spin'></i> <span class='ajaxspinner' style='color: inherit;'>working...</span>",$(".jquery-modal.current .modal").empty(),$(".jquery-modal.current .modal").html(e),$.get(t,(function(t){return t+='<a href="#close-modal" rel="modal:close" class="close-modal ">Close</a>',$(".jquery-modal.current .modal").html(t)}))},this.ajax_into_modal=function(t,e,n){null==e&&(e="body"),null==n&&(n={}),$.get(t,(function(t){return $("<div>"+t+"</div>").appendTo(e).modal(n)}))},this.remove_modal=function(t,e){e.elm.remove()}}.call(this),function(){this.popover_detection=function(){var t;return t={placement:"auto",closeable:!0,dismissible:!0},$(document).on("click.popover",'a[rel~="popover:async"]',(function(e){var n,i;return i=this.href,n=$(this).data("popover-options"),(n=$.extend({},t,n)).type="async",n.url=i,e.preventDefault(),WebuiPopovers.show(this,n),!0})),$(document).on("click.popover",'a[rel~="popover:inline"]',(function(e){var n;return e.preventDefault(),n=$(this).data("popover-options"),n=$.extend({},t,n),WebuiPopovers.show(this,n)}))},this.AjaxPopover=function(t,e){var n;return null==e&&(e={}),n={cache:!1,dismissible:!0,placement:"auto",closeable:!0,type:"async",content:function(t){return t},async:{before:function(t,e,n){n.url=$(t.$element).data("url")||$(t.$element).attr("href")}}},e=$.extend({},n,e),$(t).webuiPopover(e)},this.FramePopover=function(t,e){var n;return null==e&&(e={}),n={cache:!1,arrow:!1,dismissible:!0,width:800,height:600,placement:"auto",closeable:!0,backdrop:!0,type:"iframe",content:function(t){return t},async:{before:function(t,e,n){n.url=$(t.$element).data("url")||$(t.$element).attr("href")}}},e=$.extend({},n,e),$(t).webuiPopover(e)},this.MenuPopover=function(t,e){var n;return null==e&&(e={}),n={container:"#links-banner",arrow:!1,dismissible:!0,placement:"bottom",tether:!1},e=$.extend({},n,e),$(t).webuiPopover(e)}}.call(this),function(){this.statusWorker=function(t){var e,n,i;if((e=$(t).data("job_id"))||(e=$("#job_"+t).text()),e)return $("#job_"+t).parent().show(),i=$("#progress_"+e),n=$("#jobstatus_"+e),$.ajax({url:"/status_worker",data:{job_id:e},success:function(r){var o,s;return o="width: "+r.at+"%;","queued"===r.status?(n.html("waiting in queue<br/>"),$(t).html("waiting in queue")):i.attr("style")!==o&&r.message&&(i.attr("style",o),n.append(r.message+"<br/>"),$(t).html(r.message)),"100"===r.at?($(t).html(r.message),$("#spin_"+e).hide(),s="","complete"===r.status?(s+="<p class='success-text'>",s+="<i class='fa fa-check'></i>&nbsp;"):(s+="<p class='alert-text'>",s+="<i class='fa fa-warning'></i>&nbsp;"),s=s+"<strong>"+r.status+"</strong></p>",n.append(s)):setTimeout(statusWorker,1500,t)}})}}.call(this),function(){this.refresh_receipt_cards=function(){return $("#pending-bundles-count").trigger("refresh"),$("#unreconciled-receipts-count").trigger("refresh"),$("#reconciled-receipts-count").trigger("refresh")}}.call(this),function(){this.reminder_pie=function(t){null==t&&(t=".reminder-pie"),$(t).progressPie({mode:$.fn.progressPie.Mode.COLOR,valueData:"percent",colorAttr:"color",size:20})},this.progress_pie=function(t){null==t&&(t=".progress-pie"),$(t).setupProgressPie({mode:$.fn.progressPie.Mode.COLOR,valueAttr:"percent",colorAttr:"color",size:20,animate:{dur:"1.0s"}}).progressPie()},this.job_pie=function(t){null==t&&(t=".job-pie"),$(t).setupProgressPie({size:70,ringWidth:7,strokeWidth:3,strokeColor:"#ddd",ringEndsRounded:!0,mode:$.fn.progressPie.Mode.COLOR,valueAttr:"percent",color:"#3e7d9a",contentPlugin:"percent",contentPluginOptions:{fontSizeFactor:.8,singleLine:!0},animate:{dur:"1.0s"}}).progressPie()},this.small_job_pie=function(t){null==t&&(t=".job-pie"),$(t).setupProgressPie({size:32,ringWidth:4,strokeWidth:3,strokeColor:"#ddd",mode:$.fn.progressPie.Mode.COLOR,valueAttr:"percent",color:"#3e7d9a",contentPlugin:"checkComplete",contentPluginOptions:{contentPlugin:"rawValue"}}).progressPie()}}.call(this),function(){this.reminder_outlook_calendar=function(t){var e;return e=[{url:t}],$("#calendar").fullCalendar({editable:!1,theme:!1,header:{center:"title",left:"prev next today",right:"month basicWeek basicDay list"},eventSources:e,eventLimit:!0,fixedWeekCount:!1,allDayDefault:!1,eventResize:function(t,e,n){ResizeEvent(t,e,n)},eventDrop:function(t,e,n){ResizeEvent(t,e,n)},dayClick:function(t){t.hour(moment().hour()),$.get("/bookings/new?modal=true&booking[starttime]="+t.format("YYYY-MM-DD HH:mm:ss"),(function(t){return $("<div>"+t+"</div>").appendTo("#calendar").modal().on($.modal.CLOSE,remove_modal)}))},eventRender:function(t,e){$(e).attr("rel","modal:open")},loading:function(t){$("#calendar-spinner").show(),t||$("#calendar-spinner").hide()}})}}.call(this),function(){this.render_on_appear=function(t){return $(t).appear(t,{container:"#main2"}),$(t).on("appear",(function(e){var n;if(n=$(e.currentTarget).data("url"))return $(t).html("<i class='ajaxspinner fa fa-spinner fa-spin'></i> <span class='ajaxspinner' style='color: inherit;'>loading...</span>"),$.ajax({url:n,dataType:"html",success:function(e){return $(t).replaceWith(e)}})}))}}.call(this),function(t){t.isScrollToFixed=function(e){return!!t(e).data("ScrollToFixed")},t.ScrollToFixed=function(e,n){function i(){C.trigger("preUnfixed.ScrollToFixed"),u(),C.trigger("unfixed.ScrollToFixed"),T=-1,_=C.offset().top,k=C.offset().left,m.options.offsets&&(k+=C.offset().left-C.position().left),-1==S&&(S=k),v=C.css("position"),x=!0,-1!=m.options.bottom&&(C.trigger("preFixed.ScrollToFixed"),l(),C.trigger("fixed.ScrollToFixed"))}function r(){var t=m.options.limit;return t?"function"==typeof t?t.apply(C):t:0}function o(){return"fixed"===v}function s(){return"absolute"===v}function a(){return!(o()||s())}function l(){if(!o()){var t=C[0].getBoundingClientRect();D.css({display:C.css("display"),width:t.width,height:t.height,float:C.css("float")}),cssOptions={"z-index":m.options.zIndex,position:"fixed",top:-1==m.options.bottom?h():"",bottom:-1==m.options.bottom?"":m.options.bottom,"margin-left":"0px"},m.options.dontSetWidth||(cssOptions.width=C.css("width")),C.css(cssOptions),C.addClass(m.options.baseClassName),m.options.className&&C.addClass(m.options.className),v="fixed"}}function c(){var t=r(),e=k;m.options.removeOffsets&&(e="",t-=_),cssOptions={position:"absolute",top:t,left:e,"margin-left":"0px",bottom:""},m.options.dontSetWidth||(cssOptions.width=C.css("width")),C.css(cssOptions),v="absolute"}function u(){a()||(T=-1,D.css("display","none"),C.css({"z-index":w,width:"",position:y,left:"",top:b,"margin-left":""}),C.removeClass("scroll-to-fixed-fixed"),m.options.className&&C.removeClass(m.options.className),v=null)}function d(t){t!=T&&(C.css("left",k-t),T=t)}function h(){var t=m.options.marginTop;return t?"function"==typeof t?t.apply(C):t:0}function f(){if(t.isScrollToFixed(C)&&!C.is(":hidden")){var e=x,n=a();x?a()&&(_=C.offset().top,k=C.offset().left):i();var f=t(window).scrollLeft(),v=t(window).scrollTop(),b=r();m.options.minWidth&&t(window).width()<m.options.minWidth||m.options.maxWidth&&t(window).width()>m.options.maxWidth?a()&&e||(g(),C.trigger("preUnfixed.ScrollToFixed"),u(),C.trigger("unfixed.ScrollToFixed")):-1==m.options.bottom?b>0&&v>=b-h()?n||s()&&e||(g(),C.trigger("preAbsolute.ScrollToFixed"),c(),C.trigger("unfixed.ScrollToFixed")):v>=_-h()?(o()&&e||(g(),C.trigger("preFixed.ScrollToFixed"),l(),T=-1,C.trigger("fixed.ScrollToFixed")),d(f)):a()&&e||(g(),C.trigger("preUnfixed.ScrollToFixed"),u(),C.trigger("unfixed.ScrollToFixed")):b>0?v+t(window).height()-C.outerHeight(!0)>=b-(h()||-p())?o()&&(g(),C.trigger("preUnfixed.ScrollToFixed"),"absolute"===y?c():u(),C.trigger("unfixed.ScrollToFixed")):(o()||(g(),C.trigger("preFixed.ScrollToFixed"),l()),d(f),C.trigger("fixed.ScrollToFixed")):d(f)}}function p(){return m.options.bottom?m.options.bottom:0}function g(){var t=C.css("position");"absolute"==t?C.trigger("postAbsolute.ScrollToFixed"):"fixed"==t?C.trigger("postFixed.ScrollToFixed"):C.trigger("postUnfixed.ScrollToFixed")}var m=this;m.$el=t(e),m.el=e,m.$el.data("ScrollToFixed",m);var v,y,b,w,x=!1,C=m.$el,_=0,k=0,S=-1,T=-1,D=null,E=function(){C.is(":visible")?(x=!1,f()):u()},M=function(){window.requestAnimationFrame?requestAnimationFrame(f):f()},A=function(t){(t=t||window.event).preventDefault&&t.preventDefault(),t.returnValue=!1};m.init=function(){m.options=t.extend({},t.ScrollToFixed.defaultOptions,n),w=C.css("z-index"),m.$el.css("z-index",m.options.zIndex),D=t("<div />"),v=C.css("position"),y=C.css("position"),C.css("float"),b=C.css("top"),a()&&m.$el.after(D),t(window).bind("resize.ScrollToFixed",E),t(window).bind("scroll.ScrollToFixed",M),"ontouchmove"in window&&t(window).bind("touchmove.ScrollToFixed",f),m.options.preFixed&&C.bind("preFixed.ScrollToFixed",m.options.preFixed),m.options.postFixed&&C.bind("postFixed.ScrollToFixed",m.options.postFixed),m.options.preUnfixed&&C.bind("preUnfixed.ScrollToFixed",m.options.preUnfixed),m.options.postUnfixed&&C.bind("postUnfixed.ScrollToFixed",m.options.postUnfixed),m.options.preAbsolute&&C.bind("preAbsolute.ScrollToFixed",m.options.preAbsolute),
m.options.postAbsolute&&C.bind("postAbsolute.ScrollToFixed",m.options.postAbsolute),m.options.fixed&&C.bind("fixed.ScrollToFixed",m.options.fixed),m.options.unfixed&&C.bind("unfixed.ScrollToFixed",m.options.unfixed),m.options.spacerClass&&D.addClass(m.options.spacerClass),C.bind("resize.ScrollToFixed",(function(){D.height(C.height())})),C.bind("scroll.ScrollToFixed",(function(){C.trigger("preUnfixed.ScrollToFixed"),u(),C.trigger("unfixed.ScrollToFixed"),f()})),C.bind("detach.ScrollToFixed",(function(e){A(e),C.trigger("preUnfixed.ScrollToFixed"),u(),C.trigger("unfixed.ScrollToFixed"),t(window).unbind("resize.ScrollToFixed",E),t(window).unbind("scroll.ScrollToFixed",M),C.unbind(".ScrollToFixed"),D.remove(),m.$el.removeData("ScrollToFixed")})),E()},m.init()},t.ScrollToFixed.defaultOptions={marginTop:0,limit:0,bottom:-1,zIndex:1e3,baseClassName:"scroll-to-fixed-fixed"},t.fn.scrollToFixed=function(e){return this.each((function(){new t.ScrollToFixed(this,e)}))}}(jQuery),function(){this.form_pop=function(t,e){null==e&&(e="change"),$(t).off(e).on(e,(function(){return $(this).closest("form").submit()}))},this.cascade_show_refresh=function(){},this.selection_pop=function(t,e){return $(t).off("change").on("change",(function(t){var n,i;i=t.currentTarget,n=$(i).val(),window.location.href=e+n}))}}.call(this),function(t,e){"function"==typeof define&&define.amd?define("sifter",e):"object"==typeof exports?module.exports=e():t.Sifter=e()}(this,(function(){function t(t,e){this.items=t,this.settings=e||{diacritics:!0}}t.prototype.tokenize=function(t,e){if(!(t=r(String(t||"").toLowerCase()))||!t.length)return[];for(var n,i,s=[],l=t.split(/ +/),c=0,u=l.length;c<u;c++){if(n=o(l[c]),this.settings.diacritics)for(i in a)a.hasOwnProperty(i)&&(n=n.replace(new RegExp(i,"g"),a[i]));e&&(n="\\b"+n),s.push({string:l[c],regex:new RegExp(n,"i")})}return s},t.prototype.iterator=function(t,e){var n=s(t)?Array.prototype.forEach||function(t){for(var e=0,n=this.length;e<n;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)};n.apply(t,[e])},t.prototype.getScoreFunction=function(t,e){function n(t,e){var n;return t&&-1!==(n=(t=String(t||"")).search(e.regex))?(e=e.string.length/t.length,0===n&&(e+=.5),e):0}var r,o=(t=this.prepareSearch(t,e)).tokens,s=t.options.fields,a=o.length,l=t.options.nesting,c=(r=s.length)?1===r?function(t,e){return n(i(e,s[0],l),t)}:function(t,e){for(var o=0,a=0;o<r;o++)a+=n(i(e,s[o],l),t);return a/r}:function(){return 0};return a?1===a?function(t){return c(o[0],t)}:"and"===t.options.conjunction?function(t){for(var e,n=0,i=0;n<a;n++){if((e=c(o[n],t))<=0)return 0;i+=e}return i/a}:function(t){for(var e=0,n=0;e<a;e++)n+=c(o[e],t);return n/a}:function(){return 0}},t.prototype.getSortFunction=function(t,n){var r,o,s,a,l,c,u,d=this,h=!(t=d.prepareSearch(t,n)).query&&n.sort_empty||n.sort,f=function(t,e){return"$score"===t?e.score:i(d.items[e.id],t,n.nesting)},p=[];if(h)for(r=0,o=h.length;r<o;r++)!t.query&&"$score"===h[r].field||p.push(h[r]);if(t.query){for(u=!0,r=0,o=p.length;r<o;r++)if("$score"===p[r].field){u=!1;break}u&&p.unshift({field:"$score",direction:"desc"})}else for(r=0,o=p.length;r<o;r++)if("$score"===p[r].field){p.splice(r,1);break}for(c=[],r=0,o=p.length;r<o;r++)c.push("desc"===p[r].direction?-1:1);return(a=p.length)?1===a?(s=p[0].field,l=c[0],function(t,n){return l*e(f(s,t),f(s,n))}):function(t,n){for(var i,r=0;r<a;r++)if(i=p[r].field,i=c[r]*e(f(i,t),f(i,n)))return i;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;var i=(e=n({},e)).fields,r=e.sort,o=e.sort_empty;return i&&!s(i)&&(e.fields=[i]),r&&!s(r)&&(e.sort=[r]),o&&!s(o)&&(e.sort_empty=[o]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t,e.respect_word_boundaries),total:0,items:[]}},t.prototype.search=function(t,e){var n,i,r=this.prepareSearch(t,e);return e=r.options,t=r.query,i=e.score||this.getScoreFunction(r),t.length?this.iterator(this.items,(function(t,o){n=i(t),(!1===e.filter||0<n)&&r.items.push({score:n,id:o})})):this.iterator(this.items,(function(t,e){r.items.push({score:1,id:e})})),(t=this.getSortFunction(r,e))&&r.items.sort(t),r.total=r.items.length,"number"==typeof e.limit&&(r.items=r.items.slice(0,e.limit)),r};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?e<t?1:t<e?-1:0:(t=l(String(t||"")),(e=l(String(e||"")))<t?1:t<e?-1:0)},n=function(t){for(var e,n,i=1,r=arguments.length;i<r;i++)if(n=arguments[i])for(e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t},i=function(t,e,n){if(t&&e){if(!n)return t[e];for(var i=e.split(".");i.length&&(t=t[i.shift()]););return t}},r=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},o=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||"undefined"!=typeof $&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a={a:"[a\u1e00\u1e01\u0102\u0103\xc2\xe2\u01cd\u01ce\u023a\u2c65\u0226\u0227\u1ea0\u1ea1\xc4\xe4\xc0\xe0\xc1\xe1\u0100\u0101\xc3\xe3\xc5\xe5\u0105\u0104\xc3\u0105\u0104]",b:"[b\u2422\u03b2\u0392B\u0e3f\ud800\udf01\u16d2]",c:"[c\u0106\u0107\u0108\u0109\u010c\u010d\u010a\u010bC\u0304c\u0304\xc7\xe7\u1e08\u1e09\u023b\u023c\u0187\u0188\u0255\u1d04\uff23\uff43]",d:"[d\u010e\u010f\u1e0a\u1e0b\u1e10\u1e11\u1e0c\u1e0d\u1e12\u1e13\u1e0e\u1e0f\u0110\u0111D\u0326d\u0326\u0189\u0256\u018a\u0257\u018b\u018c\u1d6d\u1d81\u1d91\u0221\u1d05\uff24\uff44\xf0]",e:"[e\xc9\xe9\xc8\xe8\xca\xea\u1e18\u1e19\u011a\u011b\u0114\u0115\u1ebc\u1ebd\u1e1a\u1e1b\u1eba\u1ebb\u0116\u0117\xcb\xeb\u0112\u0113\u0228\u0229\u0118\u0119\u1d92\u0246\u0247\u0204\u0205\u1ebe\u1ebf\u1ec0\u1ec1\u1ec4\u1ec5\u1ec2\u1ec3\u1e1c\u1e1d\u1e16\u1e17\u1e14\u1e15\u0206\u0207\u1eb8\u1eb9\u1ec6\u1ec7\u2c78\u1d07\uff25\uff45\u0258\u01dd\u018f\u0190\u03b5]",f:"[f\u0191\u0192\u1e1e\u1e1f]",g:"[g\u0262\u20b2\u01e4\u01e5\u011c\u011d\u011e\u011f\u0122\u0123\u0193\u0260\u0120\u0121]",h:"[h\u0124\u0125\u0126\u0127\u1e28\u1e29\u1e96\u1e96\u1e24\u1e25\u1e22\u1e23\u0266\u02b0\u01f6\u0195]",i:"[i\xcd\xed\xcc\xec\u012c\u012d\xce\xee\u01cf\u01d0\xcf\xef\u1e2e\u1e2f\u0128\u0129\u012e\u012f\u012a\u012b\u1ec8\u1ec9\u0208\u0209\u020a\u020b\u1eca\u1ecb\u1e2c\u1e2d\u0197\u0268\u0268\u0306\u1d7b\u1d96\u0130iI\u0131\u026a\uff29\uff49]",j:"[j\u0237\u0134\u0135\u0248\u0249\u029d\u025f\u02b2]",k:"[k\u0198\u0199\ua740\ua741\u1e30\u1e31\u01e8\u01e9\u1e32\u1e33\u1e34\u1e35\u03ba\u03f0\u20ad]",l:"[l\u0141\u0142\u013d\u013e\u013b\u013c\u0139\u013a\u1e36\u1e37\u1e38\u1e39\u1e3c\u1e3d\u1e3a\u1e3b\u013f\u0140\u023d\u019a\u2c60\u2c61\u2c62\u026b\u026c\u1d85\u026d\u0234\u029f\uff2c\uff4c]",n:"[n\u0143\u0144\u01f8\u01f9\u0147\u0148\xd1\xf1\u1e44\u1e45\u0145\u0146\u1e46\u1e47\u1e4a\u1e4b\u1e48\u1e49N\u0308n\u0308\u019d\u0272\u0220\u019e\u1d70\u1d87\u0273\u0235\u0274\uff2e\uff4e\u014a\u014b]",o:"[o\xd8\xf8\xd6\xf6\xd3\xf3\xd2\xf2\xd4\xf4\u01d1\u01d2\u0150\u0151\u014e\u014f\u022e\u022f\u1ecc\u1ecd\u019f\u0275\u01a0\u01a1\u1ece\u1ecf\u014c\u014d\xd5\xf5\u01ea\u01eb\u020c\u020d\u0555\u0585]",p:"[p\u1e54\u1e55\u1e56\u1e57\u2c63\u1d7d\u01a4\u01a5\u1d71]",q:"[q\ua756\ua757\u02a0\u024a\u024b\ua758\ua759q\u0303]",r:"[r\u0154\u0155\u024c\u024d\u0158\u0159\u0156\u0157\u1e58\u1e59\u0210\u0211\u0212\u0213\u1e5a\u1e5b\u2c64\u027d]",s:"[s\u015a\u015b\u1e60\u1e61\u1e62\u1e63\ua7a8\ua7a9\u015c\u015d\u0160\u0161\u015e\u015f\u0218\u0219S\u0308s\u0308]",t:"[t\u0164\u0165\u1e6a\u1e6b\u0162\u0163\u1e6c\u1e6d\u01ae\u0288\u021a\u021b\u1e70\u1e71\u1e6e\u1e6f\u01ac\u01ad]",u:"[u\u016c\u016d\u0244\u0289\u1ee4\u1ee5\xdc\xfc\xda\xfa\xd9\xf9\xdb\xfb\u01d3\u01d4\u0170\u0171\u016c\u016d\u01af\u01b0\u1ee6\u1ee7\u016a\u016b\u0168\u0169\u0172\u0173\u0214\u0215\u222a]",v:"[v\u1e7c\u1e7d\u1e7e\u1e7f\u01b2\u028b\ua75e\ua75f\u2c71\u028b]",w:"[w\u1e82\u1e83\u1e80\u1e81\u0174\u0175\u1e84\u1e85\u1e86\u1e87\u1e88\u1e89]",x:"[x\u1e8c\u1e8d\u1e8a\u1e8b\u03c7]",y:"[y\xdd\xfd\u1ef2\u1ef3\u0176\u0177\u0178\xff\u1ef8\u1ef9\u1e8e\u1e8f\u1ef4\u1ef5\u024e\u024f\u01b3\u01b4]",z:"[z\u0179\u017a\u1e90\u1e91\u017d\u017e\u017b\u017c\u1e92\u1e93\u1e94\u1e95\u01b5\u01b6]"},l=function(){var t,e,n,i,r="",o={};for(n in a)if(a.hasOwnProperty(n))for(r+=i=a[n].substring(2,a[n].length-1),t=0,e=i.length;t<e;t++)o[i.charAt(t)]=n;var s=new RegExp("["+r+"]","g");return function(t){return t.replace(s,(function(t){return o[t]})).toLowerCase()}}();return t})),function(t,e){"function"==typeof define&&define.amd?define("microplugin",e):"object"==typeof exports?module.exports=e():t.MicroPlugin=e()}(this,(function(){var t={mixin:function(t){t.plugins={},t.prototype.initializePlugins=function(t){var n,i,r,o=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(n=0,i=t.length;n<i;n++)"string"==typeof t[n]?o.push(t[n]):(this.plugins.settings[t[n].name]=t[n].options,o.push(t[n].name));else if(t)for(r in t)t.hasOwnProperty(r)&&(this.plugins.settings[r]=t[r],o.push(r));for(;o.length;)this.require(o.shift())},t.prototype.loadPlugin=function(e){var n=this.plugins,i=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');n.requested[e]=!0,n.loaded[e]=i.fn.apply(this,[this.plugins.settings[e]||{}]),n.names.push(e)},t.prototype.require=function(t){var e=this.plugins;if(!this.plugins.loaded.hasOwnProperty(t)){if(e.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');this.loadPlugin(t)}return e.loaded[t]},t.define=function(e,n){t.plugins[e]={name:e,fn:n}}}},e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t})),function(t,e){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery"),require("sifter"),require("microplugin")):t.Selectize=e(t.jQuery,t.Sifter,t.MicroPlugin)}(this,(function(t,e,n){"use strict";function i(){}function r(t,e){return navigator.userAgentData?t===navigator.userAgentData.platform:e.test(navigator.userAgent)}function o(t){return void 0!==t}function s(t){return null==t?null:"boolean"==typeof t?t?"1":"0":t+""}function a(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function l(t,e,n){var i,r=t.trigger,o={};for(i in t.trigger=function(){var n=arguments[0];if(-1===e.indexOf(n))return r.apply(t,arguments);o[n]=arguments},n.apply(t,[]),t.trigger=r,o)o.hasOwnProperty(i)&&r.apply(t,o[i])}function c(t){var e,n,i={};return void 0===t?console.warn("WARN getSelection cannot locate input control"):"selectionStart"in t?(i.start=t.selectionStart,i.length=t.selectionEnd-i.start):document.selection&&(t.focus(),e=document.selection.createRange(),n=document.selection.createRange().text.length,e.moveStart("character",-t.value.length),i.start=e.text.length-n,i.length=n),i}function u(e,n){return e?(b.$testInput||(b.$testInput=t("<span />").css({position:"absolute",width:"auto",padding:0,whiteSpace:"pre"}),t("<div />").css({position:"absolute",width:0,height:0,overflow:"hidden"}).append(b.$testInput).appendTo("body")),b.$testInput.text(e),y(n,b.$testInput,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),b.$testInput.width()):0}function d(t){function e(e,i){var r,o,s;i=i||{},(e=e||window.event||{}).metaKey||e.altKey||!i.force&&!1===t.data("grow")||(i=t.val(),e.type&&"keydown"===e.type.toLowerCase()&&(r=48<=(o=e.keyCode)&&o<=57||65<=o&&o<=90||96<=o&&o<=111||186<=o&&o<=222||32===o,46===o||8===o?(s=c(t[0])).length?i=i.substring(0,s.start)+i.substring(s.start+s.length):8===o&&s.start?i=i.substring(0,s.start-1)+i.substring(s.start+1):46===o&&void 0!==s.start&&(i=i.substring(0,s.start)+i.substring(s.start+1)):r&&(o=e.shiftKey,s=String.fromCharCode(e.keyCode),i+=s=o?s.toUpperCase():s.toLowerCase())),e=(r=t.attr("placeholder"))?u(r,t)+4:0,(o=Math.max(u(i,t),e)+4)!==n&&(n=o,t.width(o),t.triggerHandler("resize")))}var n=null;t.on("keydown keyup update blur",e),e()}t.fn.removeHighlight=function(){return this.find("span.highlight").each((function(){this.parentNode.firstChild.nodeName;var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()})).end()},i.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=0&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=0)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(t){for(var e=["on","off","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=i.prototype[e[n]]};var h,f=r("macOS",/Mac/),p=f?91:17,g=f?18:17,m=!r("Android",/android/i)&&!!document.createElement("input").validity,v={before:function(t,e,n){var i=t[e];t[e]=function(){return n.apply(t,arguments),i.apply(t,arguments)}},after:function(t,e,n){var i=t[e];t[e]=function(){var e=i.apply(t,arguments);return n.apply(t,arguments),e}}},y=function(t,e,n){var i,r,o={};if(n)for(i=0,r=n.length;i<r;i++)o[n[i]]=t.css(n[i]);else o=t.css();e.css(o)},b=function(n,i){var r,o,s,a,l,c=n[0],u=(c.selectize=this,window.getComputedStyle&&window.getComputedStyle(c,null));if(u=(u?u.getPropertyValue("direction"):c.currentStyle&&c.currentStyle.direction)||n.parents("[dir]:first").attr("dir")||"",t.extend(this,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===c.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(u),eventNS:".selectize"+ ++b.count,highlightedValue:null,isBlurring:!1,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",lastValidValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?this.onSearchChange:(s=this.onSearchChange,a=i.loadThrottle,function(){var t=this,e=arguments;window.clearTimeout(l),l=window.setTimeout((function(){s.apply(t,e)}),a)})}),this.sifter=new e(this.options,{diacritics:i.diacritics}),this.settings.options){for(r=0,o=this.settings.options.length;r<o;r++)this.registerOption(this.settings.options[r]);delete this.settings.options}if(this.settings.optgroups){for(r=0,o=this.settings.optgroups.length;r<o;r++)this.registerOptionGroup(this.settings.optgroups[r]);delete this.settings.optgroups}this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),"boolean"!=typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode),this.initializePlugins(this.settings.plugins),this.setupCallbacks(),this.setupTemplates(),this.setup()};return i.mixin(b),void 0!==n?n.mixin(b):(n="Dependency MicroPlugin is missing",h=(h={explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'})||{},console.error("Selectize: "+n),h.explanation&&(console.group&&console.group(),console.error(h.explanation),console.group&&console.groupEnd())),t.extend(b.prototype,{setup:function(){var e,n,i,r=this,o=r.settings,s=r.eventNS,a=t(window),l=t(document),c=r.$input,u=r.settings.mode,h=c.attr("class")||"",v=t("<div>").addClass(o.wrapperClass).addClass(h).addClass(u),y=t("<div>").addClass(o.inputClass).addClass("items").appendTo(v),b=t('<input type="select-one" autocomplete="new-password" autofill="no" />').appendTo(y).attr("tabindex",c.is(":disabled")?"-1":r.tabIndex),w=t(o.dropdownParent||v);u=t("<div>").addClass(o.dropdownClass).addClass(u).hide().appendTo(w),w=t("<div>").addClass(o.dropdownContentClass).attr("tabindex","-1").appendTo(u);(n=c.attr("id"))&&(b.attr("id",n+"-selectized"),t("label[for='"+n+"']").attr("for",n+"-selectized")),r.settings.copyClassesToDropdown&&u.addClass(h),v.css({width:c[0].style.width}),r.plugins.names.length&&(n="plugin-"+r.plugins.names.join(" plugin-"),v.addClass(n),u.addClass(n)),(null===o.maxItems||1<o.maxItems)&&1===r.tagType&&c.attr("multiple","multiple"),r.settings.placeholder&&b.attr("placeholder",o.placeholder),!r.settings.splitOn&&r.settings.delimiter&&(h=r.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),r.settings.splitOn=new RegExp("\\s*"+h+"+\\s*")),c.attr("autocorrect")&&b.attr("autocorrect",c.attr("autocorrect")),c.attr("autocapitalize")&&b.attr("autocapitalize",c.attr("autocapitalize")),c.is("input")&&(b[0].type=c[0].type),r.$wrapper=v,r.$control=y,r.$control_input=b,r.$dropdown=u,r.$dropdown_content=w,u.on("mouseenter mousedown mouseup click","[data-disabled]>[data-selectable]",(function(t){t.stopImmediatePropagation()})),u.on("mouseenter","[data-selectable]",(function(){return r.onOptionHover.apply(r,arguments)})),u.on("mouseup click","[data-selectable]",(function(){return r.onOptionSelect.apply(r,arguments)})),n="mouseup",h="*:not(input)",i=function(){return r.onItemSelect.apply(r,arguments)},(e=y).on(n,h,(function(t){for(var n=t.target;n&&n.parentNode!==e[0];)n=n.parentNode;return t.currentTarget=n,i.apply(this,[t])})),d(b),y.on({mousedown:function(){return r.onMouseDown.apply(r,arguments)},click:function(){return r.onClick.apply(r,arguments)}}),b.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return r.onKeyDown.apply(r,arguments)},keypress:function(){return r.onKeyPress.apply(r,arguments)},input:function(){return r.onInput.apply(r,arguments)},resize:function(){r.positionDropdown.apply(r,[])},focus:function(){return r.ignoreBlur=!1,r.onFocus.apply(r,arguments)},paste:function(){return r.onPaste.apply(r,arguments)}}),l.on("keydown"+s,(function(t){r.isCmdDown=t[f?"metaKey":"ctrlKey"],r.isCtrlDown=t[f?"altKey":"ctrlKey"],r.isShiftDown=t.shiftKey})),l.on("keyup"+s,(function(t){t.keyCode===g&&(r.isCtrlDown=!1),16===t.keyCode&&(r.isShiftDown=!1),t.keyCode===p&&(r.isCmdDown=!1)})),l.on("mousedown"+s,(function(t){if(r.isFocused){if(t.target===r.$dropdown[0]||t.target.parentNode===r.$dropdown[0])return!1;r.$dropdown.has(t.target).length||t.target===r.$control[0]||r.blur(t.target)}})),a.on(["scroll"+s,"resize"+s].join(" "),(function(){r.isOpen&&r.positionDropdown.apply(r,arguments)})),a.on("mousemove"+s,(function(){r.ignoreHover=!1})),this.revertSettings={$children:c.children().detach(),tabindex:c.attr("tabindex")},c.attr("tabindex",-1).hide().after(r.$wrapper),Array.isArray(o.items)&&(r.lastValidValue=o.items,r.setValue(o.items),delete o.items),m&&c.on("invalid"+s,(function(t){t.preventDefault(),r.isInvalid=!0,r.refreshState()})),r.updateOriginalInput(),r.refreshItems(),r.refreshState(),r.updatePlaceholder(),r.isSetup=!0,c.is(":disabled")&&r.disable(),r.on("change",this.onChange),c.data("selectize",r),c.addClass("selectized"),r.trigger("initialize"),!0===o.preload&&r.onSearchChange("")},setupTemplates:function(){var e=this.settings.labelField,n=this.settings.valueField,i=this.settings.optgroupLabelField;this.settings.render=t.extend({},{optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[i])+"</div>"},option:function(t,i){return'<div class="option '+(""===t[n]?"selectize-dropdown-emptyoptionlabel":"")+'">'+i(t[e])+"</div>"},item:function(t,n){return'<div class="item">'+n(t[e])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}},this.settings.render)},setupCallbacks:function(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur",dropdown_item_activate:"onDropdownItemActivate",dropdown_item_deactivate:"onDropdownItemDeactivate"};for(t in n)n.hasOwnProperty(t)&&(e=this.settings[n[t]])&&this.on(t,e)},onClick:function(t){this.isFocused&&this.isOpen||(this.focus(),t.preventDefault())},onMouseDown:function(e){var n=this,i=e.isDefaultPrevented();if(t(e.target),n.isFocused){if(e.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout((function(){n.focus()}),0)},onChange:function(){""!==this.getValue()&&(this.lastValidValue=this.getValue()),this.$input.trigger("input"),this.$input.trigger("change")},onPaste:function(t){var e=this;e.isFull()||e.isInputHidden||e.isLocked?t.preventDefault():e.settings.splitOn&&setTimeout((function(){var t=e.$control_input.val();if(t.match(e.settings.splitOn))for(var n=t.trim().split(e.settings.splitOn),i=0,r=n.length;i<r;i++)e.createItem(n[i])}),0)},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){var e;if(t.target,this.$control_input[0],this.isLocked)9!==t.keyCode&&t.preventDefault();else{switch(t.keyCode){case 65:if(this.isCmdDown)return void this.selectAll();break;case 27:return void(this.isOpen&&(t.preventDefault(),t.stopPropagation(),this.close()));case 78:if(!t.ctrlKey||t.altKey)break;case 40:return!this.isOpen&&this.hasOptions?this.open():this.$activeOption&&(this.ignoreHover=!0,(e=this.getAdjacentOption(this.$activeOption,1)).length&&this.setActiveOption(e,!0,!0)),void t.preventDefault();case 80:if(!t.ctrlKey||t.altKey)break;case 38:return this.$activeOption&&(this.ignoreHover=!0,(e=this.getAdjacentOption(this.$activeOption,-1)).length&&this.setActiveOption(e,!0,!0)),void t.preventDefault();case 13:return void(this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),t.preventDefault()));case 37:return void this.advanceSelection(-1,t);case 39:return void this.advanceSelection(1,t);case 9:return this.settings.selectOnTab&&this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),this.isFull()||t.preventDefault()),void(this.settings.create&&this.createItem()&&this.settings.showAddOptionOnCreate&&t.preventDefault());case 8:case 46:return void this.deleteSelection(t)}!this.isFull()&&!this.isInputHidden||(f?t.metaKey:t.ctrlKey)||t.preventDefault()}},onInput:function(){var t=this.$control_input.val()||"";this.lastValue!==t&&(this.lastValue=t,this.onSearchChange(t),this.refreshOptions(),this.trigger("type",t))},onSearchChange:function(t){var e=this,n=e.settings.load;n&&!e.loadedSearches.hasOwnProperty(t)&&(e.loadedSearches[t]=!0,e.load((function(i){n.apply(e,[t,i])})))},onFocus:function(t){var e=this.isFocused;if(this.isDisabled)return this.blur(),t&&t.preventDefault(),!1;this.ignoreFocus||(this.isFocused=!0,"focus"===this.settings.preload&&this.onSearchChange(""),e||this.trigger("focus"),this.$activeItems.length||(this.showInput(),this.setActiveItem(null),this.refreshOptions(!!this.settings.openOnFocus)),this.refreshState())},onBlur:function(t,e){var n,i=this;i.isFocused&&(i.isFocused=!1,i.ignoreFocus||(n=function(){i.close(),i.setTextboxValue(""),i.setActiveItem(null),i.setActiveOption(null),i.setCaret(i.items.length),i.refreshState(),e&&e.focus&&e.focus(),i.isBlurring=!1,i.ignoreFocus=!1,i.trigger("blur")},i.isBlurring=!0,i.ignoreFocus=!0,i.settings.create&&i.settings.createOnBlur?i.createItem(null,!1,n):n()))},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(e){var n,i=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),(n=t(e.currentTarget)).hasClass("create")?i.createItem(null,(function(){i.settings.closeAfterSelect&&i.close()})):void 0!==(n=n.attr("data-value"))&&(i.lastQuery=null,i.setTextboxValue(""),i.addItem(n),i.settings.closeAfterSelect?i.close():!i.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&i.setActiveOption(i.getOption(n)))},onItemSelect:function(t){this.isLocked||"multi"===this.settings.mode&&(t.preventDefault(),this.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,n=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||n.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},getTextboxValue:function(){return this.$control_input.val()},setTextboxValue:function(t){var e=this.$control_input;e.val()!==t&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){l(this,e?[]:["change"],(function(){this.clear(e),this.addItems(t,e)}))},setMaxItems:function(t){this.settings.maxItems=t=0===t?null:t,this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),this.refreshState()},setActiveItem:function(e,n){var i,r,o,s,a,l;if("single"!==this.settings.mode){if(!(e=t(e)).length)return t(this.$activeItems).removeClass("active"),this.$activeItems=[],void(this.isFocused&&this.showInput());if("mousedown"===(i=n&&n.type.toLowerCase())&&this.isShiftDown&&this.$activeItems.length){for(l=this.$control.children(".active:last"),l=Array.prototype.indexOf.apply(this.$control[0].childNodes,[l[0]]),(o=Array.prototype.indexOf.apply(this.$control[0].childNodes,[e[0]]))<l&&(a=l,l=o,o=a),r=l;r<=o;r++)s=this.$control[0].childNodes[r],-1===this.$activeItems.indexOf(s)&&(t(s).addClass("active"),this.$activeItems.push(s));n.preventDefault()}else"mousedown"===i&&this.isCtrlDown||"keydown"===i&&this.isShiftDown?e.hasClass("active")?(a=this.$activeItems.indexOf(e[0]),this.$activeItems.splice(a,1),e.removeClass("active")):this.$activeItems.push(e.addClass("active")[0]):(t(this.$activeItems).removeClass("active"),this.$activeItems=[e.addClass("active")[0]]);this.hideInput(),this.isFocused||this.focus()}},setActiveOption:function(e,n,i){var r,s,a,l;this.$activeOption&&(this.$activeOption.removeClass("active"),this.trigger("dropdown_item_deactivate",this.$activeOption.attr("data-value"))),this.$activeOption=null,(e=t(e)).length&&(this.$activeOption=e.addClass("active"),this.isOpen&&this.trigger("dropdown_item_activate",this.$activeOption.attr("data-value")),!n&&o(n)||(e=this.$dropdown_content.height(),r=this.$activeOption.outerHeight(!0),n=this.$dropdown_content.scrollTop()||0,l=(a=s=this.$activeOption.offset().top-this.$dropdown_content.offset().top+n)-e+r,e+n<s+r?this.$dropdown_content.stop().animate({scrollTop:l},i?this.settings.scrollDuration:0):s<n&&this.$dropdown_content.stop().animate({scrollTop:a},i?this.settings.scrollDuration:0)))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;return t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout((function(){t.ignoreFocus=!1,t.onFocus()}),0)),t},blur:function(t){return this.$control_input[0].blur(),this.onBlur(null,t),this},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return{fields:t.searchField,conjunction:t.searchConjunction,sort:e="string"==typeof e?[{field:e}]:e,nesting:t.nesting}},search:function(e){var n,i,r,o=this.settings,a=this.getSearchOptions();if(o.score&&"function"!=typeof(r=this.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==this.lastQuery?(this.lastQuery=e,i=this.sifter.search(e,t.extend(a,{score:r})),this.currentResults=i):i=t.extend(!0,{},this.currentResults),o.hideSelected)for(n=i.items.length-1;0<=n;n--)-1!==this.items.indexOf(s(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(e){void 0===e&&(e=!0);var n,i,r,o,a,l,c,u,d,h,f,p,g,m,v,y,b=this,w=b.$control_input.val().trim(),x=b.search(w),C=b.$dropdown_content,_=b.$activeOption&&s(b.$activeOption.attr("data-value")),k=x.items.length;for("number"==typeof b.settings.maxOptions&&(k=Math.min(k,b.settings.maxOptions)),o={},a=[],n=0;n<k;n++)for(l=b.options[x.items[n].id],c=b.render("option",l),u=l[b.settings.optgroupField]||"",i=0,r=(d=Array.isArray(u)?u:[u])&&d.length;i<r;i++)u=d[i],b.optgroups.hasOwnProperty(u)||(u=""),o.hasOwnProperty(u)||(o[u]=document.createDocumentFragment(),a.push(u)),o[u].appendChild(c);for(this.settings.lockOptgroupOrder&&a.sort((function(t,e){return(b.optgroups[t]&&b.optgroups[t].$order||0)-(b.optgroups[e]&&b.optgroups[e].$order||0)})),h=document.createDocumentFragment(),n=0,k=a.length;n<k;n++)u=a[n],b.optgroups.hasOwnProperty(u)&&o[u].childNodes.length?((f=document.createDocumentFragment()).appendChild(b.render("optgroup_header",b.optgroups[u])),f.appendChild(o[u]),h.appendChild(b.render("optgroup",t.extend({},b.optgroups[u],{html:(v=f,y=void 0,(y=document.createElement("div")).appendChild(v.cloneNode(!0)),y.innerHTML),dom:f})))):h.appendChild(o[u]);if(C.html(h),b.settings.highlight&&(C.removeHighlight(),x.query.length&&x.tokens.length))for(n=0,k=x.tokens.length;n<k;n++)!function(t,e){var n,i;("string"!=typeof e||e.length)&&(n="string"==typeof e?new RegExp(e,"i"):e,i=function(t){var e=0;if(3===t.nodeType){var r,o,s=t.data.search(n);0<=s&&0<t.data.length&&(o=t.data.match(n),(r=document.createElement("span")).className="highlight",(s=t.splitText(s)).splitText(o[0].length),o=s.cloneNode(!0),r.appendChild(o),s.parentNode.replaceChild(r,s),e=1)}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName)&&("highlight"!==t.className||"SPAN"!==t.tagName))for(var a=0;a<t.childNodes.length;++a)a+=i(t.childNodes[a]);return e},t.each((function(){i(this)})))}(C,x.tokens[n].regex);if(!b.settings.hideSelected)for(b.$dropdown.find(".selected").removeClass("selected"),n=0,k=b.items.length;n<k;n++)b.getOption(b.items[n]).addClass("selected");(p=b.canCreate(w))&&b.settings.showAddOptionOnCreate&&(C.prepend(b.render("option_create",{input:w})),m=t(C[0].childNodes[0])),b.hasOptions=0<x.items.length||p&&b.settings.showAddOptionOnCreate,b.hasOptions?(0<x.items.length?(w=_&&b.getOption(_),""!==x.query&&w&&w.length?g=w:"single"===b.settings.mode&&b.items.length&&(g=b.getOption(b.items[0])),g&&g.length||(g=m&&!b.settings.addPrecedence?b.getAdjacentOption(m,1):C.find("[data-selectable]:first"))):g=m,b.setActiveOption(g),e&&!b.isOpen&&b.open()):(b.setActiveOption(null),e&&b.isOpen&&b.close())},addOption:function(t){var e,n,i;if(Array.isArray(t))for(e=0,n=t.length;e<n;e++)this.addOption(t[e]);else(i=this.registerOption(t))&&(this.userOptions[i]=!0,this.lastQuery=null,this.trigger("option_add",i,t))},registerOption:function(t){var e=s(t[this.settings.valueField]);return null!=e&&!this.options.hasOwnProperty(e)&&(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=s(t[this.settings.optgroupValueField]);return!!e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,n){var i,r,o;if(e=s(e),i=s(n[this.settings.valueField]),null!==e&&this.options.hasOwnProperty(e)){if("string"!=typeof i)throw new Error("Value must be set in option data");o=this.options[e].$order,i!==e&&(delete this.options[e],-1!==(r=this.items.indexOf(e))&&this.items.splice(r,1,i)),n.$order=n.$order||o,this.options[i]=n,r=this.renderCache.item,o=this.renderCache.option,r&&(delete r[e],delete r[i]),o&&(delete o[e],delete o[i]),-1!==this.items.indexOf(i)&&(r=this.getItem(e),o=t(this.render("item",n)),r.hasClass("active")&&o.addClass("active"),r.replaceWith(o)),this.lastQuery=null,this.isOpen&&this.refreshOptions(!1)}},removeOption:function(t,e){t=s(t);var n=this.renderCache.item,i=this.renderCache.option
;n&&delete n[t],i&&delete i[t],delete this.userOptions[t],delete this.options[t],this.lastQuery=null,this.trigger("option_remove",t),this.removeItem(t,e)},clearOptions:function(e){var n=this,i=(n.loadedSearches={},n.userOptions={},n.renderCache={},n.options);t.each(n.options,(function(t){-1==n.items.indexOf(t)&&delete i[t]})),n.options=n.sifter.items=i,n.lastQuery=null,n.trigger("option_clear"),n.clear(e)},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getFirstOption:function(){var e=this.$dropdown.find("[data-selectable]");return 0<e.length?e.eq(0):t()},getAdjacentOption:function(e,n){var i=this.$dropdown.find("[data-selectable]");return 0<=(e=i.index(e)+n)&&e<i.length?i.eq(e):t()},getElementWithValue:function(e,n){if(null!=(e=s(e)))for(var i=0,r=n.length;i<r;i++)if(n[i].getAttribute("data-value")===e)return t(n[i]);return t()},getElementWithTextContent:function(e,n,i){if(null!=(e=s(e)))for(var r=0,o=i.length;r<o;r++){var a=i[r].textContent;if(1==n&&(a=null!==a?a.toLowerCase():null,e=e.toLowerCase()),a===e)return t(i[r])}return t()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},getFirstItemMatchedByTextContent:function(t,e){return this.getElementWithTextContent(t,e=null!==e&&!0===e,this.$dropdown_content.find("[data-selectable]"))},addItems:function(t,e){this.buffer=document.createDocumentFragment();for(var n=this.$control[0].childNodes,i=0;i<n.length;i++)this.buffer.appendChild(n[i]);for(var r=Array.isArray(t)?t:[t],o=(i=0,r.length);i<o;i++)this.isPending=i<o-1,this.addItem(r[i],e);(t=this.$control[0]).insertBefore(this.buffer,t.firstChild),this.buffer=null},addItem:function(e,n){l(this,n?[]:["change"],(function(){var i,r,o,a=this.settings.mode;e=s(e),-1!==this.items.indexOf(e)?"single"===a&&this.close():this.options.hasOwnProperty(e)&&("single"===a&&this.clear(n),"multi"===a&&this.isFull()||(i=t(this.render("item",this.options[e])),o=this.isFull(),this.items.splice(this.caretPos,0,e),this.insertAtCaret(i),this.isPending&&(o||!this.isFull())||this.refreshState(),this.isSetup&&(o=this.$dropdown_content.find("[data-selectable]"),this.isPending||(r=this.getOption(e),r=this.getAdjacentOption(r,1).attr("data-value"),this.refreshOptions(this.isFocused&&"single"!==a),r&&this.setActiveOption(this.getOption(r))),!o.length||this.isFull()?this.close():this.isPending||this.positionDropdown(),this.updatePlaceholder(),this.trigger("item_add",e,i),this.isPending||this.updateOriginalInput({silent:n}))))}))},removeItem:function(e,n){var i,r,o=e instanceof t?e:this.getItem(e);e=s(o.attr("data-value")),-1!==(i=this.items.indexOf(e))&&(this.trigger("item_before_remove",e,o),o.remove(),o.hasClass("active")&&(r=this.$activeItems.indexOf(o[0]),this.$activeItems.splice(r,1)),this.items.splice(i,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(e)&&this.removeOption(e,n),i<this.caretPos&&this.setCaret(this.caretPos-1),this.refreshState(),this.updatePlaceholder(),this.updateOriginalInput({silent:n}),this.positionDropdown(),this.trigger("item_remove",e,o))},createItem:function(t,e){var n=this,i=n.caretPos,r=(t=t||(n.$control_input.val()||"").trim(),arguments[arguments.length-1]);if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof e&&(e=!0),!n.canCreate(t))return r(),!1;n.lock();var o,a,l="function"==typeof n.settings.create?this.settings.create:function(t){var e={};t=e[n.settings.labelField]=t;if(!n.settings.formatValueToKey||"function"!=typeof n.settings.formatValueToKey||null!=(t=n.settings.formatValueToKey.apply(this,[t]))&&"object"!=typeof t&&"function"!=typeof t)return e[n.settings.valueField]=t,e;throw new Error('Selectize "formatValueToKey" setting must be a function that returns a value other than object or function.')},c=(a=!(o=function(t){return n.unlock(),t&&"object"==typeof t&&"string"==typeof(o=s(t[n.settings.valueField]))?(n.setTextboxValue(""),n.addOption(t),n.setCaret(i),n.addItem(o),n.refreshOptions(e&&"single"!==n.settings.mode),void r(t)):r();var o}),function(){a||(a=!0,o.apply(this,arguments))});return void 0!==(l=l.apply(this,[t,c]))&&c(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var t=!this.items.length;this.isInvalid=t,this.$control_input.prop("required",t),this.$input.prop("required",!t)},refreshClasses:function(){var e=this.isFull(),n=this.isLocked;this.$wrapper.toggleClass("rtl",this.rtl),this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",n).toggleClass("full",e).toggleClass("not-full",!e).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",this.isOpen).toggleClass("has-options",!t.isEmptyObject(this.options)).toggleClass("has-items",0<this.items.length),this.$control_input.data("grow",!e&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,n,i,r;if(t=t||{},1===this.tagType){for(i=[],e=0,n=this.items.length;e<n;e++)r=this.options[this.items[e]][this.settings.labelField]||"",i.push('<option value="'+a(this.items[e])+'" selected="selected">'+a(r)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),this.$input.html(i.join(""))}else this.$input.val(this.getValue()),this.$input.attr("value",this.$input.val());this.isSetup&&!t.silent&&this.trigger("change",this.$input.val())},updatePlaceholder:function(){var t;this.settings.placeholder&&(t=this.$control_input,this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0}))},open:function(){this.isLocked||this.isOpen||"multi"===this.settings.mode&&this.isFull()||(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}),this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown))},close:function(){var t=this.isOpen;"single"===this.settings.mode&&this.items.length&&(this.hideInput(),this.isBlurring&&this.$control_input.blur()),this.isOpen=!1,this.$dropdown.hide(),this.setActiveOption(null),this.refreshState(),t&&this.trigger("dropdown_close",this.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),t=t[0].getBoundingClientRect().width;this.settings.minWidth&&this.settings.minWidth>t&&(t=this.settings.minWidth),this.$dropdown.css({width:t,top:e.top,left:e.left})},clear:function(t){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput({silent:t}),this.refreshState(),this.showInput(),this.trigger("clear"))},insertAtCaret:function(t){var e=Math.min(this.caretPos,this.items.length),n=(t=t[0],this.buffer||this.$control[0]);0===e?n.insertBefore(t,n.firstChild):n.insertBefore(t,n.childNodes[e]),this.setCaret(e+1)},deleteSelection:function(e){var n,i,r,o,s,a=e&&8===e.keyCode?-1:1,l=c(this.$control_input[0]);if(this.$activeOption&&!this.settings.hideSelected&&(o=("string"==typeof this.settings.deselectBehavior&&"top"===this.settings.deselectBehavior?this.getFirstOption():this.getAdjacentOption(this.$activeOption,-1)).attr("data-value")),r=[],this.$activeItems.length){for(s=this.$control.children(".active:"+(0<a?"last":"first")),s=this.$control.children(":not(input)").index(s),0<a&&s++,n=0,i=this.$activeItems.length;n<i;n++)r.push(t(this.$activeItems[n]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&&this.items.length&&(a<0&&0===l.start&&0===l.length?r.push(this.items[this.caretPos-1]):0<a&&l.start===this.$control_input.val().length&&r.push(this.items[this.caretPos]));if(!r.length||"function"==typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[r]))return!1;for(void 0!==s&&this.setCaret(s);r.length;)this.removeItem(r.pop());return this.showInput(),this.positionDropdown(),this.refreshOptions(!0),o&&(e=this.getOption(o)).length&&this.setActiveOption(e),!0},advanceSelection:function(t,e){var n,i,r;0!==t&&(this.rtl&&(t*=-1),n=0<t?"last":"first",r=c(this.$control_input[0]),this.isFocused&&!this.isInputHidden?(i=this.$control_input.val().length,(t<0?0!==r.start||0!==r.length:r.start!==i)||i||this.advanceCaret(t,e)):(r=this.$control.children(".active:"+n)).length&&(i=this.$control.children(":not(input)").index(r),this.setActiveItem(null),this.setCaret(0<t?i+1:i)))},advanceCaret:function(t,e){var n;0!==t&&(this.isShiftDown?(n=this.$control_input[0<t?"next":"prev"]()).length&&(this.hideInput(),this.setActiveItem(n),e&&e.preventDefault()):this.setCaret(this.caretPos+t))},setCaret:function(e){if(e="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,e)),!this.isPending)for(var n,i=this.$control.children(":not(input)"),r=0,o=i.length;r<o;r++)n=t(i[r]).detach(),r<e?this.$control_input.before(n):this.$control.append(n);this.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){this.$input.prop("disabled",!1),this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex),this.isDisabled=!1,this.unlock()},destroy:function(){var e=this.eventNS,n=this.revertSettings;this.trigger("destroy"),this.off(),this.$wrapper.remove(),this.$dropdown.remove(),this.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),this.$control_input.removeData("grow"),this.$input.removeData("selectize"),0==--b.count&&b.$testInput&&(b.$testInput.remove(),b.$testInput=void 0),t(window).off(e),t(document).off(e),t(document.body).off(e),delete this.$input[0].selectize},render:function(e,n){var i,r,l="",c=!1;return(c="option"!==e&&"item"!==e?c:!!(i=s(n[this.settings.valueField])))&&(o(this.renderCache[e])||(this.renderCache[e]={}),this.renderCache[e].hasOwnProperty(i))?this.renderCache[e][i]:(l=t(this.settings.render[e].apply(this,[n,a])),"option"===e||"option_create"===e?n[this.settings.disabledField]||l.attr("data-selectable",""):"optgroup"===e&&(r=n[this.settings.optgroupValueField]||"",l.attr("data-group",r),n[this.settings.disabledField]&&l.attr("data-disabled","")),"option"!==e&&"item"!==e||l.attr("data-value",i||""),c&&(this.renderCache[e][i]=l[0]),l[0])},clearCache:function(t){void 0===t?this.renderCache={}:delete this.renderCache[t]},canCreate:function(t){if(!this.settings.create)return!1;var e=this.settings.createFilter;return t.length&&("function"!=typeof e||e.apply(this,[t]))&&("string"!=typeof e||new RegExp(e).test(t))&&(!(e instanceof RegExp)||e.test(t))}}),b.count=0,b.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,showAddOptionOnCreate:!0,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!0,preload:!1,allowEmptyOption:!1,showEmptyOptionInDropdown:!1,emptyOptionLabel:"--",closeAfterSelect:!1,scrollDuration:60,deselectBehavior:"previous",loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},t.fn.selectize=function(e){function n(e,n){function i(e,i){var o,d=s((e=t(e)).val());(d||r.allowEmptyOption)&&(y.hasOwnProperty(d)?i&&((o=y[d][u])?t.isArray(o)?o.push(i):y[d][u]=[o,i]:y[d][u]=i):((o=b(e)||{})[a]=o[a]||e.text(),o[l]=o[l]||d,o[c]=o[c]||e.prop("disabled"),o[u]=o[u]||i,y[d]=o,v.push(o),e.is(":selected")&&n.items.push(d)))}var f,p,g,m,v=n.options,y={},b=function(t){return"string"==typeof(t=o&&t.attr(o))&&t.length?JSON.parse(t):null};for(n.maxItems=e.attr("multiple")?null:1,f=0,p=(m=e.children()).length;f<p;f++)"optgroup"===(g=m[f].tagName.toLowerCase())?function(e){var r,o,s,a,l;for((s=(e=t(e)).attr("label"))&&((a=b(e)||{})[d]=s,a[h]=s,a[c]=e.prop("disabled"),n.optgroups.push(a)),r=0,o=(l=t("option",e)).length;r<o;r++)i(l[r],s)}(m[f]):"option"===g&&i(m[f])}var i=t.fn.selectize.defaults,r=t.extend({},i,e),o=r.dataAttr,a=r.labelField,l=r.valueField,c=r.disabledField,u=r.optgroupField,d=r.optgroupLabelField,h=r.optgroupValueField;return this.each((function(){var s,c,u,d;this.selectize||(s=t(this),c=this.tagName.toLowerCase(),(u=s.attr("placeholder")||s.attr("data-placeholder"))||r.allowEmptyOption||(u=s.children('option[value=""]').text()),r.allowEmptyOption&&r.showEmptyOptionInDropdown&&!s.children('option[value=""]').length&&(d=s.html(),s.html('<option value="">'+r.emptyOptionLabel+"</option>"+d)),("select"===c?n:function(e,n){var i,s,c,u,d=e.attr(o);if(d)for(n.options=JSON.parse(d),i=0,s=n.options.length;i<s;i++)n.items.push(n.options[i][l]);else if(d=t.trim(e.val()||""),r.allowEmptyOption||d.length){for(i=0,s=(c=d.split(r.delimiter)).length;i<s;i++)(u={})[a]=c[i],u[l]=c[i],n.options.push(u);n.items=c}})(s,d={placeholder:u,options:[],optgroups:[],items:[]}),new b(s,t.extend(!0,{},i,d,e)))}))},t.fn.selectize.defaults=b.defaults,t.fn.selectize.support={validity:m},b.define("auto_position",(function(){const t={top:"top",bottom:"bottom"};this.positionDropdown=function(){const e=this.$control,n="body"===this.settings.dropdownParent?e.offset():e.position();n.top+=e.outerHeight(!0);var i=this.$dropdown.prop("scrollHeight")+5,r=(i=this.$control.get(0).getBoundingClientRect().top+i+this.$wrapper.height()>window.innerHeight?t.top:t.bottom,{width:e.outerWidth(),left:n.left});i===t.top?(Object.assign(r,{bottom:n.top,top:"unset",margin:"0 0 5px 0"}),this.$dropdown.addClass("selectize-position-top")):(Object.assign(r,{top:n.top,bottom:"unset",margin:"5px 0 0 0"}),this.$dropdown.removeClass("selectize-position-top")),this.$dropdown.css(r)}})),b.define("auto_select_on_type",(function(){var t,e=this;e.onBlur=(t=e.onBlur,function(n){var i=e.getFirstItemMatchedByTextContent(e.lastValue,!0);return void 0!==i.attr("data-value")&&e.getValue()!==i.attr("data-value")&&e.setValue(i.attr("data-value")),t.apply(this,arguments)})})),b.define("autofill_disable",(function(){var t,e=this;e.setup=(t=e.setup,function(){t.apply(e,arguments),e.$control_input.attr({autocomplete:"new-password",autofill:"no"})})})),b.define("drag_drop",(function(){if(!t.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');var e,n;"multi"===this.settings.mode&&((e=this).lock=(n=e.lock,function(){var t=e.$control.data("sortable");return t&&t.disable(),n.apply(e,arguments)}),e.unlock=function(){var t=e.unlock;return function(){var n=e.$control.data("sortable");return n&&n.enable(),t.apply(e,arguments)}}(),e.setup=function(){var n=e.setup;return function(){n.apply(this,arguments);var i=e.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:e.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),i.addClass("dragging")},stop:function(){i.removeClass("dragging");var n=e.$activeItems?e.$activeItems.slice():null,r=[];i.children("[data-value]").each((function(){r.push(t(this).attr("data-value"))})),e.isFocused=!1,e.setValue(r),e.isFocused=!0,e.setActiveItem(n),e.positionDropdown()}})}}())})),b.define("dropdown_header",(function(e){var n,i=this;e=t.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},e),i.setup=(n=i.setup,function(){n.apply(i,arguments),i.$dropdown_header=t(e.html(e)),i.$dropdown.prepend(i.$dropdown_header)})})),b.define("optgroup_columns",(function(e){function n(){var n,i,s,a,l=t("[data-group]",r.$dropdown_content),c=l.length;if(c&&r.$dropdown_content.width()){if(e.equalizeHeight){for(n=i=0;n<c;n++)i=Math.max(i,l.eq(n).height());l.css({height:i})}e.equalizeWidth&&(a=r.$dropdown_content.innerWidth()-o(),s=Math.round(a/c),l.css({width:s}),1<c&&(a-=s*(c-1),l.eq(c-1).css({width:a})))}}var i,r=this,o=(e=t.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,n){var i=e.closest("[data-group]").find("[data-selectable]");return 0<=(e=i.index(e)+n)&&e<i.length?i.eq(e):t()},this.onKeyDown=(i=r.onKeyDown,function(t){var e,n;if(!this.isOpen||37!==t.keyCode&&39!==t.keyCode)return i.apply(this,arguments);r.ignoreHover=!0,e=(n=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),(n=(t=(n=37===t.keyCode?n.prev("[data-group]"):n.next("[data-group]")).find("[data-selectable]")).eq(Math.min(t.length-1,e))).length&&this.setActiveOption(n)}),function(){var t,e=o.width,n=document;return void 0===e&&((t=n.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,n.body.appendChild(t),e=o.width=t.offsetWidth-t.clientWidth,n.body.removeChild(t)),e});(e.equalizeHeight||e.equalizeWidth)&&(v.after(this,"positionDropdown",n),v.after(this,"refreshOptions",n))})),b.define("remove_button",(function(e){e=t.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e),("single"===this.settings.mode?function(e,n){n.className="remove-single";var i,r=e,o='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+a(n.title)+'">'+n.label+"</a>";e.setup=(i=r.setup,function(){var s,a;n.append&&(s=t(r.$input.context).attr("id"),t("#"+s),a=r.settings.render.item,r.settings.render.item=function(n){return i=a.apply(e,arguments),r=o,t("<span>").append(i).append(r);var i,r}),i.apply(e,arguments),e.$control.on("click","."+n.className,(function(t){t.preventDefault(),r.isLocked||r.clear()}))})}:function(e,n){var i,r=e,o='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+a(n.title)+'">'+n.label+"</a>";e.setup=(i=r.setup,function(){var s;n.append&&(s=r.settings.render.item,r.settings.render.item=function(t){return n=s.apply(e,arguments),i=o,r=n.search(/(<\/[^>]+>\s*)$/),n.substring(0,r)+i+n.substring(r);var n,i,r}),i.apply(e,arguments),e.$control.on("click","."+n.className,(function(e){if(e.preventDefault(),!r.isLocked)return e=t(e.currentTarget).parent(),r.setActiveItem(e),r.deleteSelection()&&r.setCaret(r.items.length),!1}))})})(this,e)})),b.define("restore_on_backspace",(function(t){var e,n=this;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=(e=n.onKeyDown,function(n){var i;return 8===n.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&0<=(i=this.caretPos-1)&&i<this.items.length?(i=this.options[this.items[i]],this.deleteSelection(n)&&(this.setTextboxValue(t.text.apply(this,[i])),this.refreshOptions(!0)),void n.preventDefault()):e.apply(this,arguments)})})),b.define("select_on_focus",(function(){var t,e,n=this;n.on("focus",(t=n.onFocus,function(e){var i=n.getItem(n.getValue()).text();return n.clear(),n.setTextboxValue(i),n.$control_input.select(),setTimeout((function(){n.settings.selectOnTab&&n.setActiveOption(n.getFirstItemMatchedByTextContent(i)),n.settings.score=null}),0),t.apply(this,arguments)})),n.onBlur=(e=n.onBlur,function(t){return""===n.getValue()&&n.lastValidValue!==n.getValue()&&n.setValue(n.lastValidValue),setTimeout((function(){n.settings.score=function(){return function(){return 1}}}),0),e.apply(this,arguments)}),n.settings.score=function(){return function(){return 1}}})),b.define("tag_limit",(function(e){const n=this;e.tagLimit=e.tagLimit,this.onBlur=function(){const i=n.onBlur;return function(n){if(i.apply(this,n),n){const n=this.$control,i=n.find(".item"),r=e.tagLimit;void 0===r||i.length<=r||(i.toArray().forEach((function(e,n){n<r||t(e).hide()})),n.append("<span><b>"+(i.length-r)+"</b></span>"))}}}(),this.onFocus=function(){const t=n.onFocus;return function(e){if(t.apply(this,e),e){const t=this.$control;t.find(".item").show(),t.find("span").remove()}}}()})),b})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.SignaturePad=e()}(this,(function(){"use strict";function t(t,e,n){this.x=t,this.y=e,this.time=n||(new Date).getTime()}function e(t,e,n,i){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=i}function n(t,e,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=!1===n.leading?0:Date.now(),s=null,o=t.apply(i,r),s||(i=r=null)};return function(){var c=Date.now();a||!1!==n.leading||(a=c);var u=e-(c-a);return i=this,r=arguments,u<=0||u>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(i,r),s||(i=r=null)):s||!1===n.trailing||(s=setTimeout(l,u)),o}}function i(t,e){var r=this,o=e||{};this.velocityFilterWeight=o.velocityFilterWeight||.7,this.minWidth=o.minWidth||.5,this.maxWidth=o.maxWidth||2.5,this.throttle="throttle"in o?o.throttle:16,this.minDistance="minDistance"in o?o.minDistance:5,this.throttle?this._strokeMoveUpdate=n(i.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=i.prototype._strokeUpdate,this.dotSize=o.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=o.penColor||"black",this.backgroundColor=o.backgroundColor||"rgba(0,0,0,0)",this.onBegin=o.onBegin,this.onEnd=o.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(t){1===t.which&&(r._mouseButtonDown=!0,r._strokeBegin(t))},this._handleMouseMove=function(t){r._mouseButtonDown&&r._strokeMoveUpdate(t)},this._handleMouseUp=function(t){1===t.which&&r._mouseButtonDown&&(r._mouseButtonDown=!1,r._strokeEnd(t))},this._handleTouchStart=function(t){if(t.preventDefault(),1===t.targetTouches.length){var e=t.changedTouches[0];r._strokeBegin(e)}},this._handleTouchMove=function(t){t.preventDefault();var e=t.targetTouches[0];r._strokeMoveUpdate(e)},this._handleTouchEnd=function(t){t.target===r._canvas&&(t.preventDefault(),r._strokeEnd(t))},this.on()}return t.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1},t.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time},e.prototype.length=function(){for(var t=10,e=0,n=void 0,i=void 0,r=0;r<=t;r+=1){var o=r/t,s=this._point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this._point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(r>0){var l=s-n,c=a-i;e+=Math.sqrt(l*l+c*c)}n=s,i=a}return e},e.prototype._point=function(t,e,n,i,r){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*i*(1-t)*t*t+r*t*t*t},i.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0},i.prototype.fromDataURL=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new Image,r=n.ratio||window.devicePixelRatio||1,o=n.width||this._canvas.width/r,s=n.height||this._canvas.height/r;this._reset(),i.src=t,i.onload=function(){e._ctx.drawImage(i,0,0,o,s)},this._isEmpty=!1},i.prototype.toDataURL=function(t){var e;if("image/svg+xml"===t)return this._toSVG();for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return(e=this._canvas).toDataURL.apply(e,[t].concat(i))},i.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},i.prototype.off=function(){this._canvas.style.msTouchAction="auto",this._canvas.style.touchAction="auto",this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},i.prototype.isEmpty=function(){return this._isEmpty},i.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),"function"==typeof this.onBegin&&this.onBegin(t)},i.prototype._strokeUpdate=function(t){var e=t.clientX,n=t.clientY,i=this._createPoint(e,n),r=this._data[this._data.length-1],o=r&&r[r.length-1],s=o&&i.distanceTo(o)<this.minDistance;if(!o||!s){var a=this._addPoint(i),l=a.curve,c=a.widths;l&&c&&this._drawCurve(l,c.start,c.end),this._data[this._data.length-1].push({x:i.x,y:i.y,time:i.time,color:this.penColor})}},i.prototype._strokeEnd=function(t){var e=this.points.length>2,n=this.points[0];if(!e&&n&&this._drawDot(n),n){var i=this._data[this._data.length-1],r=i[i.length-1];n.equals(r)||i.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}"function"==typeof this.onEnd&&this.onEnd(t)},i.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},i.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},i.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},i.prototype._createPoint=function(e,n,i){var r=this._canvas.getBoundingClientRect();return new t(e-r.left,n-r.top,i||(new Date).getTime())},i.prototype._addPoint=function(t){var n=this.points;if(n.push(t),n.length>2){3===n.length&&n.unshift(n[0]);var i=this._calculateCurveControlPoints(n[0],n[1],n[2]).c2,r=this._calculateCurveControlPoints(n[1],n[2],n[3]).c1,o=new e(n[1],i,r,n[2]),s=this._calculateCurveWidths(o);return n.shift(),{curve:o,widths:s}}return{}},i.prototype._calculateCurveControlPoints=function(e,n,i){var r=e.x-n.x,o=e.y-n.y,s=n.x-i.x,a=n.y-i.y,l={x:(e.x+n.x)/2,y:(e.y+n.y)/2},c={x:(n.x+i.x)/2,y:(n.y+i.y)/2},u=Math.sqrt(r*r+o*o),d=Math.sqrt(s*s+a*a),h=l.x-c.x,f=l.y-c.y,p=d/(u+d),g={x:c.x+h*p,y:c.y+f*p},m=n.x-g.x,v=n.y-g.y;return{c1:new t(l.x+m,l.y+v),c2:new t(c.x+m,c.y+v)}},i.prototype._calculateCurveWidths=function(t){var e=t.startPoint,n=t.endPoint,i={start:null,end:null},r=this.velocityFilterWeight*n.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,o=this._strokeWidth(r);return i.start=this._lastWidth,i.end=o,this._lastVelocity=r,this._lastWidth=o,i},i.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)},i.prototype._drawPoint=function(t,e,n){var i=this._ctx;i.moveTo(t,e),i.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1},i.prototype._drawCurve=function(t,e,n){var i=this._ctx,r=n-e,o=Math.floor(t.length());i.beginPath();for(var s=0;s<o;s+=1){var a=s/o,l=a*a,c=l*a,u=1-a,d=u*u,h=d*u,f=h*t.startPoint.x;f+=3*d*a*t.control1.x,f+=3*u*l*t.control2.x,f+=c*t.endPoint.x;var p=h*t.startPoint.y;p+=3*d*a*t.control1.y,p+=3*u*l*t.control2.y,p+=c*t.endPoint.y;var g=e+c*r;this._drawPoint(f,p,g)}i.closePath(),i.fill()},i.prototype._drawDot=function(t){var e=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()},i.prototype._fromData=function(e,n,i){for(var r=0;r<e.length;r+=1){var o=e[r];if(o.length>1)for(var s=0;s<o.length;s+=1){var a=o[s],l=new t(a.x,a.y,a.time),c=a.color;if(0===s)this.penColor=c,this._reset(),this._addPoint(l);else if(s!==o.length-1){var u=this._addPoint(l),d=u.curve,h=u.widths;d&&h&&n(d,h,c)}}else this._reset(),i(o[0])}},i.prototype._toSVG=function(){var t=this,e=this._data,n=this._canvas,i=Math.max(window.devicePixelRatio||1,1),r=0,o=0,s=n.width/i,a=n.height/i,l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttributeNS(null,"width",n.width),l.setAttributeNS(null,"height",n.height),this._fromData(e,(function(t,e,n){var i=document.createElement("path");if(!(isNaN(t.control1.x)||isNaN(t.control1.y)||isNaN(t.control2.x)||isNaN(t.control2.y))){var r="M "+t.startPoint.x.toFixed(3)+","+t.startPoint.y.toFixed(3)+" C "+t.control1.x.toFixed(3)+","+t.control1.y.toFixed(3)+" "+t.control2.x.toFixed(3)+","+t.control2.y.toFixed(3)+" "+t.endPoint.x.toFixed(3)+","+t.endPoint.y.toFixed(3);i.setAttribute("d",r),i.setAttribute("stroke-width",(2.25*e.end).toFixed(3)),i.setAttribute("stroke",n),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),l.appendChild(i)}}),(function(e){var n=document.createElement("circle"),i="function"==typeof t.dotSize?t.dotSize():t.dotSize;n.setAttribute("r",i),n.setAttribute("cx",e.x),n.setAttribute("cy",e.y),n.setAttribute("fill",e.color),l.appendChild(n)}));var c="data:image/svg+xml;base64,",u='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="'+r+" "+o+" "+s+" "+a+'" width="'+s+'" height="'+a+'">',d=l.innerHTML;if(void 0===d){var h=document.createElement("dummy"),f=l.childNodes;h.innerHTML="";for(var p=0;p<f.length;p+=1)h.appendChild(f[p].cloneNode(!0));d=h.innerHTML}return c+btoa(u+d+"</svg>")},i.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,(function(t,n){return e._drawCurve(t,n.start,n.end)}),(function(t){return e._drawDot(t)})),this._data=t},i.prototype.toData=function(){return this._data},i})),function(){this.order_item_quantity_change=function(t){return $(t).on("change",(function(){var t;return t=$(this).data("order-item-id"),$(this).prop("readonly",!0),update_order_item_quantity(t,$(this).val())}))},this.update_order_item_quantity=function(t,e){var n;return n="/store/order_items/"+t,$.ajax({url:n,data:{store_order_item:{quantity:e}},dataType:"json",format:"json",type:"PUT",error:function(t){return console.debug(t)},success:function(){return window.location.replace("/store/orders/new")}})},this.order_item_price_change=function(t){return $(t).on("change",(function(){var t;return t=$(this).data("order-item-id"),$(this).prop("readonly",!0),update_order_item_price(t,$(this).val())}))},this.update_order_item_price=function(t,e){var n;return n="/store/order_items/"+t,$.ajax({url:n,data:{store_order_item:{price:e}},dataType:"json",format:"json",type:"PUT",error:function(t){return console.debug(t)},success:function(){return window.location.replace("/store/orders/new")}})}}.call(this),function(){}.call(this),function(){}.call(this),function(){this.multi_sumo=function(t,e){var n;return n={isClickAwayOk:!0,selectAll:!0,up:!1,search:!0,okCancelInMulti:!0,triggerChangeCombined:!0},e=$.extend({},n,e),$(t).SumoSelect(e)},this.single_sumo=function(t,e){var n;return n={isClickAwayOk:!0,up:!1,triggerChangeCombined:!0,okCancelInMulti:!0},e=$.extend({},n,e),$(t).SumoSelect(e)},this.reset_sumo_filters=function(t){return null==t&&(t="select"),$(t).each((function(){return this.sumo.unSelectAll()})),new Promise((function(t){return t()}))},this.fill_sumo=function(t,e,n,i){null==n&&(n="text"),null==i&&(i="id"),$.get(e,{dataType:"json",format:"json"}).done((function(e){var r,o,s,a;for(a=[],o=0,s=e.length;o<s;o++)r=e[o],a.push($(t)[0].sumo.add(r[n],r[i]));return a}))}}.call(this),function(){this.tabset_session=function(t,e){if($(t).on("change",(function(){return sessionStorage.setItem(e,this.id)})),sessionStorage.getItem(e))return $("#"+sessionStorage.getItem(e)).prop("checked",!0)}}.call(this),function(){}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?t(require("jquery")):t(jQuery)}((function(t){function e(){var e=o.settings
;if(e.autoDispose&&!t.contains(document.documentElement,this))return t(this).timeago("dispose"),this;var s=n(this);return isNaN(s.datetime)||(0===e.cutoff||Math.abs(r(s.datetime))<e.cutoff?t(this).text(i(s.datetime)):t(this).attr("title").length>0&&t(this).text(t(this).attr("title"))),this}function n(e){if(!(e=t(e)).data("timeago")){e.data("timeago",{datetime:o.datetime(e)});var n=t.trim(e.text());o.settings.localeTitle?e.attr("title",e.data("timeago").datetime.toLocaleString()):!(n.length>0)||o.isTime(e)&&e.attr("title")||e.attr("title",n)}return e.data("timeago")}function i(t){return o.inWords(r(t))}function r(t){return(new Date).getTime()-t.getTime()}t.timeago=function(e){return e instanceof Date?i(e):i("string"==typeof e?t.timeago.parse(e):"number"==typeof e?new Date(e):t.timeago.datetime(e))};var o=t.timeago;t.extend(t.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!0,localeTitle:!1,cutoff:0,autoDispose:!0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(e){function n(n,r){var o=t.isFunction(n)?n(r,e):n,s=i.numbers&&i.numbers[r]||r;return o.replace(/%d/i,s)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var i=this.settings.strings,r=i.prefixAgo,o=i.suffixAgo;if(this.settings.allowFuture&&e<0&&(r=i.prefixFromNow,o=i.suffixFromNow),!this.settings.allowPast&&e>=0)return this.settings.strings.inPast;var s=Math.abs(e)/1e3,a=s/60,l=a/60,c=l/24,u=c/365,d=s<45&&n(i.seconds,Math.round(s))||s<90&&n(i.minute,1)||a<45&&n(i.minutes,Math.round(a))||a<90&&n(i.hour,1)||l<24&&n(i.hours,Math.round(l))||l<42&&n(i.day,1)||c<30&&n(i.days,Math.round(c))||c<45&&n(i.month,1)||c<365&&n(i.months,Math.round(c/30))||u<1.5&&n(i.year,1)||n(i.years,Math.round(u)),h=i.wordSeparator||"";return void 0===i.wordSeparator&&(h=" "),t.trim([r,d,o].join(h))},parse:function(e){var n=t.trim(e);return n=(n=(n=(n=(n=n.replace(/\.\d+/,"")).replace(/-/,"/").replace(/-/,"/")).replace(/T/," ").replace(/Z/," UTC")).replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2")).replace(/([\+\-]\d\d)$/," $100"),new Date(n)},datetime:function(e){var n=o.isTime(e)?t(e).attr("datetime"):t(e).attr("title");return o.parse(n)},isTime:function(e){return"time"===t(e).get(0).tagName.toLowerCase()}});var s={init:function(){s.dispose.call(this);var n=t.proxy(e,this);n();var i=o.settings;i.refreshMillis>0&&(this._timeagoInterval=setInterval(n,i.refreshMillis))},update:function(n){var i=n instanceof Date?n:o.parse(n);t(this).data("timeago",{datetime:i}),o.settings.localeTitle&&t(this).attr("title",i.toLocaleString()),e.apply(this)},updateFromDOM:function(){t(this).data("timeago",{datetime:o.parse(o.isTime(this)?t(this).attr("datetime"):t(this).attr("title"))}),e.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};t.fn.timeago=function(t,e){var n=t?s[t]:s.init;if(!n)throw new Error("Unknown function name '"+t+"' for timeago");return this.each((function(){n.call(this,e)})),this},document.createElement("abbr"),document.createElement("time")})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("popper.js")):"function"==typeof define&&define.amd?define(["popper.js"],e):t.Tooltip=e(t.Popper)}(this,(function(t){"use strict";function e(t){return t&&"[object Function]"==={}.toString.call(t)}t=t&&t.hasOwnProperty("default")?t.default:t;var n=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o={container:!1,delay:0,html:!1,placement:"top",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",offset:0,arrowSelector:".tooltip-arrow, .tooltip__arrow",innerSelector:".tooltip-inner, .tooltip__inner"},s=function(){function s(t,e){n(this,s),a.call(this),e=r({},o,e),t.jquery&&(t=t[0]),this.reference=t,this.options=e;var i="string"==typeof e.trigger?e.trigger.split(" ").filter((function(t){return-1!==["click","hover","focus"].indexOf(t)})):[];this._isOpen=!1,this._popperOptions={},this._setEventListeners(t,i,e)}return i(s,[{key:"_create",value:function(t,e,n,i){var r=window.document.createElement("div");r.innerHTML=e.trim();var o=r.childNodes[0];o.id="tooltip_"+Math.random().toString(36).substr(2,10),o.setAttribute("aria-hidden","false");var s=r.querySelector(this.options.innerSelector);return this._addTitleContent(t,n,i,s),o}},{key:"_addTitleContent",value:function(t,n,i,r){if(1===n.nodeType||11===n.nodeType)i&&r.appendChild(n);else if(e(n)){var o=n.call(t);i?r.innerHTML=o:r.textContent=o}else i?r.innerHTML=n:r.textContent=n}},{key:"_show",value:function(e,n){if(this._isOpen&&!this._isOpening)return this;if(this._isOpen=!0,this._tooltipNode)return this._tooltipNode.style.visibility="visible",this._tooltipNode.setAttribute("aria-hidden","false"),this.popperInstance.update(),this;var i=e.getAttribute("title")||n.title;if(!i)return this;var o=this._create(e,n.template,i,n.html);e.setAttribute("aria-describedby",o.id);var s=this._findContainer(n.container,e);return this._append(o,s),this._popperOptions=r({},n.popperOptions,{placement:n.placement}),this._popperOptions.modifiers=r({},this._popperOptions.modifiers,{arrow:{element:this.options.arrowSelector},offset:{offset:n.offset}}),n.boundariesElement&&(this._popperOptions.modifiers.preventOverflow={boundariesElement:n.boundariesElement}),this.popperInstance=new t(e,o,this._popperOptions),this._tooltipNode=o,this}},{key:"_hide",value:function(){return this._isOpen?(this._isOpen=!1,this._tooltipNode.style.visibility="hidden",this._tooltipNode.setAttribute("aria-hidden","true"),this):this}},{key:"_dispose",value:function(){var t=this;return this._events.forEach((function(e){var n=e.func,i=e.event;t.reference.removeEventListener(i,n)})),this._events=[],this._tooltipNode&&(this._hide(),this.popperInstance.destroy(),this.popperInstance.options.removeOnDestroy||(this._tooltipNode.parentNode.removeChild(this._tooltipNode),this._tooltipNode=null)),this}},{key:"_findContainer",value:function(t,e){return"string"==typeof t?t=window.document.querySelector(t):!1===t&&(t=e.parentNode),t}},{key:"_append",value:function(t,e){e.appendChild(t)}},{key:"_setEventListeners",value:function(t,e,n){var i=this,r=[],o=[];e.forEach((function(t){switch(t){case"hover":r.push("mouseenter"),o.push("mouseleave");break;case"focus":r.push("focus"),o.push("blur");break;case"click":r.push("click"),o.push("click")}})),r.forEach((function(e){var r=function(e){!0!==i._isOpening&&(e.usedByTooltip=!0,i._scheduleShow(t,n.delay,n,e))};i._events.push({event:e,func:r}),t.addEventListener(e,r)})),o.forEach((function(e){var r=function(e){!0!==e.usedByTooltip&&i._scheduleHide(t,n.delay,n,e)};i._events.push({event:e,func:r}),t.addEventListener(e,r),"click"===e&&n.closeOnClickOutside&&document.addEventListener("mousedown",(function(e){if(i._isOpening){var n=i.popperInstance.popper;t.contains(e.target)||n.contains(e.target)||r(e)}}),!0)}))}},{key:"_scheduleShow",value:function(t,e,n){var i=this;this._isOpening=!0;var r=e&&e.show||e||0;this._showTimeout=window.setTimeout((function(){return i._show(t,n)}),r)}},{key:"_scheduleHide",value:function(t,e,n,i){var r=this;this._isOpening=!1;var o=e&&e.hide||e||0;window.setTimeout((function(){if(window.clearTimeout(r._showTimeout),!1!==r._isOpen&&document.body.contains(r._tooltipNode)){if("mouseleave"===i.type)if(r._setTooltipNodeEvent(i,t,e,n))return;r._hide(t,n)}}),o)}},{key:"_updateTitleContent",value:function(t){if(void 0!==this._tooltipNode){var e=this._tooltipNode.parentNode.querySelector(this.options.innerSelector);this._clearTitleContent(e,this.options.html,this.reference.getAttribute("title")||this.options.title),this._addTitleContent(this.reference,t,this.options.html,e),this.options.title=t,this.popperInstance.update()}else void 0!==this.options.title&&(this.options.title=t)}},{key:"_clearTitleContent",value:function(t,e,n){1===n.nodeType||11===n.nodeType?e&&t.removeChild(n):e?t.innerHTML="":t.textContent=""}}]),s}(),a=function(){var t=this;this.show=function(){return t._show(t.reference,t.options)},this.hide=function(){return t._hide()},this.dispose=function(){return t._dispose()},this.toggle=function(){return t._isOpen?t.hide():t.show()},this.updateTitleContent=function(e){return t._updateTitleContent(e)},this._events=[],this._setTooltipNodeEvent=function(e,n,i,r){var o=e.relatedreference||e.toElement||e.relatedTarget,s=function i(o){var s=o.relatedreference||o.toElement||o.relatedTarget;t._tooltipNode.removeEventListener(e.type,i),n.contains(s)||t._scheduleHide(n,r.delay,r,o)};return!!t._tooltipNode.contains(o)&&(t._tooltipNode.addEventListener(e.type,s),!0)}};return s})),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],(function(t){return e(t)})):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,(function(t){function e(t){this.$container,this.constraints=null,this.__$tooltip,this.__init(t)}function n(e,n){var i=!0;return t.each(e,(function(t){if(void 0===n[t]||e[t]!==n[t])return i=!1,!1})),i}function i(e){var n=e.attr("id"),i=n?a.window.document.getElementById(n):null;return i?i===e[0]:t.contains(a.window.document.body,e[0])}function r(){if(!s)return!1;var t=(s.document.body||s.document.documentElement).style,e="transition",n=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof t[e])return!0;e=e.charAt(0).toUpperCase()+e.substr(1);for(var i=0;i<n.length;i++)if("string"==typeof t[n[i]+e])return!0;return!1}var o={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!1,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},s="undefined"!=typeof window?window:null,a={hasTouchCapability:!(!s||!("ontouchstart"in s||s.DocumentTouch&&s.document instanceof s.DocumentTouch||s.navigator.maxTouchPoints)),hasTransitions:r(),IE:!1,semVer:"4.2.8",window:s},l=function(){this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__instancesLatestArr=[],this.__plugins={},this._env=a};l.prototype={__bridge:function(e,n,i){if(!n[i]){var r=function(){};r.prototype=e;var s=new r;s.__init&&s.__init(n),t.each(e,(function(t){0!=t.indexOf("__")&&(n[t]?o.debug&&console.log("The "+t+" method of the "+i+" plugin conflicts with another plugin or native methods"):(n[t]=function(){return s[t].apply(s,Array.prototype.slice.apply(arguments))},n[t].bridged=s))})),n[i]=s}return this},__setWindow:function(t){return a.window=t,this},_getRuler:function(t){return new e(t)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(e){var n=this;if("string"==typeof e){var i=e,r=null;return i.indexOf(".")>0?r=n.__plugins[i]:t.each(n.__plugins,(function(t,e){if(e.name.substring(e.name.length-i.length-1)=="."+i)return r=e,!1})),r}if(e.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return n.__plugins[e.name]=e,e.core&&n.__bridge(e.core,n,e.name),this},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return"string"==typeof t[0]&&(t[0]={type:t[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},instances:function(e){var n=[];return t(e||".tooltipstered").each((function(){var e=t(this),i=e.data("tooltipster-ns");i&&t.each(i,(function(t,i){n.push(e.data(i))}))})),n},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(e){return t((e?e+" ":"")+".tooltipstered").toArray()},setDefaults:function(e){return t.extend(o,e),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.tooltipster=new l,t.Tooltipster=function(e,n){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(e,n)},t.Tooltipster.prototype={__init:function(e,n){var i=this;if(i._$origin=t(e),i.__options=t.extend(!0,{},o,n),i.__optionsFormat(),!a.IE||a.IE>=i.__options.IEmin){var r=null;if(void 0===i._$origin.data("tooltipster-initialTitle")&&(void 0===(r=i._$origin.attr("title"))&&(r=null),i._$origin.data("tooltipster-initialTitle",r)),null!==i.__options.content)i.__contentSet(i.__options.content);else{var s,l=i._$origin.attr("data-tooltip-content");l&&(s=t(l)),s&&s[0]?i.__contentSet(s.first()):i.__contentSet(r)}i._$origin.removeAttr("title").addClass("tooltipstered"),i.__prepareOrigin(),i.__prepareGC(),t.each(i.__options.plugins,(function(t,e){i._plug(e)})),a.hasTouchCapability&&t(a.window.document.body).on("touchmove."+i.__namespace+"-triggerOpen",(function(t){i._touchRecordEvent(t)})),i._on("created",(function(){i.__prepareTooltip()}))._on("repositioned",(function(t){i.__lastPosition=t.position}))}else i.__options.disabled=!0},__contentInsert:function(){var t=this,e=t._$tooltip.find(".tooltipster-content"),n=t.__Content,i=function(t){n=t};return t._trigger({type:"format",content:t.__Content,format:i}),t.__options.functionFormat&&(n=t.__options.functionFormat.call(t,t,{origin:t._$origin[0]},t.__Content)),"string"!=typeof n||t.__options.contentAsHTML?e.empty().append(n):e.text(n),t},__contentSet:function(e){return e instanceof t&&this.__options.contentCloning&&(e=e.clone(!0)),this.__Content=e,this._trigger({type:"updated",content:e}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var e=this,n=e._$origin,i=e._$origin.is("area");if(i){var r=e._$origin.parent().attr("name");n=t('img[usemap="#'+r+'"]')}var o=n[0].getBoundingClientRect(),s=t(a.window.document),l=t(a.window),c=n,u={available:{document:null,window:null},document:{size:{height:s.height(),width:s.width()}},window:{scroll:{left:a.window.scrollX||a.window.document.documentElement.scrollLeft,top:a.window.scrollY||a.window.document.documentElement.scrollTop},size:{height:l.height(),width:l.width()}},origin:{fixedLineage:!1,offset:{},size:{height:o.bottom-o.top,width:o.right-o.left},usemapImage:i?n[0]:null,windowOffset:{bottom:o.bottom,left:o.left,right:o.right,top:o.top}}};if(i){var d=e._$origin.attr("shape"),h=e._$origin.attr("coords");if(h&&(h=h.split(","),t.map(h,(function(t,e){h[e]=parseInt(t)}))),"default"!=d)switch(d){case"circle":var f=h[0],p=h[1],g=h[2],m=p-g,v=f-g;u.origin.size.height=2*g,u.origin.size.width=u.origin.size.height,u.origin.windowOffset.left+=v,u.origin.windowOffset.top+=m;break;case"rect":var y=h[0],b=h[1],w=h[2],x=h[3];u.origin.size.height=x-b,u.origin.size.width=w-y,u.origin.windowOffset.left+=y,u.origin.windowOffset.top+=b;break;case"poly":for(var C=0,_=0,k=0,S=0,T="even",D=0;D<h.length;D++){var E=h[D];"even"==T?(E>k&&(k=E,0===D&&(C=k)),E<C&&(C=E),T="odd"):(E>S&&(S=E,1==D&&(_=S)),E<_&&(_=E),T="even")}u.origin.size.height=S-_,u.origin.size.width=k-C,u.origin.windowOffset.left+=C,u.origin.windowOffset.top+=_}}var M=function(t){u.origin.size.height=t.height,u.origin.windowOffset.left=t.left,u.origin.windowOffset.top=t.top,u.origin.size.width=t.width};for(e._trigger({type:"geometry",edit:M,geometry:{height:u.origin.size.height,left:u.origin.windowOffset.left,top:u.origin.windowOffset.top,width:u.origin.size.width}}),u.origin.windowOffset.right=u.origin.windowOffset.left+u.origin.size.width,u.origin.windowOffset.bottom=u.origin.windowOffset.top+u.origin.size.height,u.origin.offset.left=u.origin.windowOffset.left+u.window.scroll.left,u.origin.offset.top=u.origin.windowOffset.top+u.window.scroll.top,u.origin.offset.bottom=u.origin.offset.top+u.origin.size.height,u.origin.offset.right=u.origin.offset.left+u.origin.size.width,u.available.document={bottom:{height:u.document.size.height-u.origin.offset.bottom,width:u.document.size.width},left:{height:u.document.size.height,width:u.origin.offset.left},right:{height:u.document.size.height,width:u.document.size.width-u.origin.offset.right},top:{height:u.origin.offset.top,width:u.document.size.width}},u.available.window={bottom:{height:Math.max(u.window.size.height-Math.max(u.origin.windowOffset.bottom,0),0),width:u.window.size.width},left:{height:u.window.size.height,width:Math.max(u.origin.windowOffset.left,0)},right:{height:u.window.size.height,width:Math.max(u.window.size.width-Math.max(u.origin.windowOffset.right,0),0)},top:{height:Math.max(u.origin.windowOffset.top,0),width:u.window.size.width}};"html"!=c[0].tagName.toLowerCase();){if("fixed"==c.css("position")){u.origin.fixedLineage=!0;break}c=c.parent()}return u},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=t(a.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=t(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var e=this;return e.__options.selfDestruction?e.__garbageCollector=setInterval((function(){var n=(new Date).getTime();e.__touchEvents=t.grep(e.__touchEvents,(function(t){return n-t.time>6e4})),i(e._$origin)||e.close((function(){e.destroy()}))}),2e4):clearInterval(e.__garbageCollector),e},__prepareOrigin:function(){var t=this;if(t._$origin.off("."+t.__namespace+"-triggerOpen"),a.hasTouchCapability&&t._$origin.on("touchstart."+t.__namespace+"-triggerOpen touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen",(function(e){t._touchRecordEvent(e)})),t.__options.triggerOpen.click||t.__options.triggerOpen.tap&&a.hasTouchCapability){var e="";t.__options.triggerOpen.click&&(e+="click."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.tap&&a.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen"),t._$origin.on(e,(function(e){t._touchIsMeaningfulEvent(e)&&t._open(e)}))}if(t.__options.triggerOpen.mouseenter||t.__options.triggerOpen.touchstart&&a.hasTouchCapability){e="";t.__options.triggerOpen.mouseenter&&(e+="mouseenter."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.touchstart&&a.hasTouchCapability&&(e+="touchstart."+t.__namespace+"-triggerOpen"),t._$origin.on(e,(function(e){!t._touchIsTouchEvent(e)&&t._touchIsEmulatedEvent(e)||(t.__pointerIsOverOrigin=!0,t._openShortly(e))}))}if(t.__options.triggerClose.mouseleave||t.__options.triggerClose.touchleave&&a.hasTouchCapability){e="";t.__options.triggerClose.mouseleave&&(e+="mouseleave."+t.__namespace+"-triggerOpen "),t.__options.triggerClose.touchleave&&a.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen"),t._$origin.on(e,(function(e){t._touchIsMeaningfulEvent(e)&&(t.__pointerIsOverOrigin=!1)}))}return t},__prepareTooltip:function(){var e=this,n=e.__options.interactive?"auto":"";return e._$tooltip.attr("id",e.__namespace).css({"pointer-events":n,zIndex:e.__options.zIndex}),t.each(e.__previousThemes,(function(t,n){e._$tooltip.removeClass(n)})),t.each(e.__options.theme,(function(t,n){e._$tooltip.addClass(n)})),e.__previousThemes=t.merge([],e.__options.theme),e},__scrollHandler:function(e){var n=this;if(n.__options.triggerClose.scroll)n._close(e);else if(i(n._$origin)&&i(n._$tooltip)){var r=null;if(e.target===a.window.document)n.__Geometry.origin.fixedLineage||n.__options.repositionOnScroll&&n.reposition(e);else{r=n.__geometry();var o=!1;if("fixed"!=n._$origin.css("position")&&n.__$originParents.each((function(e,n){var i=t(n),s=i.css("overflow-x"),a=i.css("overflow-y");if("visible"!=s||"visible"!=a){var l=n.getBoundingClientRect();if("visible"!=s&&(r.origin.windowOffset.left<l.left||r.origin.windowOffset.right>l.right))return o=!0,!1;if("visible"!=a&&(r.origin.windowOffset.top<l.top||r.origin.windowOffset.bottom>l.bottom))return o=!0,!1}if("fixed"==i.css("position"))return!1})),o)n._$tooltip.css("visibility","hidden");else if(n._$tooltip.css("visibility","visible"),n.__options.repositionOnScroll)n.reposition(e);else{var s=r.origin.offset.left-n.__Geometry.origin.offset.left,l=r.origin.offset.top-n.__Geometry.origin.offset.top;n._$tooltip.css({left:n.__lastPosition.coord.left+s,top:n.__lastPosition.coord.top+l})}}n._trigger({type:"scroll",event:e,geo:r})}return n},__stateSet:function(t){return this.__state=t,this._trigger({type:"state",state:t}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,t.each(this.__timeouts.close,(function(t,e){clearTimeout(e)})),this.__timeouts.close=[],this},__trackerStart:function(){var t=this,e=t._$tooltip.find(".tooltipster-content");return t.__options.trackTooltip&&(t.__contentBcr=e[0].getBoundingClientRect()),t.__tracker=setInterval((function(){if(i(t._$origin)&&i(t._$tooltip)){if(t.__options.trackOrigin){var r=t.__geometry(),o=!1;n(r.origin.size,t.__Geometry.origin.size)&&(t.__Geometry.origin.fixedLineage?n(r.origin.windowOffset,t.__Geometry.origin.windowOffset)&&(o=!0):n(r.origin.offset,t.__Geometry.origin.offset)&&(o=!0)),o||(t.__options.triggerClose.mouseleave?t._close():t.reposition())}if(t.__options.trackTooltip){var s=e[0].getBoundingClientRect();s.height===t.__contentBcr.height&&s.width===t.__contentBcr.width||(t.reposition(),t.__contentBcr=s)}}else t._close()}),t.__options.trackerInterval),t},_close:function(e,n,i){var r=this,o=!0;if(r._trigger({type:"close",event:e,stop:function(){o=!1}}),o||i){n&&r.__callbacks.close.push(n),r.__callbacks.open=[],r.__timeoutsClear();var s=function(){t.each(r.__callbacks.close,(function(t,n){n.call(r,r,{event:e,origin:r._$origin[0]})})),r.__callbacks.close=[]};if("closed"!=r.__state){var l=!0,c=(new Date).getTime()+r.__options.animationDuration[1];if("disappearing"==r.__state&&c>r.__closingTime&&r.__options.animationDuration[1]>0&&(l=!1),l){r.__closingTime=c,"disappearing"!=r.__state&&r.__stateSet("disappearing");var u=function(){clearInterval(r.__tracker),r._trigger({type:"closing",event:e}),r._$tooltip.off("."+r.__namespace+"-triggerClose").removeClass("tooltipster-dying"),t(a.window).off("."+r.__namespace+"-triggerClose"),r.__$originParents.each((function(e,n){t(n).off("scroll."+r.__namespace+"-triggerClose")})),r.__$originParents=null,t(a.window.document.body).off("."+r.__namespace+"-triggerClose"),r._$origin.off("."+r.__namespace+"-triggerClose"),r._off("dismissable"),r.__stateSet("closed"),r._trigger({type:"after",event:e}),r.__options.functionAfter&&r.__options.functionAfter.call(r,r,{event:e,origin:r._$origin[0]}),s()};a.hasTransitions?(r._$tooltip.css({"-moz-animation-duration":r.__options.animationDuration[1]+"ms","-ms-animation-duration":r.__options.animationDuration[1]+"ms","-o-animation-duration":r.__options.animationDuration[1]+"ms","-webkit-animation-duration":r.__options.animationDuration[1]+"ms","animation-duration":r.__options.animationDuration[1]+"ms","transition-duration":r.__options.animationDuration[1]+"ms"}),r._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),r.__options.animationDuration[1]>0&&r._$tooltip.delay(r.__options.animationDuration[1]),r._$tooltip.queue(u)):r._$tooltip.stop().fadeOut(r.__options.animationDuration[1],u)}}else s()}return r},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(e,n){var r=this;if(!r.__destroying&&i(r._$origin)&&r.__enabled){var o=!0;if("closed"==r.__state&&(r._trigger({type:"before",event:e,stop:function(){o=!1}}),o&&r.__options.functionBefore&&(o=r.__options.functionBefore.call(r,r,{event:e,origin:r._$origin[0]}))),!1!==o&&null!==r.__Content){n&&r.__callbacks.open.push(n),r.__callbacks.close=[],r.__timeoutsClear();var s,l=function(){"stable"!=r.__state&&r.__stateSet("stable"),t.each(r.__callbacks.open,(function(t,e){e.call(r,r,{origin:r._$origin[0],tooltip:r._$tooltip[0]})})),r.__callbacks.open=[]};if("closed"!==r.__state)s=0,"disappearing"===r.__state?(r.__stateSet("appearing"),a.hasTransitions?(r._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),r.__options.animationDuration[0]>0&&r._$tooltip.delay(r.__options.animationDuration[0]),r._$tooltip.queue(l)):r._$tooltip.stop().fadeIn(l)):"stable"==r.__state&&l();else{if(r.__stateSet("appearing"),s=r.__options.animationDuration[0],r.__contentInsert(),r.reposition(e,!0),a.hasTransitions?(r._$tooltip.addClass("tooltipster-"+r.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":r.__options.animationDuration[0]+"ms","-ms-animation-duration":r.__options.animationDuration[0]+"ms","-o-animation-duration":r.__options.animationDuration[0]+"ms","-webkit-animation-duration":r.__options.animationDuration[0]+"ms","animation-duration":r.__options.animationDuration[0]+"ms","transition-duration":r.__options.animationDuration[0]+"ms"}),setTimeout((function(){"closed"!=r.__state&&(r._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),r.__options.animationDuration[0]>0&&r._$tooltip.delay(r.__options.animationDuration[0]),r._$tooltip.queue(l))}),0)):r._$tooltip.css("display","none").fadeIn(r.__options.animationDuration[0],l),r.__trackerStart(),t(a.window).on("resize."+r.__namespace+"-triggerClose",(function(e){var n=t(document.activeElement);(n.is("input")||n.is("textarea"))&&t.contains(r._$tooltip[0],n[0])||r.reposition(e)})).on("scroll."+r.__namespace+"-triggerClose",(function(t){r.__scrollHandler(t)})),r.__$originParents=r._$origin.parents(),r.__$originParents.each((function(e,n){t(n).on("scroll."+r.__namespace+"-triggerClose",(function(t){r.__scrollHandler(t)}))})),r.__options.triggerClose.mouseleave||r.__options.triggerClose.touchleave&&a.hasTouchCapability){r._on("dismissable",(function(t){t.dismissable?t.delay?(h=setTimeout((function(){r._close(t.event)}),t.delay),r.__timeouts.close.push(h)):r._close(t):clearTimeout(h)}));var c=r._$origin,u="",d="",h=null;r.__options.interactive&&(c=c.add(r._$tooltip)),r.__options.triggerClose.mouseleave&&(u+="mouseenter."+r.__namespace+"-triggerClose ",d+="mouseleave."+r.__namespace+"-triggerClose "),r.__options.triggerClose.touchleave&&a.hasTouchCapability&&(u+="touchstart."+r.__namespace+"-triggerClose",d+="touchend."+r.__namespace+"-triggerClose touchcancel."+r.__namespace+"-triggerClose"),c.on(d,(function(t){if(r._touchIsTouchEvent(t)||!r._touchIsEmulatedEvent(t)){var e="mouseleave"==t.type?r.__options.delay:r.__options.delayTouch;r._trigger({delay:e[1],dismissable:!0,event:t,type:"dismissable"})}})).on(u,(function(t){!r._touchIsTouchEvent(t)&&r._touchIsEmulatedEvent(t)||r._trigger({dismissable:!1,event:t,type:"dismissable"})}))}r.__options.triggerClose.originClick&&r._$origin.on("click."+r.__namespace+"-triggerClose",(function(t){r._touchIsTouchEvent(t)||r._touchIsEmulatedEvent(t)||r._close(t)})),(r.__options.triggerClose.click||r.__options.triggerClose.tap&&a.hasTouchCapability)&&setTimeout((function(){if("closed"!=r.__state){var e="",n=t(a.window.document.body);r.__options.triggerClose.click&&(e+="click."+r.__namespace+"-triggerClose "),r.__options.triggerClose.tap&&a.hasTouchCapability&&(e+="touchend."+r.__namespace+"-triggerClose"),n.on(e,(function(e){r._touchIsMeaningfulEvent(e)&&(r._touchRecordEvent(e),r.__options.interactive&&t.contains(r._$tooltip[0],e.target)||r._close(e))})),r.__options.triggerClose.tap&&a.hasTouchCapability&&n.on("touchstart."+r.__namespace+"-triggerClose",(function(t){r._touchRecordEvent(t)}))}}),0),r._trigger("ready"),r.__options.functionReady&&r.__options.functionReady.call(r,r,{origin:r._$origin[0],tooltip:r._$tooltip[0]})}if(r.__options.timer>0){h=setTimeout((function(){r._close()}),r.__options.timer+s);r.__timeouts.close.push(h)}}}return r},_openShortly:function(t){var e=this,n=!0;if("stable"!=e.__state&&"appearing"!=e.__state&&!e.__timeouts.open&&(e._trigger({type:"start",event:t,stop:function(){n=!1}}),n)){var i=0==t.type.indexOf("touch")?e.__options.delayTouch:e.__options.delay;i[0]?e.__timeouts.open=setTimeout((function(){e.__timeouts.open=null,e.__pointerIsOverOrigin&&e._touchIsMeaningfulEvent(t)?(e._trigger("startend"),e._open(t)):e._trigger("startcancel")}),i[0]):(e._trigger("startend"),e._open(t))}return e},_optionsExtract:function(e,n){var i=this,r=t.extend(!0,{},n),o=i.__options[e];return o||(o={},t.each(n,(function(t){var e=i.__options[t];void 0!==e&&(o[t]=e)}))),t.each(r,(function(e,n){void 0!==o[e]&&("object"!=typeof n||n instanceof Array||null==n||"object"!=typeof o[e]||o[e]instanceof Array||null==o[e]?r[e]=o[e]:t.extend(r[e],o[e]))})),r},_plug:function(e){var n=t.tooltipster._plugin(e);if(!n)throw new Error('The "'+e+'" plugin is not defined');return n.instance&&t.tooltipster.__bridge(n.instance,this,n.name),this},_touchIsEmulatedEvent:function(t){for(var e=!1,n=(new Date).getTime(),i=this.__touchEvents.length-1;i>=0;i--){var r=this.__touchEvents[i];if(!(n-r.time<500))break;r.target===t.target&&(e=!0)}return e},_touchIsMeaningfulEvent:function(t){return this._touchIsTouchEvent(t)&&!this._touchSwiped(t.target)||!this._touchIsTouchEvent(t)&&!this._touchIsEmulatedEvent(t)},_touchIsTouchEvent:function(t){return 0==t.type.indexOf("touch")},_touchRecordEvent:function(t){return this._touchIsTouchEvent(t)&&(t.time=(new Date).getTime(),this.__touchEvents.push(t)),this},_touchSwiped:function(t){for(var e=!1,n=this.__touchEvents.length-1;n>=0;n--){var i=this.__touchEvents[n];if("touchmove"==i.type){e=!0;break}if("touchstart"==i.type&&t===i.target)break}return e},_trigger:function(){var e=Array.prototype.slice.apply(arguments);return"string"==typeof e[0]&&(e[0]={type:e[0]}),e[0].instance=this,e[0].origin=this._$origin?this._$origin[0]:null,e[0].tooltip=this._$tooltip?this._$tooltip[0]:null,
this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,e),t.tooltipster._trigger.apply(t.tooltipster,e),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,e),this},_unplug:function(e){var n=this;if(n[e]){var i=t.tooltipster._plugin(e);i.instance&&t.each(i.instance,(function(t){n[t]&&n[t].bridged===n[e]&&delete n[t]})),n[e].__destroy&&n[e].__destroy(),delete n[e]}return n},close:function(t){return this.__destroyed?this.__destroyError():this._close(null,t),this},content:function(t){var e=this;if(void 0===t)return e.__Content;if(e.__destroyed)e.__destroyError();else if(e.__contentSet(t),null!==e.__Content){if("closed"!==e.__state&&(e.__contentInsert(),e.reposition(),e.__options.updateAnimation))if(a.hasTransitions){var n=e.__options.updateAnimation;e._$tooltip.addClass("tooltipster-update-"+n),setTimeout((function(){"closed"!=e.__state&&e._$tooltip.removeClass("tooltipster-update-"+n)}),1e3)}else e._$tooltip.fadeTo(200,.5,(function(){"closed"!=e.__state&&e._$tooltip.fadeTo(200,1)}))}else e._close();return e},destroy:function(){var e=this;if(e.__destroyed)e.__destroyError();else{"closed"!=e.__state?e.option("animationDuration",0)._close(null,null,!0):e.__timeoutsClear(),e._trigger("destroy"),e.__destroyed=!0,e._$origin.removeData(e.__namespace).off("."+e.__namespace+"-triggerOpen"),t(a.window.document.body).off("."+e.__namespace+"-triggerOpen");var n=e._$origin.data("tooltipster-ns");if(n)if(1===n.length){var i=null;"previous"==e.__options.restoration?i=e._$origin.data("tooltipster-initialTitle"):"current"==e.__options.restoration&&(i="string"==typeof e.__Content?e.__Content:t("<div></div>").append(e.__Content).html()),i&&e._$origin.attr("title",i),e._$origin.removeClass("tooltipstered"),e._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else n=t.grep(n,(function(t){return t!==e.__namespace})),e._$origin.data("tooltipster-ns",n);e._trigger("destroyed"),e._off(),e.off(),e.__Content=null,e.__$emitterPrivate=null,e.__$emitterPublic=null,e.__options.parent=null,e._$origin=null,e._$tooltip=null,t.tooltipster.__instancesLatestArr=t.grep(t.tooltipster.__instancesLatestArr,(function(t){return e!==t})),clearInterval(e.__garbageCollector)}return e},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){if(!this.__destroyed)return this._$origin[0];this.__destroyError()},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(t){return this.close(t)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(t){return this.__destroyed?this.__destroyError():this._open(null,t),this},option:function(e,n){return void 0===n?this.__options[e]:(this.__destroyed?this.__destroyError():(this.__options[e]=n,this.__optionsFormat(),t.inArray(e,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),"selfDestruction"===e&&this.__prepareGC()),this)},reposition:function(t,e){var n=this;return n.__destroyed?n.__destroyError():"closed"!=n.__state&&i(n._$origin)&&(e||i(n._$tooltip))&&(e||n._$tooltip.detach(),n.__Geometry=n.__geometry(),n._trigger({type:"reposition",event:t,helper:{geo:n.__Geometry}})),n},show:function(t){return this.open(t)},status:function(){return{destroyed:this.__destroyed,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.fn.tooltipster=function(){var e=Array.prototype.slice.apply(arguments),n="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(0===this.length)return this;if("string"==typeof e[0]){var i="#*$~&";return this.each((function(){var r=t(this).data("tooltipster-ns"),o=r?t(this).data(r[0]):null;if(!o)throw new Error("You called Tooltipster's \""+e[0]+'" method on an uninitialized element');if("function"!=typeof o[e[0]])throw new Error('Unknown method "'+e[0]+'"');this.length>1&&"content"==e[0]&&(e[1]instanceof t||"object"==typeof e[1]&&null!=e[1]&&e[1].tagName)&&!o.__options.contentCloning&&o.__options.debug&&console.log(n);var s=o[e[0]](e[1],e[2]);if(s!==o||"instance"===e[0])return i=s,!1})),"#*$~&"!==i?i:this}t.tooltipster.__instancesLatestArr=[];var r=e[0]&&void 0!==e[0].multiple,s=r&&e[0].multiple||!r&&o.multiple,a=e[0]&&void 0!==e[0].content,l=a&&e[0].content||!a&&o.content,c=e[0]&&void 0!==e[0].contentCloning,u=c&&e[0].contentCloning||!c&&o.contentCloning,d=e[0]&&void 0!==e[0].debug,h=d&&e[0].debug||!d&&o.debug;return this.length>1&&(l instanceof t||"object"==typeof l&&null!=l&&l.tagName)&&!u&&h&&console.log(n),this.each((function(){var n=!1,i=t(this),r=i.data("tooltipster-ns"),o=null;r?s?n=!0:h&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):n=!0,n&&(o=new t.Tooltipster(this,e[0]),r||(r=[]),r.push(o.__namespace),i.data("tooltipster-ns",r),i.data(o.__namespace,o),o.__options.functionInit&&o.__options.functionInit.call(o,o,{origin:this}),o._trigger("init")),t.tooltipster.__instancesLatestArr.push(o)})),this},e.prototype={__init:function(e){this.__$tooltip=e,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=t('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo(a.window.document.body)},__forceRedraw:function(){var t=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(t)},constrain:function(t,e){return this.constraints={width:t,height:e},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:t}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var t=this.__$tooltip[0].getBoundingClientRect(),e={size:{height:t.height||t.bottom-t.top,width:t.width||t.right-t.left}};if(this.constraints){var n=this.__$tooltip.find(".tooltipster-content"),i=this.__$tooltip.outerHeight(),r=n[0].getBoundingClientRect(),o={height:i<=this.constraints.height,width:t.width<=this.constraints.width&&r.width>=n[0].scrollWidth-1};e.fits=o.height&&o.width}return a.IE&&a.IE<=11&&e.size.width!==a.window.document.documentElement.clientWidth&&(e.size.width=Math.ceil(e.size.width)+1),e}};var c=navigator.userAgent.toLowerCase();-1!=c.indexOf("msie")?a.IE=parseInt(c.split("msie")[1]):-1!==c.toLowerCase().indexOf("trident")&&-1!==c.indexOf(" rv:11")?a.IE=11:-1!=c.toLowerCase().indexOf("edge/")&&(a.IE=parseInt(c.toLowerCase().split("edge/")[1]));var u="tooltipster.sideTip";return t.tooltipster._plugin({name:u,instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(t){var e=this;e.__instance=t,e.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),e.__previousState="closed",e.__options,e.__optionsFormat(),e.__instance._on("state."+e.__namespace,(function(t){"closed"==t.state?e.__close():"appearing"==t.state&&"closed"==e.__previousState&&e.__create(),e.__previousState=t.state})),e.__instance._on("options."+e.__namespace,(function(){e.__optionsFormat()})),e.__instance._on("reposition."+e.__namespace,(function(t){e.__reposition(t.event,t.helper)}))},__close:function(){this.__instance.content()instanceof t&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var e=t('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||e.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&e.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&e.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=e,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){var e=this;if(e.__options=e.__instance._optionsExtract(u,e.__defaults()),e.__options.position&&(e.__options.side=e.__options.position),"object"!=typeof e.__options.distance&&(e.__options.distance=[e.__options.distance]),e.__options.distance.length<4&&(void 0===e.__options.distance[1]&&(e.__options.distance[1]=e.__options.distance[0]),void 0===e.__options.distance[2]&&(e.__options.distance[2]=e.__options.distance[0]),void 0===e.__options.distance[3]&&(e.__options.distance[3]=e.__options.distance[1])),e.__options.distance={top:e.__options.distance[0],right:e.__options.distance[1],bottom:e.__options.distance[2],left:e.__options.distance[3]},"string"==typeof e.__options.side){var n={top:"bottom",right:"left",bottom:"top",left:"right"};e.__options.side=[e.__options.side,n[e.__options.side]],"left"==e.__options.side[0]||"right"==e.__options.side[0]?e.__options.side.push("top","bottom"):e.__options.side.push("right","left")}6===t.tooltipster._env.IE&&!0!==e.__options.arrow&&(e.__options.arrow=!1)},__reposition:function(e,n){var i,r=this,o=r.__targetFind(n),s=[];r.__instance._$tooltip.detach();var a=r.__instance._$tooltip.clone(),l=t.tooltipster._getRuler(a),c=!1,u=r.__instance.option("animation");switch(u&&a.removeClass("tooltipster-"+u),t.each(["window","document"],(function(i,u){var d=null;if(r.__instance._trigger({container:u,helper:n,satisfied:c,takeTest:function(t){d=t},results:s,type:"positionTest"}),1==d||0!=d&&0==c&&("window"!=u||r.__options.viewportAware))for(i=0;i<r.__options.side.length;i++){var h={horizontal:0,vertical:0},f=r.__options.side[i];"top"==f||"bottom"==f?h.vertical=r.__options.distance[f]:h.horizontal=r.__options.distance[f],r.__sideChange(a,f),t.each(["natural","constrained"],(function(t,i){if(d=null,r.__instance._trigger({container:u,event:e,helper:n,mode:i,results:s,satisfied:c,side:f,takeTest:function(t){d=t},type:"positionTest"}),1==d||0!=d&&0==c){var a={container:u,distance:h,fits:null,mode:i,outerSize:null,side:f,size:null,target:o[f],whole:null},p=("natural"==i?l.free():l.constrain(n.geo.available[u][f].width-h.horizontal,n.geo.available[u][f].height-h.vertical)).measure();if(a.size=p.size,a.outerSize={height:p.size.height+h.vertical,width:p.size.width+h.horizontal},"natural"==i?n.geo.available[u][f].width>=a.outerSize.width&&n.geo.available[u][f].height>=a.outerSize.height?a.fits=!0:a.fits=!1:a.fits=p.fits,"window"==u&&(a.fits?a.whole="top"==f||"bottom"==f?n.geo.origin.windowOffset.right>=r.__options.minIntersection&&n.geo.window.size.width-n.geo.origin.windowOffset.left>=r.__options.minIntersection:n.geo.origin.windowOffset.bottom>=r.__options.minIntersection&&n.geo.window.size.height-n.geo.origin.windowOffset.top>=r.__options.minIntersection:a.whole=!1),s.push(a),a.whole)c=!0;else if("natural"==a.mode&&(a.fits||a.size.width<=n.geo.available[u][f].width))return!1}}))}})),r.__instance._trigger({edit:function(t){s=t},event:e,helper:n,results:s,type:"positionTested"}),s.sort((function(t,e){return t.whole&&!e.whole?-1:!t.whole&&e.whole?1:t.whole&&e.whole?(n=r.__options.side.indexOf(t.side))<(i=r.__options.side.indexOf(e.side))?-1:n>i?1:"natural"==t.mode?-1:1:t.fits&&!e.fits?-1:!t.fits&&e.fits?1:t.fits&&e.fits?(n=r.__options.side.indexOf(t.side))<(i=r.__options.side.indexOf(e.side))?-1:n>i?1:"natural"==t.mode?-1:1:"document"==t.container&&"bottom"==t.side&&"natural"==t.mode?-1:1;var n,i})),(i=s[0]).coord={},i.side){case"left":case"right":i.coord.top=Math.floor(i.target-i.size.height/2);break;case"bottom":case"top":i.coord.left=Math.floor(i.target-i.size.width/2)}switch(i.side){case"left":i.coord.left=n.geo.origin.windowOffset.left-i.outerSize.width;break;case"right":i.coord.left=n.geo.origin.windowOffset.right+i.distance.horizontal;break;case"top":i.coord.top=n.geo.origin.windowOffset.top-i.outerSize.height;break;case"bottom":i.coord.top=n.geo.origin.windowOffset.bottom+i.distance.vertical}"window"==i.container?"top"==i.side||"bottom"==i.side?i.coord.left<0?n.geo.origin.windowOffset.right-this.__options.minIntersection>=0?i.coord.left=0:i.coord.left=n.geo.origin.windowOffset.right-this.__options.minIntersection-1:i.coord.left>n.geo.window.size.width-i.size.width&&(n.geo.origin.windowOffset.left+this.__options.minIntersection<=n.geo.window.size.width?i.coord.left=n.geo.window.size.width-i.size.width:i.coord.left=n.geo.origin.windowOffset.left+this.__options.minIntersection+1-i.size.width):i.coord.top<0?n.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?i.coord.top=0:i.coord.top=n.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:i.coord.top>n.geo.window.size.height-i.size.height&&(n.geo.origin.windowOffset.top+this.__options.minIntersection<=n.geo.window.size.height?i.coord.top=n.geo.window.size.height-i.size.height:i.coord.top=n.geo.origin.windowOffset.top+this.__options.minIntersection+1-i.size.height):(i.coord.left>n.geo.window.size.width-i.size.width&&(i.coord.left=n.geo.window.size.width-i.size.width),i.coord.left<0&&(i.coord.left=0)),r.__sideChange(a,i.side),n.tooltipClone=a[0],n.tooltipParent=r.__instance.option("parent").parent[0],n.mode=i.mode,n.whole=i.whole,n.origin=r.__instance._$origin[0],n.tooltip=r.__instance._$tooltip[0],delete i.container,delete i.fits,delete i.mode,delete i.outerSize,delete i.whole,i.distance=i.distance.horizontal||i.distance.vertical;var d,h,f,p=t.extend(!0,{},i);if(r.__instance._trigger({edit:function(t){i=t},event:e,helper:n,position:p,type:"position"}),r.__options.functionPosition){var g=r.__options.functionPosition.call(r,r.__instance,n,p);g&&(i=g)}l.destroy(),"top"==i.side||"bottom"==i.side?(d={prop:"left",val:i.target-i.coord.left},h=i.size.width-this.__options.minIntersection):(d={prop:"top",val:i.target-i.coord.top},h=i.size.height-this.__options.minIntersection),d.val<this.__options.minIntersection?d.val=this.__options.minIntersection:d.val>h&&(d.val=h),f=n.geo.origin.fixedLineage?n.geo.origin.windowOffset:{left:n.geo.origin.windowOffset.left+n.geo.window.scroll.left,top:n.geo.origin.windowOffset.top+n.geo.window.scroll.top},i.coord={left:f.left+(i.coord.left-n.geo.origin.windowOffset.left),top:f.top+(i.coord.top-n.geo.origin.windowOffset.top)},r.__sideChange(r.__instance._$tooltip,i.side),n.geo.origin.fixedLineage?r.__instance._$tooltip.css("position","fixed"):r.__instance._$tooltip.css("position",""),r.__instance._$tooltip.css({left:i.coord.left,top:i.coord.top,height:i.size.height,width:i.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(d.prop,d.val),r.__instance._$tooltip.appendTo(r.__instance.option("parent")),r.__instance._trigger({type:"repositioned",event:e,position:i})},__sideChange:function(t,e){t.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+e)},__targetFind:function(t){var e={},n=this.__instance._$origin[0].getClientRects();n.length>1&&(1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),n=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1)));if(n.length<2)e.top=Math.floor(t.geo.origin.windowOffset.left+t.geo.origin.size.width/2),e.bottom=e.top,e.left=Math.floor(t.geo.origin.windowOffset.top+t.geo.origin.size.height/2),e.right=e.left;else{var i=n[0];e.top=Math.floor(i.left+(i.right-i.left)/2),i=n.length>2?n[Math.ceil(n.length/2)-1]:n[0],e.right=Math.floor(i.top+(i.bottom-i.top)/2),i=n[n.length-1],e.bottom=Math.floor(i.left+(i.right-i.left)/2),i=n.length>2?n[Math.ceil((n.length+1)/2)-1]:n[n.length-1],e.left=Math.floor(i.top+(i.bottom-i.top)/2)}return e}}}),t}));var TouchScroll=function(){"use strict";return{axis:"x",drag:!1,zoom:1,time:.04,isIE:window.navigator.userAgent.toLowerCase().indexOf("msie")>-1,isFirefox:window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,init:function(t){var e=this;this.options=t,t&&t.id&&(this.el=document.getElementById(t.id)),this.el||(this.isIE||this.isFirefox?this.el=document.documentElement:this.el=document.body),!0===t.draggable&&(this.isIE&&(document.ondragstart=function(){return!1}),this.isIE||this.isFirefox?this.body=document.documentElement:this.body=document.body,this.addEvent("mousedown",this.el,(function(t){e.onMouseDown(t)})),this.addEvent("mousemove",this.el,(function(t){e.onMouseMove(t)})),this.addEvent("mouseup",this.body,(function(t){e.onMouseUp(t)})),this.addEvent("dragend",this.body,(function(t){e.onMouseUp(t)}))),t&&t.zoom&&(this.elzoom=document.getElementById(t.zoom),this.isFirefox?this.addEvent("DOMMouseScroll",this.el,(function(t){e.onMouseWheel(t)})):this.addEvent("mousewheel",this.el,(function(t){e.onMouseWheel(t)}))),t&&t.prev&&(this.prev=document.getElementById(t.prev),this.addEvent("mousedown",this.prev,(function(t){e.onMouseDown(t)})),this.addEvent("mouseup",this.prev,(function(n){e.diffx=t.distance?-t.distance/11:-11,e.onMouseUp(n)}))),t&&t.next&&(this.next=document.getElementById(t.next),this.addEvent("mousedown",this.next,(function(t){e.onMouseDown(t)})),this.addEvent("mouseup",this.next,(function(n){e.diffx=t.distance?t.distance/11:11,e.onMouseUp(n)})))},addEvent:function(t,e,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e[t]=n},cancelEvent:function(t){t||(t=window.event),t.target&&"IMG"===t.target.nodeName?t.preventDefault():t.srcElement&&"IMG"===t.srcElement.nodeName&&(t.returnValue=!1)},onMouseDown:function(t){!1!==this.drag&&!1!==this.options.wait||(this.drag=!0,this.cancelEvent(t),this.startx=t.clientX+this.el.scrollLeft,this.starty=t.clientY+this.el.scrollTop,this.diffx=0,this.diffy=0)},onMouseMove:function(t){!0===this.drag&&(this.cancelEvent(t),this.diffx=this.startx-(t.clientX+this.el.scrollLeft),this.diffy=this.starty-(t.clientY+this.el.scrollTop),this.el.scrollLeft+=this.diffx,this.el.scrollTop+=this.diffy)},onMouseUp:function(t){if(!0===this.drag){this.options.wait||(this.drag=null),this.cancelEvent(t);var e=this,n=1,i=function(){var t=Math.sin(n);t<=0?(e.diffx=0,e.diffy=0,window.cancelAnimationFrame(i),e.drag=!1):(e.el.scrollLeft+=e.diffx*t,e.el.scrollTop+=e.diffy*t,n-=e.time,window.requestAnimationFrame(i))};i()}},onMouseWheel:function(t){this.cancelEvent(t),t.detail?this.zoom-=t.detail:this.zoom+=t.wheelDelta/1200,this.zoom<1?this.zoom=1:this.zoom>10&&(this.zoom=10),this.elzoom.style.zoom=100*this.zoom+"%"}}};(function(){this.auto_trip=function(t,e){null==e&&(e={}),$.post("/trips",e,(function(e){if((e=$.parseJSON(e)).trip_id)return $(t).val(e.trip_id)}))},this.clear_trip_highlight=function(){$(".booking-event.glowwarning").removeClass("glowwarning")},this.highlight_trip_bookings=function(t){$(".booking-event"+t).addClass("glowwarning")}}).call(this),function(t,e){var n,i;"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("underscore",e):(t=t||self,n=t._,(i=t._=e()).noConflict=function(){return t._=n,i})}(this,(function(){function t(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i);case 2:return t.call(this,arguments[0],arguments[1],i)}var o=Array(e+1);for(r=0;r<e;r++)o[r]=arguments[r];return o[e]=i,t.apply(this,o)}}function e(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function n(t){return!0===t||!1===t||"[object Boolean]"===ft.call(t)}function i(t){return function(e){return ft.call(e)==="[object "+t+"]"}}function r(t,e){return null!=t&&pt.call(t,e)}function o(t){return Tt(t)&&wt(t)}function s(t){return function(){return t}}function a(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=kt}}function l(t){return function(e){return null==e?void 0:e[t]}}function c(t,e){e=function(t){for(var e={},n=t.length,i=0;i<n;++i)e[t[i]]=!0;return{contains:function(t){return e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=_t.length,i=t.constructor,o=Bt(i)&&i.prototype||ct,s="constructor";for(r(t,s)&&!e.contains(s)&&e.push(s);n--;)(s=_t[n])in t&&t[s]!==o[s]&&!e.contains(s)&&e.push(s)}function u(t){if(!e(t))return[];if(vt)return vt(t);var n=[];for(var i in t)r(t,i)&&n.push(i);return Ct&&c(t,n),n}function d(t,e){var n=u(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0}function h(t){return t instanceof h?t:this instanceof h?void(this._wrapped=t):new h(t)}function f(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"===o||"object"===o||"object"==typeof e)&&function t(e,n,i,o){e instanceof h&&(e=e._wrapped),n instanceof h&&(n=n._wrapped);var s=ft.call(e);if(s!==ft.call(n))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return ut.valueOf.call(e)===ut.valueOf.call(n);case"[object ArrayBuffer]":return t(new DataView(e),new DataView(n),i,o);case"[object DataView]":var a=Wt(e);if(a!==Wt(n))return!1;for(;a--;)if(e.getUint8(a)!==n.getUint8(a))return!1;return!0}if(Vt(e))return t(new DataView(e.buffer),new DataView(n.buffer),i,o);var l="[object Array]"===s;if(!l){if("object"!=typeof e||"object"!=typeof n)return!1;var c=e.constructor,d=n.constructor;if(c!==d&&!(Bt(c)&&c instanceof c&&Bt(d)&&d instanceof d)&&"constructor"in e&&"constructor"in n)return!1}o=o||[];for(var p=(i=i||[]).length;p--;)if(i[p]===e)return o[p]===n;if(i.push(e),o.push(n),l){if((p=e.length)!==n.length)return!1;for(;p--;)if(!f(e[p],n[p],i,o))return!1}else{var g,m=u(e);if(p=m.length,u(n).length!==p)return!1;for(;p--;)if(!r(n,g=m[p])||!f(e[g],n[g],i,o))return!1}return i.pop(),o.pop(),!0}(t,e,n,i)}function p(t){if(!e(t))return[];var n=[];for(var i in t)n.push(i);return Ct&&c(t,n),n}function g(t){for(var e=u(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i}function m(t){for(var e={},n=u(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e}function v(t){var e=[];for(var n in t)Bt(t[n])&&e.push(n);return e.sort()}function y(t,e){return function(n){var i=arguments.length;if(e&&(n=Object(n)),i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=t(o),a=s.length,l=0;l<a;l++){var c=s[l];e&&void 0!==n[c]||(n[c]=o[c])}return n}}function b(t){if(!e(t))return{};if(yt)return yt(t);var n=function(){};n.prototype=t;var i=new n;return n.prototype=null,i}function w(t){return e(t)?Ht(t)?t.slice():Xt({},t):t}function x(t){return t}function C(t){return t=Qt({},t),function(e){return d(e,t)}}function _(t,e){for(var n=e.length,i=0;i<n;i++){if(null==t)return;t=t[e[i]]}return n?t:void 0}function k(t){return Ht(t)?function(e){return _(e,t)}:l(t)}function S(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}}function T(t,n,i){return null==t?x:Bt(t)?S(t,n,i):e(t)&&!Ht(t)?C(t):k(t)}function D(t,e){return T(t,e,1/0)}function E(t,e,n){return h.iteratee!==D?h.iteratee(t,e):T(t,e,n)}function M(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}function A(t){var e=function(e){return t[e]},n="(?:"+u(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}}function O(t){return"\\"+re[t]}function P(t,n,i,r,o){if(!(r instanceof n))return t.apply(i,o);var s=b(t.prototype),a=t.apply(s,o);return e(a)?a:s}function L(t,e,n,i){if(i=i||[],e||0===e){if(e<=0)return i.concat(t)}else e=1/0;for(var r=i.length,o=0,s=Ut(t);o<s;o++){var a=t[o];if(Gt(a)&&(Ht(a)||Rt(a)))if(e>1)L(a,e-1,n,i),r=i.length;else for(var l=0,c=a.length;l<c;)i[r++]=a[l++];else n||(i[r++]=a)}return i}function I(t){return function(){return!t.apply(this,arguments)}}function $(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}function F(t,e,n){e=E(e,n);for(var i,r=u(t),o=0,s=r.length;o<s;o++)if(e(t[i=r[o]],i,t))return i}function H(t){return function(e,n,i){n=E(n,i);for(var r=Ut(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}}function N(t,e,n,i){for(var r=(n=E(n,i,1))(e),o=0,s=Ut(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o}function z(t,e,n){return function(i,r,s){var a=0,l=Ut(i);if("number"==typeof s)t>0?a=s>=0?s:Math.max(s+l,a):l=s>=0?Math.min(s+1,l):s+l+1;else if(n&&s&&l)return i[s=n(i,r)]===r?s:-1;if(r!=r)return(s=e(ht.call(i,a,l),o))>=0?s+a:-1;for(s=t>0?a:l-1;s>=0&&s<l;s+=t)if(i[s]===r)return s;return-1}}function B(t,e,n){var i=(Gt(t)?fe:F)(t,e,n);if(void 0!==i&&-1!==i)return t[i]}function j(t,e,n){var i,r;if(e=S(e,n),Gt(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=u(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t}function R(t,e,n){e=E(e,n);for(var i=!Gt(t)&&u(t),r=(i||t).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o}function W(t){var e=function(e,n,i,r){var o=!Gt(e)&&u(e),s=(o||e).length,a=t>0?0:s-1;for(r||(i=e[o?o[a]:a],a+=t);a>=0&&a<s;a+=t){var l=o?o[a]:a;i=n(i,e[l],l,e)}return i};return function(t,n,i,r){var o=arguments.length>=3;return e(t,S(n,r,4),i,o)}}function Y(t,e,n){var i=[];return e=E(e,n),j(t,(function(t,n,r){e(t,n,r)&&i.push(t)})),i}function q(t,e,n){e=E(e,n);for(var i=!Gt(t)&&u(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0}function V(t,e,n){e=E(e,n);for(var i=!Gt(t)&&u(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1}function U(t,e,n,i){return Gt(t)||(t=g(t)),("number"!=typeof n||i)&&(n=0),ge(t,e,n)>=0}function G(t,e){return R(t,k(e))}function X(t,e,n){var i,r,o=-1/0,s=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,l=(t=Gt(t)?t:g(t)).length;a<l;a++)null!=(i=t[a])&&i>o&&(o=i);else e=E(e,n),j(t,(function(t,n,i){((r=e(t,n,i))>s||r===-1/0&&o===-1/0)&&(o=t,s=r)}));return o}function Q(t,e,n){if(null==e||n)return Gt(t)||(t=g(t)),t[M(t.length-1)];var i=Gt(t)?w(t):g(t),r=Ut(i);e=Math.max(Math.min(e,r),0);for(var o=r-1,s=0;s<e;s++){var a=M(s,o),l=i[s];i[s]=i[a],i[a]=l}return i.slice(0,e)}function K(t,e){return function(n,i,r){var o=e?[[],[]]:{};return i=E(i,r),j(n,(function(e,r){var s=i(e,r,n);t(o,e,s)})),o}}function Z(t,e,n){return e in n}function J(t,e,n){return ht.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function tt(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:J(t,t.length-e)}function et(t,e,n){return ht.call(t,null==e||n?1:e)}function nt(t,e,i,r){n(e)||(r=i,i=e,e=!1),null!=i&&(i=E(i,r));for(var o=[],s=[],a=0,l=Ut(t);a<l;a++){var c=t[a],u=i?i(c,a,t):c;e&&!i?(a&&s===u||o.push(c),s=u):i?U(s,u)||(s.push(u),o.push(c)):U(o,c)||o.push(c)}return o}function it(t){for(var e=t&&X(t,Ut).length||0,n=Array(e),i=0;i<e;i++)n[i]=G(t,i);return n}function rt(t,e){return t._chain?h(e).chain():e}function ot(t){return j(v(t),(function(e){var n=h[e]=t[e];h.prototype[e]=function(){var t=[this._wrapped];return dt.apply(t,arguments),rt(this,n.apply(h,t))}})),h}var st="1.11.0",at="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},lt=Array.prototype,ct=Object.prototype,ut="undefined"!=typeof Symbol?Symbol.prototype:null,dt=lt.push,ht=lt.slice,ft=ct.toString,pt=ct.hasOwnProperty,gt="undefined"!=typeof ArrayBuffer,mt=Array.isArray,vt=Object.keys,yt=Object.create,bt=gt&&ArrayBuffer.isView,wt=isNaN,xt=isFinite,Ct=!{toString:null}.propertyIsEnumerable("toString"),_t=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],kt=Math.pow(2,53)-1,St=i("String"),Tt=i("Number"),Dt=i("Date"),Et=i("RegExp"),Mt=i("Error"),At=i("Symbol"),Ot=i("Map"),Pt=i("WeakMap"),Lt=i("Set"),It=i("WeakSet"),$t=i("ArrayBuffer"),Ft=i("DataView"),Ht=mt||i("Array"),Nt=i("Function"),zt=at.document&&at.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof zt&&(Nt=function(t){return"function"==typeof t||!1});var Bt=Nt,jt=i("Arguments");!function(){jt(arguments)||(jt=function(t){return r(t,"callee")})}();var Rt=jt,Wt=l("byteLength"),Yt=a(Wt),qt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,Vt=gt?function(t){return bt?bt(t)&&!Ft(t):Yt(t)&&qt.test(ft.call(t))}:s(!1),Ut=l("length"),Gt=a(Ut);h.VERSION=st,h.prototype.value=function(){return this._wrapped},h.prototype.valueOf=h.prototype.toJSON=h.prototype.value,h.prototype.toString=function(){return String(this._wrapped)};var Xt=y(p),Qt=y(u),Kt=y(p,!0);h.iteratee=D;var Zt=Date.now||function(){return(new Date).getTime()},Jt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},te=A(Jt),ee=A(m(Jt)),ne=h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},ie=/(.)^/,re={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},oe=/\\|'|\r|\n|\u2028|\u2029/g,se=0,ae=t((function(t,e){var n=ae.placeholder,i=function(){for(var r=0,o=e.length,s=Array(o),a=0;a<o;a++)s[a]=e[a]===n?arguments[r++]:e[a];for(;r<arguments.length;)s.push(arguments[r++]);return P(t,i,this,this,s)};return i}));ae.placeholder=h;var le=t((function(e,n,i){if(!Bt(e))throw new TypeError("Bind must be called on a function");var r=t((function(t){return P(e,r,n,this,i.concat(t))}));return r})),ce=t((function(t,e){var n=(e=L(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=e[n];t[i]=le(t[i],t)}return t})),ue=t((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),de=ae(ue,h,1),he=ae($,2),fe=H(1),pe=H(-1),ge=z(1,fe,N),me=z(-1,pe),ve=W(1),ye=W(-1),be=t((function(t,e,n){var i,r;return Bt(e)?r=e:Ht(e)&&(i=e.slice(0,-1),e=e[e.length-1]),R(t,(function(t){var o=r;if(!o){if(i&&i.length&&(t=_(t,i)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)}))})),we=K((function(t,e,n){r(t,n)?t[n].push(e):t[n]=[e]})),xe=K((function(t,e,n){t[n]=e})),Ce=K((function(t,e,n){r(t,n)?t[n]++:t[n]=1})),_e=K((function(t,e,n){t[n?0:1].push(e)}),!0),ke=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,Se=t((function(t,e){var n={},i=e[0];if(null==t)return n;Bt(i)?(e.length>1&&(i=S(i,e[1])),e=p(t)):(i=Z,e=L(e,!1,!1),t=Object(t));for(var r=0,o=e.length;r<o;r++){var s=e[r],a=t[s];i(a,s,t)&&(n[s]=a)}return n})),Te=t((function(t,e){var n,i=e[0];return Bt(i)?(i=I(i),e.length>1&&(n=e[1])):(e=R(L(e,!1,!1),String),i=function(t,n){return!U(e,n)}),Se(t,i,n)})),De=t((function(t,e){return e=L(e,!0,!0),Y(t,(function(t){return!U(e,t)}))})),Ee=t((function(t,e){return De(t,e)})),Me=t((function(t){return nt(L(t,!0,!0))})),Ae=t(it);j(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=lt[t];h.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),rt(this,n)}})),j(["concat","join","slice"],(function(t){var e=lt[t];h.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),rt(this,t)}}));var Oe=ot({__proto__:null,VERSION:st,restArguments:t,isObject:e,isNull:function(t){return null===t},isUndefined:function(t){return void 0===t},isBoolean:n,isElement:function(t){return!(!t||1!==t.nodeType)},isString:St,isNumber:Tt,isDate:Dt,isRegExp:Et,isError:Mt,isSymbol:At,isMap:Ot,isWeakMap:Pt,isSet:Lt,isWeakSet:It,isArrayBuffer:$t,isDataView:Ft,isArray:Ht,isFunction:Bt,isArguments:Rt,isFinite:function(t){return!At(t)&&xt(t)&&!isNaN(parseFloat(t))},isNaN:o,isTypedArray:Vt,isEmpty:function(t){return null==t||(Gt(t)&&(Ht(t)||St(t)||Rt(t))?0===t.length:0===u(t).length)},isMatch:d,isEqual:function(t,e){return f(t,e)},keys:u,allKeys:p,values:g,
pairs:function(t){for(var e=u(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},invert:m,functions:v,methods:v,extend:Xt,extendOwn:Qt,assign:Qt,defaults:Kt,create:function(t,e){var n=b(t);return e&&Qt(n,e),n},clone:w,tap:function(t,e){return e(t),t},has:function(t,e){if(!Ht(e))return r(t,e);for(var n=e.length,i=0;i<n;i++){var o=e[i];if(null==t||!pt.call(t,o))return!1;t=t[o]}return!!n},mapObject:function(t,e,n){e=E(e,n);for(var i=u(t),r=i.length,o={},s=0;s<r;s++){var a=i[s];o[a]=e(t[a],a,t)}return o},identity:x,constant:s,noop:function(){},property:k,propertyOf:function(t){return null==t?function(){}:function(e){return Ht(e)?_(t,e):t[e]}},matcher:C,matches:C,times:function(t,e,n){var i=Array(Math.max(0,t));e=S(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},random:M,now:Zt,escape:te,unescape:ee,templateSettings:ne,template:function(t,e,n){!e&&n&&(e=n),e=Kt({},e,h.templateSettings);var i,r=RegExp([(e.escape||ie).source,(e.interpolate||ie).source,(e.evaluate||ie).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(r,(function(e,n,i,r,a){return s+=t.slice(o,a).replace(oe,O),o=a+e.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?s+="'+\n((__t=("+i+"))==null?'':__t)+\n'":r&&(s+="';\n"+r+"\n__p+='"),e})),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(e.variable||"obj","_",s)}catch(t){throw t.source=s,t}var a=function(t){return i.call(this,t,h)},l=e.variable||"obj";return a.source="function("+l+"){\n"+s+"}",a},result:function(t,e,n){Ht(e)||(e=[e]);var i=e.length;if(!i)return Bt(n)?n.call(t):n;for(var r=0;r<i;r++){var o=null==t?void 0:t[e[r]];void 0===o&&(o=n,r=i),t=Bt(o)?o.call(t):o}return t},uniqueId:function(t){var e=++se+"";return t?t+e:e},chain:function(t){var e=h(t);return e._chain=!0,e},iteratee:D,partial:ae,bind:le,bindAll:ce,memoize:function(t,e){var n=function(i){var o=n.cache,s=""+(e?e.apply(this,arguments):i);return r(o,s)||(o[s]=t.apply(this,arguments)),o[s]};return n.cache={},n},delay:ue,defer:de,throttle:function(t,e,n){var i,r,o,s,a=0;n||(n={});var l=function(){a=!1===n.leading?0:Zt(),i=null,s=t.apply(r,o),i||(r=o=null)},c=function(){var c=Zt();a||!1!==n.leading||(a=c);var u=e-(c-a);return r=this,o=arguments,u<=0||u>e?(i&&(clearTimeout(i),i=null),a=c,s=t.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(l,u)),s};return c.cancel=function(){clearTimeout(i),a=0,i=r=o=null},c},debounce:function(e,n,i){var r,o,s=function(t,n){r=null,n&&(o=e.apply(t,n))},a=t((function(t){if(r&&clearTimeout(r),i){var a=!r;r=setTimeout(s,n),a&&(o=e.apply(this,t))}else r=ue(s,n,this,t);return o}));return a.cancel=function(){clearTimeout(r),r=null},a},wrap:function(t,e){return ae(e,t)},negate:I,compose:function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},after:function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},before:$,once:he,findKey:F,findIndex:fe,findLastIndex:pe,sortedIndex:N,indexOf:ge,lastIndexOf:me,find:B,detect:B,findWhere:function(t,e){return B(t,C(e))},each:j,forEach:j,map:R,collect:R,reduce:ve,foldl:ve,inject:ve,reduceRight:ye,foldr:ye,filter:Y,select:Y,reject:function(t,e,n){return Y(t,I(E(e)),n)},every:q,all:q,some:V,any:V,contains:U,includes:U,include:U,invoke:be,pluck:G,where:function(t,e){return Y(t,C(e))},max:X,min:function(t,e,n){var i,r,o=1/0,s=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,l=(t=Gt(t)?t:g(t)).length;a<l;a++)null!=(i=t[a])&&i<o&&(o=i);else e=E(e,n),j(t,(function(t,n,i){((r=e(t,n,i))<s||r===1/0&&o===1/0)&&(o=t,s=r)}));return o},shuffle:function(t){return Q(t,1/0)},sample:Q,sortBy:function(t,e,n){var i=0;return e=E(e,n),G(R(t,(function(t,n,r){return{value:t,index:i++,criteria:e(t,n,r)}})).sort((function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index})),"value")},groupBy:we,indexBy:xe,countBy:Ce,partition:_e,toArray:function(t){return t?Ht(t)?ht.call(t):St(t)?t.match(ke):Gt(t)?R(t,x):g(t):[]},size:function(t){return null==t?0:Gt(t)?t.length:u(t).length},pick:Se,omit:Te,first:tt,head:tt,take:tt,initial:J,last:function(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:et(t,Math.max(0,t.length-e))},rest:et,tail:et,drop:et,compact:function(t){return Y(t,Boolean)},flatten:function(t,e){return L(t,e,!1)},without:Ee,uniq:nt,unique:nt,union:Me,intersection:function(t){for(var e=[],n=arguments.length,i=0,r=Ut(t);i<r;i++){var o=t[i];if(!U(e,o)){var s;for(s=1;s<n&&U(arguments[s],o);s++);s===n&&e.push(o)}}return e},difference:De,unzip:it,transpose:it,zip:Ae,object:function(t,e){for(var n={},i=0,r=Ut(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},range:function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r},chunk:function(t,e){if(null==e||e<1)return[];for(var n=[],i=0,r=t.length;i<r;)n.push(ht.call(t,i,i+=e));return n},mixin:ot,default:h});return Oe._=Oe,Oe})),function(){var t;this.AddTImerUse=function(){},this.DurationCalculator=function(t){return null==t&&(t="[data-behavior='calculate_duration']"),$(t).each((function(){var t,e,n;return n=$($(this).data("start-time")),e=$($(this).data("end-time")),t=$(this),$(n).on("input",(function(){return t.html(Math.round(100*e.val()-100*n.val())/100)})),$(e).on("input",(function(){return t.html(Math.round(100*e.val()-100*n.val())/100)}))}))},this.TimeDurationCalculator=function(e){return null==e&&(e="[data-behavior='calculate_time_duration']"),$(e).each((function(){var e,n,i;return i=$($(this).data("start-time")),n=$($(this).data("end-time")),e=$(this),$(i).on("input",(function(){return e.html(t(i.val(),n.val()))})),$(n).on("input",(function(){return e.html(t(i.val(),n.val()))}))}))},this.usage_edit_warning=function(){return swal({tite:"Warning",text:"Editing this entry may affect previously reconciled accounting transactions.",type:"warning",keydownListenerCapture:!0,toast:!0,position:"top-end",backdrop:!1})},this.remove_bookable_usage=function(t){var e,n,i;e=$("section[data-bookable='"+t+"']  input[id$=_destroy]"),n=$("section[data-bookable='"+t+"']  input[type=hidden]"),i=$("section[data-bookable='"+t+"']  input.hidden_destroy"),e.prop("checked",!0),i.val(!0),e.attr("hidden",!0),n.attr("hidden",!0),$("[data-bookable='"+t+"']").remove(),$("#usage-tabset").append(e),$("#usage-tabset").append(n),$("#usage-tabset").append(i)},t=function(t,e){var n;return e=new Date(e),t=new Date(t),n=(e.getTime()-t.getTime())/1e3,n/=3600,Math.round(10*n)/10},this.check_form_required_fields=function(){return $(".check_required").on("change",(function(){var t,e,n;return n="#"+$(this).attr("id").replace("_destroy","start_time"),e="#"+$(this).attr("id").replace("_destroy","end_time"),t="#"+$(this).attr("id").replace("_destroy","duration"),this.checked?($(n).attr("required",!0),$(e).attr("required",!0),$(t).attr("required",!0)):($(n).attr("required",!1),$(e).attr("required",!1),$(t).attr("required",!1))}))},this.usage_form_submit_validation=function(){return $("form button[name='submit']").click((function(){var t,e,n,i,r,o,s,a;for(i=(n=$("form.validatable-form"))[0].checkValidity(),$(".tab-labels label").removeClass("invalid"),r=0,o=(a=n[0].elements).length;r<o;r++)(e=a[r]).validity.valueMissing?(t=$(e).parents(".tab-panel").data("bookable"),s=$('.tab-labels label[data-bookable="'+t+'"]'),$(e).addClass("error"),$(s).addClass("invalid")):$(e).removeClass("error");i||swal({title:"Incomplete data...",html:"Please enter all required values",type:"error",backdrop:!1,toast:!0,position:"top-end"})}))}}.call(this),function(){this.swap_values=function(t,e){var n;n=$(e).val(),$(e).val($(t).val()),$(t).val(n),$(t).trigger("change"),$(e).trigger("change")},this.swap_values_trigger=function(t){return null==t&&(t="[data-swap-values]"),$(t).on("click",(function(){var e,n;return e=$(t).data("swap1"),n=$(t).data("swap2"),swap_values(e,n)}))},this.credit_field_trigger=function(){return $("[data-credit-field]").on("change",(function(t){var e,n;return n=(e=t.currentTarget.id).replace(/credit/,"debit"),$("#"+n).val(""),n=e.replace(/credit_amount/,"type"),$("#"+n).val("Plutus::CreditAmount")}))},this.debit_field_trigger=function(){return $("[data-debit-field]").on("change",(function(t){var e,n;return n=(e=t.currentTarget.id).replace(/debit/,"credit"),$("#"+n).val(""),n=e.replace(/debit_amount/,"type"),$("#"+n).val("Plutus::DebitAmount")}))},this.ajaxget=function(t,e){var n;return null==e&&(e={}),n={method:"GET",dataType:"script",url:t,error:function(t,e,n){return console.debug(t,e,n),swal("An error occurred",ajaxError(t.status),"error")}},n=$.extend(n,e),$.ajax(n)},this.ajax_into_target=function(t,e){return $.get(t,(function(t){return $(e).html(t)}))},this.ajax_replace_target=function(t,e){return $.get(t,(function(t){return $(e).replaceWith(t)}))},this.ajaxError=function(t){return{0:"Unable to connect to server.",400:"Server understood the request, but request content was invalid.",401:"Unauthorized access.",403:"Forbidden resource can't be accessed.",500:"Internal server error.",503:"Service unavailable."}[t]},this.swalconfirm=function(t,e,n){return null==e&&(e="Are you sure?"),null==n&&(n=""),swal({title:e,text:n,type:"question",showCancelButton:!0}).then((function(e){return!0===e.value&&t.submit(),!1}))},this.detect_form_poppers=function(){return $(document).on("change",'input[rel~="form:pop"]',(function(){return $(this).closest("form").submit()}))},this.fade_out_and_remove=function(t){$(t).fadeOut(300,(function(){return $(this).remove()}))}}.call(this),function(){this.job_status=function(t){var e,n,i;return i=$("#progress_"+t),e=$("#jobstatus_"+t),n=$("#jobtitle_"+t),$.ajax({url:"/status_worker",data:{job_id:t},success:function(r){var o,s,a;return o="width: "+(a=r.at/r.total*100)+"%;","queued"===r.status?e.html("waiting in queue<br/>"):(i.attr("style")!==o&&(i.attr("style",o),e.prepend(r.message+"<br/>")),r.job_title&&n.html(r.job_title)),a>=100?($("#spin_"+t).hide(),s="","complete"===r.status?(s+="<p class='success-text'>",s+="<i class='fa fa-check'></i>&nbsp;"):(s+="<p class='alert-text'>",s+="<i class='fa fa-warning'></i>&nbsp;"),s=s+"<strong>"+r.status+"</strong></p>",r.url&&(s=s+"<a target='_blank', href='"+r.url+"'>"+r.link+"</a>"),e.prepend(s)):setTimeout(job_status,2500,t)}})}}.call(this),$((function(){$("#topmenu").scrollToFixed({zIndex:3,marginTop:0}),AjaxPopover(".menupopover",{container:"#layout",placement:"bottom-right",tether:!0}),AjaxPopover(".ajaxpopover",{container:"#layout"}),AjaxPopover(".layoutpopover",{container:"#layout",tether:!0}),$(".inline-popover").webuiPopover(),AjaxGlobalSetup(),Selectize.defaults.loadThrottle=100,default_tipster(".tipster"),menu_detection(),detect_form_poppers(),popover_detection(),init_fragments(),async_delete_detection()}));